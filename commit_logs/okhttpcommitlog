commit 5393de3e3741edbe905681a32281f270f18e356b
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Wed Nov 22 09:59:48 2017 +0000

    Assertion error super careful (#3696)
    
    * Assertion error super careful
    
    * Update UtilTest.java

commit 52cf4d8938a63bde483782f7c2d3010949f8a0a2
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Nov 18 14:46:36 2017 -0500

    Update Changelog for 3.9.1

commit 2bb2dc4340f59751031771d8adc85bff1ed3a34e
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Nov 18 14:38:02 2017 -0500

    [maven-release-plugin] prepare for next development iteration

commit 23b6f7556d7df15ac3e832bdf85d940b6e50989e
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Nov 18 14:37:50 2017 -0500

    [maven-release-plugin] prepare release parent-3.9.1

commit a4878313c5d1b3671b0c9c050d6724b781091299
Merge: a792fec d73bc96
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Nov 17 19:32:59 2017 -0500

    Merge pull request #3692 from yschimke/alpnversions
    
    new JDK releases, add alpn-boot versions

commit d73bc9625acc0c152c2ac5ca3ec68ada579a9530
Author: Yuri Schimke <yschimke@fb.com>
Date:   Sat Nov 18 08:21:05 2017 +0800

    new JDK releases, add alpn-boot versions

commit a792fec95f81e14fd9678807683f9fb36066648e
Merge: fc93011 c310d27
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Nov 17 16:30:34 2017 -0500

    Merge pull request #3691 from yschimke/workaround_broken_dns_behaviour
    
    workaround broken system dns behaviour

commit c310d27440bd58c23a8cb7795fe1e9514488c962
Author: Yuri Schimke <yschimke@fb.com>
Date:   Fri Nov 17 19:02:26 2017 +0800

    workaround broken system dns behaviour

commit fc930117626e88914b2b2c6a72c9841ba4b5a8a4
Merge: d9091b3 a1c44a9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 5 17:28:47 2017 -0500

    Merge pull request #3674 from EricEdens/master
    
    Ensure encodedQuery doesn't include the URL's fragment

commit a1c44a9e2800ec199d8bf0af4cea7ef1390c6da0
Author: Eric Edens <eric.edens@gmail.com>
Date:   Sat Nov 4 20:39:02 2017 -0700

    Ensure encodedQuery doesn't include the URL's fragment

commit d9091b357bb74ba72b57953d2dfc7bcbbd099533
Author: Eric Cochran <Eric@NightlyNexus.com>
Date:   Wed Oct 11 11:19:41 2017 -0700

    Update ProGuard config to account for resource loading.

commit aed222454743ebe5724d6ad438fafed37956521e
Author: Markéta Lisová <themarketka@gmail.com>
Date:   Mon Sep 25 10:05:25 2017 +0200

    Add workaround for https://issuetracker.google.com/issues/63649622 (#3624)
    
    * Add workaround for https://issuetracker.google.com/issues/63649622
    
    This fixes #3438
    
    * Rethrowing the Android O bug CCE as IOException

commit 525db987a553634e3592b18064bbedc5a7ed76c4
Merge: 3fe86b3 dffec3e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 18 01:45:30 2017 -0400

    Merge pull request #3613 from yschimke/hardcoded
    
    Hardcode header limit to 256 KiB

commit dffec3e547194f54f90bd393b61968fb10fbbe98
Author: Yuri Schimke <yschimke@fb.com>
Date:   Mon Sep 18 06:16:36 2017 +0100

    256 KiB always

commit 3fe86b348e3a17d0ab782cd5b4ca3c20f80e80f0
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sun Sep 17 20:38:40 2017 +0100

    256kB header limit (#3602)
    
    * 100k header limit
    
    * 256k limit

commit 1d9c158a96382facc3be672f6b41dc79fb5eb48b
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sun Sep 17 20:35:44 2017 +0100

    Platform cleanup - move trust manager building internal (#3611)
    
    * Platform cleanup move trust manager building internal
    
    * typo
    
    * missing commit

commit 7e040c094576463ec6324d012cbad8768ce3d767
Merge: b926a03 d6fd0d3
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Sep 12 09:10:17 2017 -0400

    Merge pull request #3603 from square/yschimke-patch-1
    
    Fix travis build

commit d6fd0d3832907ff36789b89450df09320081fc66
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Tue Sep 12 08:32:24 2017 +0100

    Fix travis build

commit b926a030c628e9014ef2ab6b63515f2f3df0fa20
Author: jwilson <jwilson@squareup.com>
Date:   Wed Sep 6 12:11:37 2017 -0400

    Add samples for EventListener

commit dcabf48ecc91e005d56b97887beb8eaa33ec7c3d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 4 18:05:39 2017 -0400

    3.9.0 is out

commit 51311219afb81b7fda0e78f8e08af2ad18bfb83a
Author: jwilson <jwilson@squareup.com>
Date:   Mon Sep 4 17:00:21 2017 -0400

    [maven-release-plugin] prepare for next development iteration

commit 51663fd08f1670c5d55fdc5b8b0bd5e326054a4e
Author: jwilson <jwilson@squareup.com>
Date:   Mon Sep 4 17:00:16 2017 -0400

    [maven-release-plugin] prepare release parent-3.9.0

commit 1596e57ba00c282ab029551f355365971a30ea67
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 4 16:55:41 2017 -0400

    Fix some strict Javadoc HTML rules in EventListener (#3581)

commit 6fab1a323bd54d4468a903ffec66839dd7c61c5e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 4 16:16:45 2017 -0400

    Add a prerelease warning to EventListener (#3580)

commit c323eb28147499a872fdbc0979264c9f0fd853cd
Author: Warren Smith <sharpsw@gmail.com>
Date:   Mon Sep 4 11:57:35 2017 -0700

    Add 'of' to Connection JavaDoc. (#3579)

commit 2696b4a4391423953f169f6e8dbb6b2b4f71b91b
Author: jwilson <jwilson@squareup.com>
Date:   Mon Sep 4 14:47:53 2017 -0400

    More changelog copy editing.

commit b6aa9fe7825c56b1c3820c45f3bbb719dbc21e7f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 4 02:39:46 2017 -0400

    Add tests to demonstrate events bugs (#3578)

commit c0f3652167b7364d4c8d87cfe11deb664560c6cb
Author: jwilson <jwilson@squareup.com>
Date:   Sun Sep 3 23:40:11 2017 -0400

    Copy-edit the updated changelog

commit 360b2d40ee27149078b613239cd8943a1dc5e757
Author: jwilson <jwilson@squareup.com>
Date:   Sun Sep 3 23:37:08 2017 -0400

    Update the changelog for 3.9.0.

commit 3646138247488c9832a7f325401fe0b12fcdbebf
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Sep 3 19:35:56 2017 -0400

    Don't summarize the request and response headers. (#3576)
    
    Just pass the Request and Response objects in directly.

commit 6cddc8973a88197141f4c666175205996f561c68
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sat Sep 2 11:05:43 2017 +0100

    Close all Response in samples (#3574)

commit 33d31d073ee451a3848192a4737cc06ab83cbfd6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Sep 1 17:27:26 2017 -0400

    Improve handling of HEAD requests with a Content-Length specified. (#3572)
    
    Rather than getting the content length from a header on demand, this gets it
    at the time that the RealResponseBody is created. This means that HEAD requests
    can have a non-zero Content-Length header while their bodies have no content.
    
    Closes: https://github.com/square/okhttp/issues/3365

commit 6663f063e6a7dfbc02985d3a86c36a675347d3ae
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Sep 1 12:48:55 2017 -0400

    The WebSocketWriter is single-threaded. (#3571)
    
    We were synchronizing to permit multiple writer threads. But that was a carry-over
    from the previous design where we supported multiple writer threads. With the
    current implementation only one thread writes at a time. This synchronization
    was not necessary.

commit a95ec06a5037f7ca84f4f596397ce6090734c59b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Sep 1 12:39:24 2017 -0400

    Fix a race in WebSocketHttpTest. (#3570)
    
    We were assuming on a client failure the server wouldn't have any
    further events. But it will get a failure if we give it a moment.
    This was causing some test flakiness.

commit 77471444ec81ad9452ebde7ca2b58db58a1f77d1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Sep 1 01:40:37 2017 -0400

    Don't report connectionAcquired until actually connected. (#3566)
    
    Currently our implementation acquires the connection early so that we have
    something to close if the call is canceled. Event listeners are simpler if
    they only get a connectionAcquired event once the connection has been
    actually established.

commit 6f029dd3de6903aedc680375106b459e406874c9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Aug 31 21:33:47 2017 -0400

    Fix MockWebServer websockets to be thread safe. (#3567)
    
    Closing the sink while another thread is writing the sink is a
    potential source for races.
    
    Closes: https://github.com/square/okhttp/issues/3138

commit 9f8200d1e0f79649d0c5d55db669971f35322ea9
Merge: abe5d62 b3ecb0a
Author: jwilson <jwilson@squareup.com>
Date:   Thu Aug 31 16:26:28 2017 -0400

    Merge branch 'jwilson.0830.charset_challenge'
    
    * jwilson.0830.charset_challenge:
      Add charset support for RFC 7617 challenges

commit b3ecb0a6c9bf3a213377b889f2b3077a940363e2
Author: Erik Ghonyan <erik.ghonyan@gmail.com>
Date:   Mon Jan 30 00:29:02 2017 +0400

    Add charset support for RFC 7617 challenges

commit abe5d62bcf18781c4b32418932f60e62cfea1703
Author: Dave Roberge <drobe12@gmail.com>
Date:   Thu Aug 31 16:09:14 2017 -0400

    Recover from an already-allocated connection that restricts new streams. (#3525)
    
    This is an edge case that can occur with HTTP/2. Since multiple requests
    use the same connection, it's possible for one request to restrict the
    connection from creating new streams during a follow-up request.
    
    https://github.com/square/okhttp/issues/3521

commit 314b40d9c5ae6e922f00fda3e867658c7edfc2db
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Thu Aug 31 08:24:26 2017 +0100

    Failed, second connection and call.enqueue EventListener tests (#3562)
    
    * more tests
    
    * cleanup
    
    * review comments
    
    * fix flaky test

commit a73c21771777ffd29e1d7ce296b252a324350284
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Aug 30 22:03:34 2017 -0400

    Fix IPv6 handling for cookies (#3564)

commit e5f50b5bc65e71378d9a054891328815b52c1f40
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Aug 30 22:03:09 2017 -0400

    Fix MockWebServer handling of 'Expect: 100 Continue' (#3563)
    
    Previously we'd skip the request body unless the socket policy was
    EXPECT_CONTINUE.
    
    Closes: https://github.com/square/okhttp/issues/3498

commit 207f5579d3d907589bbe3641c5c25326e1571722
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Aug 30 18:25:44 2017 -0400

    Omit the message from MockWebServer's HTTP/2 :status header (#3556)
    
    This was a bug carried over from SPDY.
    
    Closes: https://github.com/square/okhttp/issues/3484

commit ee5cf502889ed896a67dac57662d19bc469bb876
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Aug 30 15:10:51 2017 -0400

    Update some comments to point at current RFCs (#3561)
    
    https://github.com/square/okhttp/issues/930

commit 57891fe021e9012adb0c2a4345a5b717c2c84ddb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Aug 30 15:00:06 2017 -0400

    Crash early if any interceptor is null. (#3555)
    
    Closes: https://github.com/square/okhttp/issues/3514

commit 36bd68aa3e93affb12504cd40454e64c6812019c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Aug 30 14:05:13 2017 -0400

    New API, Chain.call() returns the in-flight call. (#3557)
    
    Interceptors could use this to detect if the call has been canceled, or
    cancel the call, or do other things.

commit 16f43b6439df920e04d338bcd5651067e840c1e2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Aug 30 14:04:53 2017 -0400

    Don't log a protocol when it is unknown. (#3558)
    
    Closes: https://github.com/square/okhttp/issues/3395

commit 1801d0cb2c7132a97c3e9c011a8546f883dfcf12
Author: Jared Burrows <jaredsburrows@gmail.com>
Date:   Wed Aug 30 11:04:34 2017 -0700

    update proguard rules on README.md (#3559)

commit c77023cd0369c679bf217506ae21d429e6e81bdf
Author: Stuart Neivandt <sneivandt@users.noreply.github.com>
Date:   Wed Aug 30 09:22:58 2017 -0500

    Test Failure in MockWebServerTest (#3547)
    
    * Lookup the FQDN given the MockWebServer hostname to compare with the HttpUrl hostname. Issue #3546.
    
    * Update MockWebServer to use the FQDN for its host name. Issue #3546.

commit 9b0d19f913465483d0942558eb21e37868040050
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Aug 30 01:14:21 2017 -0400

    Don't call callEnd until after the responseBody is done (#3551)

commit c254a9a6bff57f5258f322ca277f5e3530564e09
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Aug 30 01:13:19 2017 -0400

    Don't fire events for Web Sockets. (#3552)
    
    We probably want to support this, but at the moment it isn't yet
    tested. Turn it off until we get something we really like.

commit 1c98464839434a0fe7c7581cdae44bd3f2e6edd3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Aug 29 16:14:32 2017 -0400

    Move all failures into connectFailed and callFailed. (#3550)
    
    I think applications might be simple by tracking successful events
    separately from failure events.

commit cdc48ba8b0e4bdfccc208985bfef200220096d9d
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Mon Aug 28 17:35:03 2017 +0100

    IOException instead of Throwable in EventListener API (#3543)

commit 3aca55d22898cef23f66241618cf27356416f4b7
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sun Aug 27 15:32:09 2017 +0100

    add fail (#3545)

commit ee7b608745fb3d83b9cad00ec96874e0db3d51de
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sun Aug 27 07:30:17 2017 +0100

    More debug for possible but unlikely assertion failures (#3541)

commit e37c7a2993745f048e5e8cea82be115a9d875351
Merge: b52b3c7 009d68d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Aug 27 01:51:15 2017 -0400

    Merge pull request #3544 from yschimke/static_class
    
    Use a static sink class

commit 009d68db54952062d1303083efe3686545e0a86e
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sun Aug 27 06:31:01 2017 +0100

    static sink class

commit b52b3c78ebfc185fee0d281228a643a371af165c
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sat Aug 26 19:43:58 2017 +0100

    EventListener payload bytes and header sizes in chars (#3532)
    
    * API in place, some tests, but some -1 sent
    
    * typo
    
    * header length and temporarily the request length if known
    
    * reformat
    
    * fix TODOs
    
    * missing re-throw
    
    * remove todo
    
    * count request body bytes
    
    * rename l -> value

commit ec00713d5c22175249a359c3ffd0fe0d2692b0df
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sat Aug 26 05:31:36 2017 +0100

    Remove WebSocket API support for optional close code (#3540)
    
    Remove public API support for optional close code (0)

commit 2e934cff3fd3fabd1a21af714c575ce4dac8809f
Merge: 7489193 cd22113
Author: jwilson <jwilson@squareup.com>
Date:   Mon Aug 14 13:44:42 2017 -0400

    Merge branch 'ifedorenko-http2-multithreaded-goaway-hang'
    
    * ifedorenko-http2-multithreaded-goaway-hang:
      Fix occasional hang with http2 goaway frames

commit cd22113332cdeeedac8d6bda3297194f983b4aaf
Author: Igor Fedorenko <ifedorenko@salesforce.com>
Date:   Thu Aug 10 15:41:08 2017 +0300

    Fix occasional hang with http2 goaway frames
    
    Http2Connection was dropping headers of healthy streams
    after GOAWAY frame.
    
    Fixes #3422
    
    Signed-off-by: Igor Fedorenko <ifedorenko@salesforce.com>

commit 7489193d5953bfba8c892e5aa98624e4ec73dbde
Author: Dave Roberge <drobe12@gmail.com>
Date:   Mon Aug 14 10:29:28 2017 -0400

    Rename fetchStart/fetchEnd to callStart/callEnd. (#3522)

commit da4e249b7339c9d6e94535fcee63de0bada8f944
Author: Nicolás Lichtmaier <nico.lichtmaier@gmail.com>
Date:   Sat Aug 12 13:17:36 2017 -0300

    Allow using a charset other than UTF-8 for creating urlencoded form bodies. (#3518)
    
    * Allow using an encoding other than UTF-8 for creating urlencoded request form bodies.
    
    This is useful when accessing a web server you don't control which receives form data
    encoded in a charset other than UTF-8 (e.g. ISO-8859-1).
    
    To use this you pass an encoding to FormBody.Builder constructor. The constructor is used so
    it's clear you shouldn't switch encodings in the middle of building a form body.
    
    The result is undefined is a character cannot be encoded in the specified charset (as the
    result of Java's String.getBytes(charset) is also undefined in that case.
    
    * Update HttpUrl.java

commit 13d81f8d1b6ea1144a4a0bbbbbe03f390440f257
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Aug 7 16:55:54 2017 -0400

    Test event listeners on request body failures (#3511)

commit ed7709dbe1599ff4e2fa0c65962528464ce54aca
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Aug 7 09:50:16 2017 -0400

    Correctly report response body stream failures with HTTP/2. (#3508)

commit dd757b677395268b92c9f8f38d3d28729487142a
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sun Aug 6 22:35:02 2017 +0100

    minor cleanup of EventListener formatting (#3509)
    
    * minor cleanup of EventListener formatting
    
    * remove awkward plural
    
    * fix websocket line length

commit bf01d510f7373f26854e7ce9abaac62ecb2c41fc
Author: Adrian Pascu <adi1133@users.noreply.github.com>
Date:   Sun Aug 6 22:19:41 2017 +0300

    Update JavaDoc for WebSocketListener (#3288)

commit 76b7d585e03b78725f8a276714b233a14cd9c217
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sun Aug 6 20:19:03 2017 +0100

    Handle h2 vs http/1.1 event ordering differences (#3504)
    
    * Handle h2 vs http/1.1 event ordering differences
    
    * remove sout
    
    * additional test case
    
    * dont change client, change server protocols
    
    * refactor test

commit f9de004f90d5535a2714c2f58c3bf7cad56a6f04
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sun Aug 6 16:19:09 2017 +0100

    Event docs (#3505)
    
    * Event docs
    
    * update docs

commit 54b583ed57ef1be8a56c346f3c466f3d00b37e4c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Aug 6 11:18:27 2017 -0400

    Don't call EventListener methods while holding locks. (#3503)

commit d26f6bf876257ecd25c10daae98a7cc51bbe2a8c
Author: Dave Roberge <drobe12@gmail.com>
Date:   Sun Aug 6 11:16:13 2017 -0400

    Mark remaining @Nullable arguments in EventListener. (#3506)

commit 3b878299e7ab60e92669ddb9c222cbfda67ff038
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Aug 5 17:49:32 2017 -0400

    Use endOfInput() to trigger the end of the response body. (#3502)
    
    This removes the decorator and uses the existing superclass instead.

commit 0d1163dcded8f234576b478696001dbac7edf5fe
Author: Dave Roberge <drobe12@gmail.com>
Date:   Sat Aug 5 17:26:59 2017 -0400

    Honor retryOnConnectionFailure on a client request timeout. (#3500)
    
    * Improve variable name in RouteSelector.
    
    * Honor retryOnConnectionFailure on a client request timeout.
    
    Also limit the number of retry attempts. This functionality is
    consistent with how Chrome handles 408's presently.
    
    Closes: https://github.com/square/okhttp/issues/3483

commit 51ca7c55da6fac733eb08a613c1c614ad2e66b5f
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sat Aug 5 21:25:04 2017 +0100

    Complete EventListener (#3476)
    
    
    
    * more docs
    
    * cleanup
    
    * log events
    
    * check end events and connectionReleased
    
    * change connectEnd signature
    
    * move response body events to codec
    
    * revert small changes
    
    * revert incidental change

commit 2d5583051f993467b3fa7dc954bbf2fed3186d97
Author: Warren Smith <sharpsw@gmail.com>
Date:   Wed Aug 2 12:51:26 2017 -0400

    Check for DSP to enable ALPN. (#3490)
    
    * Check for DSP to enable ALPN.
    
    * Move ducktyped method references into method body.
    
    * Add static check that determines if ALPN is supported.

commit 2f1e59e16792f4204dd5d03482b4bdc67554d7d6
Author: Sebastian Schuberth <sschuberth@users.noreply.github.com>
Date:   Tue Aug 1 21:14:38 2017 +0200

    Travis: Remove the duplicate addons directive (#3492)

commit 685f458030b07849f7a703438651e9919e885252
Author: dc <packetpilot@users.noreply.github.com>
Date:   Mon Jul 31 18:58:34 2017 -0700

    build success on u141 & u144 (#3489)

commit 29267ac4e8eae099064483dc4c4b246690a92009
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sat Jul 29 15:32:37 2017 +0100

    Fill out documentation for EventListener (#3475)
    
    * Fill out documentation for EventListener
    
    * rename connectionFound
    
    * tests for connectionFound updated
    
    * cleanup
    
    * address comment on body calls
    
    * Update EventListener.java
    
    * connect end event added a Proxy to match against start event

commit 85168a14c53fff360d89fe88856ac0072374f434
Author: Dave Roberge <drobe12@gmail.com>
Date:   Sat Jul 29 09:49:38 2017 -0400

    Consider all routes when looking for candidate coalesced connections. (#3462)
    
    Previously we'd only look at one route at a time. If DNS returned
    results in random order it would lower our chances of finding a
    coalesced connection. Now we consider all routes at once which hopefully
    improves our chances.

commit d1b21e1913bd52c0d40331e3d72d0ba1b3fbb3ce
Merge: 1d8233d 0d069f3
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jul 27 00:21:07 2017 +0100

    Merge pull request #3481 from NightlyNexus/patch-1
    
    Prefer ByteString.encodeString.

commit 0d069f3b7bc524320fc76051408384f8ece77412
Author: Eric Cochran <Eric@NightlyNexus.com>
Date:   Wed Jul 26 14:39:32 2017 -0700

    Prefer ByteString.encodeString.
    
    This saves cloning the byte array because the byte array can't be modified by the caller.

commit 1d8233ddb7a0dfa490a340a06433909148f21610
Author: ericaschulz <ericalynnschulz@gmail.com>
Date:   Sun Jul 23 17:59:12 2017 -0500

    Added new method ConnectTimeout() on Interceptor.Chain (#3451)

commit b5314c1ec53492d1118c3e11b27658643b76e831
Author: Dave Roberge <drobe12@gmail.com>
Date:   Fri Jul 14 14:36:14 2017 -0400

    Include and implement connection found event. (#3459)

commit d4a9cf4772ae9d8991e58d934dea433798c9b8eb
Author: Maxim Shafirov <max@jetbrains.com>
Date:   Sun Jul 9 07:30:01 2017 +0300

    `response` receives null explicitly from several catch clauses => Fix nullability (override default parameter nullability set at package-info). (#3449)

commit 640de61cb9a17a1c9f3851a46a7f6184acc71d15
Author: ericaschulz <ericalynnschulz@gmail.com>
Date:   Sat Jul 8 12:12:15 2017 -0500

    Added new method WriteTimeout() on Interceptor.Chain (#3450)

commit c7d508b79c9e201c91ec23f5eec47c18be206567
Author: Dave Roberge <drobe12@gmail.com>
Date:   Thu Jul 6 09:55:04 2017 -0400

    Add support for connect start/end events. (#3434)

commit 58e531da6994d7fdf7a75529feaf849113d31f5a
Author: Chris Cunniff <ccunniff@gmail.com>
Date:   Mon Jul 3 15:06:00 2017 -0400

    Add missing test for MockResponse setHeaders (#3443)

commit a32b1044a480aabbf4716d5c90b907c5ec46056c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jul 3 00:10:31 2017 +1000

    New method, withReadTimeout(), on Interceptor.Chain (#3432)

commit a5a597af9733f08b864ccb0e4ec8652143fa1b35
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sun Jun 25 04:01:08 2017 +0100

    Avoid android specific code for TrustRootIndex (#3428)
    
    * Avoid android code on other platforms
    
    * cleanup
    
    * line length

commit 78e368ba87a7ddcc14f84124cdaaabec0aa8a698
Merge: 33109cd cf7b7ed
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jun 23 10:24:34 2017 -0400

    Merge pull request #3425 from square/dr.0623.event-docs
    
    Add more detail to dns/secure event docs; confirm it with test cases.

commit cf7b7edb85f7e61462d1f8c3cc8292dbc67b6ce0
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Fri Jun 23 09:11:37 2017 -0400

    Add more detail to dns/secure event docs; confirm it with test cases.

commit 33109cd8e1c2d1d579f0fdb7c0202555bc524444
Merge: 9bfe575 5fb5ab5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jun 21 23:03:44 2017 -0400

    Merge pull request #3419 from square/dr.0620.secure-events
    
    Added support for secure connect events.

commit 9bfe575960af8e7bb164642f2f513b5ccb39ff4f
Merge: 6eddff6 8b0714b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jun 21 22:53:58 2017 -0400

    Merge pull request #3421 from electrum/publicsuffix
    
    Use relative resource path for public suffix database

commit 8b0714b5c028b85643a3eca5fbdecbb37089a723
Author: David Phillips <david@acz.org>
Date:   Wed Jun 21 12:37:05 2017 -0700

    Use relative resource path for public suffix database
    
    Loading the resource using a path relative to the class prevents conflicts
    when the okhttp classes are relocated (shaded) by allowing multiple
    private copies of the database.

commit 5fb5ab50a77efc761489493d4a0b8b9de85feec7
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Tue Jun 20 09:08:49 2017 -0400

    Added support for secure connect events.
    
    https://github.com/square/okhttp/issues/270

commit 6eddff67672879a8468ddbb08e1b93aa3ce37c6c
Merge: 7cc8fed a9942c7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jun 18 13:39:39 2017 -0400

    Merge pull request #3415 from NightlyNexus/patch-1
    
    Fix code reference in Javadoc.

commit 7cc8fed937d416d5c33ec3044479ae2a598e62d8
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 18 13:21:55 2017 -0400

    Release OkHttp 3.8.1 with the connection coalescing fix.

commit 243b348b58ce9ce8efd139830b0bd304a76ba8c2
Merge: 15f7ffc 7131fb2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jun 18 12:41:03 2017 -0400

    Merge pull request #3410 from square/dr.0616.event-listener
    
    Make EventListener public and begin implementing Dns events.

commit 7131fb250c34882c32f084c5b01a28ad0b6de25c
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sat Jun 17 11:35:20 2017 -0400

    Make EventListener public and begin implementing Dns events.

commit a9942c7c902a4ecc3c96b97b34737c54b07b48d2
Author: Eric Cochran <Eric@NightlyNexus.com>
Date:   Sun Jun 18 02:53:20 2017 -0700

    Fix code reference in Javadoc.

commit 15f7ffcd549074754a1369824ca846ff1cbc43ab
Merge: 19a7b15 5f1a1b9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 17 09:28:46 2017 -0400

    Merge pull request #3413 from NightlyNexus/eric.0613.null-response-body
    
    Disallow Interceptor responses with no bodies.

commit 5f1a1b9e62975dd9a4d423acfd9c0de0cd2a534c
Author: Eric Cochran <Eric@NightlyNexus.com>
Date:   Fri Jun 16 21:42:51 2017 -0700

    Disallow Interceptor responses with no bodies.

commit 19a7b15e4361c2452eb633d489bb0c1ad9fa2c3b
Merge: c5db5b1 741811a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jun 15 10:30:58 2017 -0400

    Merge pull request #3408 from square/dr.0615.uninterruptible-public-suffix-list
    
    Treat reading the public suffix list as uninterruptible.

commit 741811aa73fbcb8ed84e0939f2d87d18331c6fe0
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Thu Jun 15 08:52:03 2017 -0400

    Treat reading the public suffix list as uninterruptible.
    
    Fixes: https://github.com/square/okhttp/issues/3404

commit c5db5b1a3189f858d1dadccd8845112191cdf880
Merge: 6ab3e0c db73cf2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 10 21:29:45 2017 -0400

    Merge pull request #3399 from square/jwilson.0610.fix_substring_matching
    
    Match the entire pattern on certificate pinner patterns.

commit db73cf23476a0a2472822755c98e5265783c3c28
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 10 17:46:18 2017 -0400

    Match the entire pattern on certificate pinner patterns.
    
    Closes: https://github.com/square/okhttp/issues/3324

commit 6ab3e0c7777956f0a5095d6b8ec47a84f88daebe
Merge: 7f053b0 c133700
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 10 14:18:11 2017 -0400

    Merge pull request #3398 from square/jwilson.0610.close_docs
    
    Clarify documentation on closing WebSockets and Responses.

commit c133700e32118c8c32516c5137ece684fee713bc
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 10 10:32:01 2017 -0400

    Clarify documentation on closing WebSockets and Responses.
    
    Closes: https://github.com/square/okhttp/issues/3383
    Closes: https://github.com/square/okhttp/issues/3386

commit 7f053b03c522ec5d5cc2a853cf3ab146eba25257
Merge: 0891a7d 3819ed0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jun 4 22:14:24 2017 -0400

    Merge pull request #3377 from ericgribkoff/experimental_settings_id
    
    Avoid index out of bounds with Http/2 settings id in the experimental range

commit 0891a7d1d018c2744e615870c21614991468442e
Merge: 73fe9a4 66b40c1
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 4 22:12:17 2017 -0400

    Merge branch 'ericaschulz-master'
    
    * ericaschulz-master:
      Updated CacheStrategy and CacheTest for immutable condition flag

commit 66b40c1b00fdc9b1cc2b863cc563fc7b68a57cf7
Author: ericaschulz <ericalynnschulz@gmail.com>
Date:   Sun Jun 4 22:07:28 2017 -0400

    Updated CacheStrategy and CacheTest for immutable condition flag

commit 73fe9a4d211b13bf5727fb390b3955c7b4760830
Merge: fad89a7 d3d4a1e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 26 09:47:28 2017 -0400

    Merge pull request #3370 from square/dr.0523.stale-coalesce
    
    Recover from a stale coalesced connection.

commit 3819ed03996f1497512bffb445f81398a0bbaa17
Author: Eric Gribkoff <ericgribkoff@google.com>
Date:   Thu May 25 15:24:49 2017 -0700

    Avoid NPE with Http/2 settings id in the experimental range

commit d3d4a1e6332cb9fa49d4aad2eca93a650ce39cc2
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Tue May 23 09:59:21 2017 -0400

    Recover from a stale coalesced connection.
    
    https://github.com/square/okhttp/issues/3308

commit fad89a786a6a19c78197b417f76bb0087fc95c71
Merge: 4ca520c f87d329
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 13 20:11:23 2017 -0400

    Merge pull request #3354 from talklittle/patch-1
    
    README: ProGuard changes for OkHttp 3.8.0

commit 4ca520c955c2ad9c699e31b2f13b28fcd341a72b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 13 20:02:11 2017 -0400

    Fix link for provided dependency

commit f87d32984dd9b1f5a7092b52dbecbafd784bd764
Author: Andrew Shu <talklittle@gmail.com>
Date:   Sat May 13 16:55:17 2017 -0700

    README: ProGuard changes for OkHttp 3.8.0

commit c7e0729b71b42564ad84e175705002ef55a22880
Merge: 304d2c9 8a9a370
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 13 11:12:54 2017 -0400

    Merge pull request #3353 from Egorand/egorand/3325
    
    #3325: Add proper fallback to parameterless isCleartextTrafficPermitted() method on API 23

commit 304d2c963077af6b42275bc87e1c95b1c8754bcc
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 13 10:58:15 2017 -0400

    [maven-release-plugin] prepare for next development iteration

commit cb981daecfe065c3a9afd3cbf4560de6d2f8b291
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 13 10:58:04 2017 -0400

    [maven-release-plugin] prepare release parent-3.8.0

commit a8bf90968db66d8307ec2f4343a0cbaa80fb5582
Merge: e5c84e1 e7e22fe
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 13 10:54:20 2017 -0400

    Merge pull request #3352 from square/jwilson.0513.javadoc_problems
    
    Fix Javadoc builds with the jsr305 dependency.

commit e7e22feb12244b455c8f4961d7eeab7cd21965fe
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 13 09:13:11 2017 -0400

    Fix Javadoc builds with the jsr305 dependency.
    
    Because multiple modules share a package we need to share the dependency on
    everything in package-info.java.

commit 8a9a3703a34439c53fd62055890755bda8d37a22
Author: Egor Andreevici <andreevich.egor@gmail.com>
Date:   Sat May 13 07:34:25 2017 -0700

    #3325: Add proper fallback to parameterless isCleartextTrafficPermitted() method on API 23

commit e5c84e1aef9572adb493197c1b6c4e882aca085b
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 13 08:04:14 2017 -0400

    Update changelog for OkHttp 3.8.

commit 9ce873ba7e3ff6a425b15cd33688640c39a106a9
Merge: 714765d 145dbd7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 12 15:46:58 2017 -0400

    Merge pull request #3351 from square/jw/2017-05-12/okio
    
    Okio 1.13.0

commit 145dbd74fdaa5712685a21c34098bcd11994ff29
Author: Jake Wharton <jw@squareup.com>
Date:   Fri May 12 15:36:04 2017 -0400

    Okio 1.13.0

commit 714765d9f114d0d8f59dd0bb7373e63daf8ecfee
Merge: e14817d 29d3b73
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 12 10:33:59 2017 -0400

    Merge pull request #3350 from ericaschulz/immutable_v2
    
    Add immutable to Cache Control

commit 29d3b73b89f18c1991cf52ab7a82a4e71acf07f7
Author: ericaschulz <ericalynnschulz@gmail.com>
Date:   Fri May 12 09:10:38 2017 -0500

    Add immutable to Cache Control

commit e14817d993c39c8a80747179bf8295b15d36372a
Merge: 63ee9b9 b8a0352
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 12 00:14:52 2017 -0400

    Merge pull request #3346 from githubsaturn/master
    
    Fix for NPE Crash due to a bug on Android 7.0

commit b8a0352d524b3d339e71a83b04c63eee8aa3f291
Author: Kasra Bigdeli <kbigdeli@pof.com>
Date:   Thu May 11 15:53:19 2017 -0700

    Fix for NPE Crash due to a bug on Android 7.0 https://github.com/square/okhttp/issues/3245

commit 63ee9b9b17fc6400f0bc6761c5ea7438838fd7f8
Merge: c70e358 5f82d28
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue May 9 12:46:09 2017 -0400

    Merge pull request #3335 from whenSunSet/master
    
    Update RouteDatabase.java

commit 5f82d28d0e1d6703e07aadc6fdf7f92ed4468706
Author: When Sunset <1018998632@qq.com>
Date:   Tue May 9 11:21:40 2017 +0800

    Update RouteDatabase.java
    
    this class has a note mistake

commit c70e35802e984e8b9bf3fbf1479deb37c0bdfa43
Merge: 254b075 011b2ee
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 6 16:13:40 2017 -0400

    Merge pull request #3331 from square/jwilson.0506.okhttp_nullable
    
    Import jsr305 and use it to mark @Nullable stuff.

commit 011b2ee76d41fc689be75e1aa4d2efd9fe33c285
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 6 12:13:09 2017 -0400

    Import jsr305 and use it to mark @Nullable stuff.
    
    This library is a provided dependency and is not necessary to be included
    by OkHttp users.
    
    This currently covers the okhttp and okhttp-logging-interceptor modules
    only. It does not cover the 'internal' package in OkHttp, or its test cases.
    We can add those as needed.

commit 254b0752e5b6e38eca67b7b8b218ed2f0c25dada
Merge: e791f48 29d5696
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat May 6 11:51:43 2017 -0700

    Merge pull request #3330 from square/jwilson.0506.response_message_not_null
    
    Forbid null for a response's message.

commit e791f48af63e3ed4c9a61ffe874173c3327e8ce9
Merge: 537c7bc 83b9dd4
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat May 6 11:51:00 2017 -0700

    Merge pull request #3332 from square/jwilson.0506.upgrade_checkstyle_77
    
    Upgrade to Checktyle 7.7.

commit 83b9dd427535bce39be43a9e8224cdbc352d7427
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 6 14:21:55 2017 -0400

    Upgrade to Checktyle 7.7.
    
    This allows us to put @Nullable immediately preceding the return type,
    which is exactly where we want it.

commit 29d56966c1ba932920b278467bb3d61f49709da9
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 6 11:55:33 2017 -0400

    Forbid null for a response's message.
    
    This was only ever null in test code. Everything that parses responses from
    the network gets a non-null value. The message may be empty.

commit 537c7bc57c98711fdd41d30752e54af941d95538
Merge: b8c44c3 9beaab6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 5 23:18:20 2017 -0400

    Merge pull request #3327 from square/jwilson.0505.forbid_null_challenge_parameters
    
    Forbid null schemes and realms in Challenge.

commit b8c44c31b2eec2daca14f54d78d977e23b0ed12b
Merge: f1edd9d bf83abb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 5 22:58:09 2017 -0400

    Merge pull request #3326 from square/jwilson.0505.forbid_null_tls_versions
    
    Forbid null for a handshake's TLS version.

commit 9beaab63253ce012c2eb90c53ff6ddf1d5ebad37
Author: jwilson <jwilson@squareup.com>
Date:   Fri May 5 22:57:04 2017 -0400

    Forbid null schemes and realms in Challenge.
    
    These were never null in practice.

commit bf83abb01cf49fcf434cca3508899a9d819b3b3b
Author: jwilson <jwilson@squareup.com>
Date:   Fri May 5 22:45:08 2017 -0400

    Forbid null for a handshake's TLS version.
    
    This value is almost always non-null. The only exception is when it was
    persisted by a version of OkHttp prior to 3.0.
    
    Rather than accepting null, and forcing clients to handle that value,
    I'm changing the API to reject null. I'm forcing a default of SSL_3_0
    for responses that we don't have a version for. I don't anticipate this
    causing problems in practice.

commit f1edd9d15e433bca031b4b0b877a0de41486cb04
Merge: f4e487b cc12ce9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 5 09:33:14 2017 -0400

    Merge pull request #3316 from ericaschulz/master
    
    Update Call Test & Route Selector

commit cc12ce97a4b7ce385f2e10d32a6dfcd02d47e7dd
Author: ericaschulz <ericalynnschulz@gmail.com>
Date:   Mon May 1 09:41:13 2017 -0500

    Update Call Test & Route Selector

commit f4e487b801038b0348103d0cec9721cc49da2e9f
Merge: a5bcfed 0bede6e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Apr 29 23:44:59 2017 -0400

    Merge pull request #3315 from square/jwilson.0429.alpn_131
    
    Configure ALPN for Java 1.8.0_131.

commit a5bcfed0c43bf7a1824c530ff655f25553fdacf1
Merge: 36a4d16 7b0f74f
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 29 21:49:32 2017 -0400

    Merge branch 'Jawnnypoo-name-for-null-header'
    
    * Jawnnypoo-name-for-null-header:
      Log the name of the null header

commit 7b0f74f662c046ad28e691ffe36a09b90ad2e7b2
Author: John Carlson <jawnnypoo@gmail.com>
Date:   Wed Apr 26 22:42:42 2017 -0500

    Log the name of the null header

commit 0bede6eb88db50de73b98a89eff1291466e9303b
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 29 21:41:52 2017 -0400

    Configure ALPN for Java 1.8.0_131.

commit 36a4d16b3d7b47ca83624a3bff66cde0cb5fe9f5
Merge: 5e460fd 9ca7b59
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Apr 18 22:58:51 2017 -0400

    Merge pull request #3293 from square/jw/2017-04-18/once
    
    Only make a single pass when removing protocols.

commit 9ca7b596a7373e7f5d1f72be3117269c8a9e6d08
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Apr 18 13:23:55 2017 -0400

    Only make a single pass when removing protocols.
    
    contains() is already iterating the list so we might as well just be doing the remove() operation on that pass.

commit 5e460fd761d4e818c2f7fe3c8dc7df169cddf5fb
Merge: 6f8cdcc 48b1963
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 16 02:20:26 2017 -0400

    Merge pull request #3287 from EricEdens/master
    
    Fix for HttpUrl's IPv6 tests

commit 48b19631e5ef51a5e3e9fa991c3a98b263de7385
Author: Eric Edens <eric.edens@gmail.com>
Date:   Sat Apr 15 21:59:59 2017 -0700

    Remove extra hex digits from IPv6 tests.

commit 6f8cdcca1d7cf4f75eb27505bb34fdde70ebd6ee
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 15 21:53:08 2017 -0400

    [maven-release-plugin] prepare for next development iteration

commit e56f561e9351fac12035ea4a387b5eb3e30d9a2a
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 15 21:53:02 2017 -0400

    [maven-release-plugin] prepare release parent-3.7.0

commit a16897038090083158cdac85e2e7be6d9ec0ea56
Merge: dd145fb 8119277
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 15 21:36:35 2017 -0400

    Merge pull request #3286 from square/jwilson.0415.upgrade_okio
    
    Upgrade to Okio 1.12.

commit 8119277581f653a76511b4f443172816353b2510
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 15 21:32:54 2017 -0400

    Upgrade to Okio 1.12.

commit dd145fbbcd637b35adedfa391847135f2a84dbc3
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 15 21:24:54 2017 -0400

    Update changelog for OkHttp 3.7.0.

commit a94f952d4fd612b649f0e1afbbcd06b7b991765b
Merge: 31f04d7 60b1c1d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 15 21:23:23 2017 -0400

    Merge pull request #3285 from square/jwilson.0415.hide_eventlistener
    
    Hide EventListener from the public API for OkHttp 3.7.

commit 31f04d7f142788841ad4ece1b3fc8c6ba6d9692d
Merge: 82b5759 379ed8a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 15 20:31:34 2017 -0400

    Merge pull request #3283 from square/dr.0415.public-suffix-api
    
    Expose public suffix info via an API in HttpUrl.

commit 60b1c1d365a588a447976205c48e6deb99cd7693
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 15 17:51:42 2017 -0400

    Hide EventListener from the public API for OkHttp 3.7.
    
    It isn't wired up yet.

commit 82b5759d467cf3577f72c0a9a59ffb7f57106b64
Merge: 214a72f ac00ca5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 15 17:52:32 2017 -0400

    Merge pull request #3284 from square/jwilson.0415.fix_flaky_test
    
    Fix WebSocketHttpTest.throwingOnMessageClosesImmediatelyAndFails().

commit 379ed8a9a5c01e4e0b0c659b284cee3f43e273b6
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sat Apr 15 17:44:15 2017 -0400

    Expose public suffix info via an API in HttpUrl.

commit ac00ca5ee4abfd9d15e3c5c0f4f6e8b6eb99bbf7
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 15 17:35:03 2017 -0400

    Fix WebSocketHttpTest.throwingOnMessageClosesImmediatelyAndFails().
    
    The server will receive an EOFException when the client errors out.
    But because that didn't usually happen immediately our test got away
    with confirming there were no further events.
    
    Also fix WebSocketHttpTest.readTimeoutAppliesToHttpRequest().
    
    Closes: https://github.com/square/okhttp/issues/3228
    Closes: https://github.com/square/okhttp/issues/3090

commit 214a72f81bc62a0cc8ead754cb73841d70a4687e
Merge: 417ec22 c9496d3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 15 16:34:20 2017 -0400

    Merge pull request #3282 from square/jwilson.0415.invalidate_cache
    
    Invalidate the cache even if the response has no body.

commit c9496d350c0c3bb4b9d9571c3ab97181726561e2
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 15 13:08:46 2017 -0400

    Invalidate the cache even if the response has no body.
    
    Closes: https://github.com/square/okhttp/issues/3203

commit 417ec22305184b2ed86e91df4ad6093d99326316
Merge: 6ae2758 7dba9ca
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 15 13:09:36 2017 -0400

    Merge pull request #3281 from square/jwilson.0415.not_cryptographic
    
    Don't use a cryptographic RNG for web sockets.

commit 7dba9cae329571b0a6442c6f2d485a58bbdff519
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 15 11:53:07 2017 -0400

    Don't use a cryptographic RNG for web sockets.
    
    Some broken Android devices have problems with 'new SecureRandom()' and it's easier
    to not use SecureRandom than to work-around this.
    
    Closes: https://github.com/square/okhttp/issues/3135

commit 6ae275803d8bee514d8850aa93d7deb9a8136cce
Merge: a3c285f 9eebd90
Author: jwilson <jwilson@squareup.com>
Date:   Sun Apr 9 21:51:22 2017 -0400

    Merge branch 'mjbenedict-master'
    
    * mjbenedict-master:
      API to specify an event listener or event listener factory

commit 9eebd906ab28b4138a9a8ab2959b53578f58b28a
Author: Michael Benedict <benedict@tumblr.com>
Date:   Fri Mar 3 17:44:47 2017 -0500

    API to specify an event listener or event listener factory

commit a3c285fcce711a90de9bafc5f903368506ca5cd1
Merge: b5285cf e8b631b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 6 06:08:31 2017 -0400

    Merge pull request #3272 from electrum/ipv6
    
    Fix canonicalization of IPv6 addresses in HttpUrl

commit e8b631bbbf027358bb0062ae4284c1d9a9c03862
Author: David Phillips <david@acz.org>
Date:   Thu Apr 6 00:34:39 2017 -0700

    Fix canonicalization of IPv6 addresses in HttpUrl
    
    Per RFC 5952, section 4.2.2, a single 16-bit field must not be shortened.
    Improper canonicalization can break TLS hostname verification because
    the canonicalized name will not match the server certificate.
    
    This change adds the examples from the RFC to the tests.

commit b5285cf91f89d186f27285764e6109e0c1c27210
Merge: 99db430 68c854d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Apr 2 11:31:36 2017 -0400

    Merge pull request #3263 from square/jwilson.0402.dont_reuse
    
    Don't reuse connections after an unsuccessful 'Expect: 100-continue'

commit 68c854d68488ad5879bad088a40aaf8dad68cc59
Author: jwilson <jwilson@squareup.com>
Date:   Sun Apr 2 10:06:36 2017 -0400

    Don't reuse connections after an unsuccessful 'Expect: 100-continue'
    
    Closes https://github.com/square/okhttp/issues/3252

commit 99db4307703d500cbf157cfd0a9ffcaa52732e4c
Merge: c8d1243 88a2473
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 1 10:07:52 2017 -0400

    Merge pull request #3257 from hermanliang/hermanliang-patch-1
    
    Update README.md

commit 88a2473aca28b3f62099596ea34ccd158be67ffe
Author: Herman Liang <hermanliang80@gmail.com>
Date:   Fri Mar 31 14:52:13 2017 +0800

    Update README.md

commit c8d1243a3692e44f934d399905d673c72395abf6
Merge: 613d55b 9d51dc4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Mar 25 20:51:32 2017 -0400

    Merge pull request #3242 from square/dr.0325.no-public-suffix-cookie
    
    Restrict cookies with a domain that is a public suffix.

commit 9d51dc4858b8491688890c6d3a2136eafd53e5d7
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sat Mar 25 18:51:46 2017 -0400

    Restrict cookies with a domain that is a public suffix.
    
    https://github.com/square/okhttp/pull/3141

commit 613d55b37dba0252b31c736fca83c6d4d4a0d730
Merge: e144fd2 8ac0828
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Mar 25 11:34:07 2017 -0400

    Merge pull request #3241 from square/dr.0325.punycode-public-suffix
    
    Change PublicSuffixDatabase to require canonical, punycode encoded domains.

commit 8ac0828d5a47c008da44f1d7999cb4151402580d
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sat Mar 25 10:12:04 2017 -0400

    Change PublicSuffixDatabase to require canonical, punycode encoded domains.

commit e144fd2f72b89a47220acf32655407fe6ad3e17a
Merge: 2fa94d3 2d37490
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Mar 22 20:56:20 2017 -0700

    Merge pull request #3237 from square/jwilson.0322.pipe_sample
    
    Add a sample where data is streamed via an Okio pipe.

commit 2d37490174c29a20dd49ddf4d55d4f995c545504
Author: jwilson <jwilson@squareup.com>
Date:   Wed Mar 22 21:07:56 2017 -0400

    Add a sample where data is streamed via an Okio pipe.

commit 2fa94d3f356a7a9e33456bac4ab345ebef9ae346
Merge: d5db954 8bddb41
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 19 17:22:11 2017 -0400

    Merge pull request #3232 from square/dr.0319.public-suffix-explode
    
    Explode if the public suffix list cannot be loaded.

commit 8bddb417554326b48e024f4a02b23525d3c87862
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sun Mar 19 14:17:13 2017 -0400

    Explode if the public suffix list cannot be loaded.

commit d5db9542c9d25efd17b295559cf41f16a61401ac
Merge: 928f62a 68a2264
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Mar 19 13:47:02 2017 -0400

    Merge pull request #3229 from grimreaper/eax/simplecon/a1/32ba7e9
    
    Remove some some duplicate words

commit 68a22646802d6483b4084e83693a9d9e48a8ddd8
Author: Eitan Adler <lists@eitanadler.com>
Date:   Sun Mar 19 10:29:19 2017 -0700

    Remove some some duplicate words

commit 928f62a8129435b9b032cac7b9089dc397095ff9
Merge: 6c3a160 0c6e851
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 19 11:44:36 2017 -0400

    Merge pull request #3159 from square/dr.0212.public-suffix-fun
    
    Introduce PublicSuffixDatabase: a list of public suffixes by publicsuffix.org.

commit 0c6e851d5fd040d40922784daad7c8123dd64cfa
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sun Feb 12 18:23:02 2017 -0500

    Introduce PublicSuffixDatabase: a list of public suffixes by publicsuffix.org.

commit 6c3a1607b06cf129c017aa28e6aa3baee1a66745
Merge: 87bf213 e786a37
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Mar 12 00:53:00 2017 -0500

    Merge pull request #3218 from square/jwilson.0311.retain_tls_prefix
    
    Handle either TLS_ or SSL_ prefixes for cipher suite names.

commit e786a376426b938738d3333f52891c68339ae187
Author: jwilson <jwilson@squareup.com>
Date:   Sat Mar 11 21:58:35 2017 -0500

    Handle either TLS_ or SSL_ prefixes for cipher suite names.
    
    Closes: https://github.com/square/okhttp/issues/3173

commit 87bf21311930d734507aaad25076c1302da828b4
Merge: 31bc819 81c7461
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Mar 10 21:56:00 2017 -0500

    Merge pull request #3207 from square/jwilson.0305.connection_coalescing
    
    Connection coalescing

commit 31bc819fb5ad6c301f4450d44c4358c302f4375f
Merge: b0a5a66 c18b3e7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Mar 7 15:21:17 2017 -0500

    Merge pull request #3212 from aahlenst/fix-locale-dependency
    
    Remove locale dependency in CallTest

commit b0a5a6626e48b60928e60f6a24cf92cbd66db15d
Merge: 8eeebc1 62cab6d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Mar 7 15:20:43 2017 -0500

    Merge pull request #3210 from aahlenst/mws-http-url
    
    MockWebServer: Expose request URL as HttpUrl

commit c18b3e7237bfe2f3f073da2408c6d3d2c4755a34
Author: Andreas Ahlenstorf <andreas@ahlenstorf.ch>
Date:   Tue Mar 7 18:55:15 2017 +0100

    Remove locale dependency
    
    Fixes #3211

commit 62cab6dd2dc274fb69e695c6c6efe2954d2d5be7
Author: Andreas Ahlenstorf <andreas@ahlenstorf.ch>
Date:   Tue Mar 7 17:16:02 2017 +0100

    Expose request URL as HttpUrl

commit 8eeebc1ec5422b69f77bef1b8869f69778766e21
Merge: e2d2ad8 e9025cb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Mar 7 06:38:09 2017 -0500

    Merge pull request #3208 from chhsiao90/http2-data-frame-stream-zero
    
    HTTP/2 reject DATA frame on streamId is zero

commit e9025cb38c22a63c1a4face07e6f2e2b7fc23f83
Author: chhsiao90 <chhsiao90@gmail.com>
Date:   Tue Mar 7 11:59:39 2017 +0800

    HTTP/2 reject DATA frame on streamId is zero

commit 81c7461c98f2228c3bb1a0c80fb803b5ea2e47f0
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sun Mar 5 19:46:23 2017 -0500

    Connection coalescing
    
    As described here:
    
    https://daniel.haxx.se/blog/2016/08/18/http2-connection-coalescing/
    https://hpbn.co/optimizing-application-delivery/#eliminate-domain-sharding
    https://tools.ietf.org/html/rfc7540#section-9.1.1
    
    When the following is true
    - HTTP/2 so we don't overload non multiplexed connections.
    - HTTPS since we need subjectAltNames (n.b. RFC 7540 defines as safe to use over plaintext, based purely on DNS).
    - Desired url host is part of the subjectAltNames for an existing connection.
    - One of the DNS results for desired host match the established connection.
    - HostnameVerifier is *not* overridden.
    - ConnectionPinner accepts the existing certificate chain.
    
    From https://tools.ietf.org/html/rfc7540#section-9.1.1
    
    > A server that does not wish clients to reuse connections can indicate
    > that it is not authoritative for a request by sending a 421
    > (Misdirected Request) status code in response to the request (see
    > Section 9.1.2).

commit e2d2ad80fffd1774561b4825203ab44209cd60bd
Merge: 89621df 9e0b5b8
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 5 19:48:12 2017 -0500

    Merge pull request #3206 from square/jwilson.0305.fake_dns
    
    Make FakeDns more capable.

commit 9e0b5b81b0ac25f59a25bd744dc788fe5c3e2971
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Fri Mar 3 22:41:02 2017 +0000

    Make FakeDns more capable.

commit 89621df62dda5cf73726ce2d5410c82c6f760f00
Merge: 8ed90a0 1c2c57b
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Feb 14 22:53:53 2017 -0500

    Merge pull request #3161 from square/jw/2017-02-13/error-prone
    
    Add error-prone compiler and fix its found issues.

commit 1c2c57b1a9e037d81aeac3ad5088db9ec4358fb1
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Feb 13 22:07:20 2017 -0500

    Add error-prone compiler and fix its found issues.

commit 8ed90a06522c131aefeaf0bc96e2dda255256bb1
Merge: 71729c3 518baaa
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Feb 3 11:47:33 2017 -0500

    Merge pull request #3149 from mjbenedict/master
    
    Strawman class for EventListener

commit 518baaa6e8841571e48fe5a8acf6aff05af8af4a
Author: Michael Benedict <benedict@tumblr.com>
Date:   Thu Feb 2 16:04:18 2017 -0500

    add factory

commit 82fe0ac2c518505fb65e0dcc2d2d9e8a9d12018f
Author: Michael Benedict <benedict@tumblr.com>
Date:   Wed Feb 1 20:18:23 2017 -0500

    Incorporate PR & Issue feedback
    
    * public method
    * Make replace requestEnqueued with fetchStart and add a fetchEnd to create a span
    * return a Handshake in the secureConnectEnd callback

commit 3e73a0e4995f7f682ea22453d6986229c4ff03a5
Author: Michael Benedict <benedict@tumblr.com>
Date:   Wed Feb 1 15:26:19 2017 -0500

    fix style

commit 1464a47a1a2a5f1a6b8011d7db0ca478c878c343
Author: Michael Benedict <benedict@tumblr.com>
Date:   Wed Feb 1 15:12:03 2017 -0500

    Strawman interface for EventListener
    
    Related to the discussion in #270, this a class that could be used to add
    Zipkin or other traces to OkHttp requests

commit 71729c39f2b62761d87bf2395127a9140ecab229
Merge: e95a9cc 7c94c80
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Feb 1 08:02:35 2017 -0500

    Merge pull request #3148 from 15characterlimi/distinguish-name-parser-test
    
    Port basic DistinguishedNameParserTest from AOSP

commit 7c94c808de0e946180fbcfa187aacd8fca83c489
Author: Tobias Thierer <tobiast@google.com>
Date:   Tue Jan 31 18:12:35 2017 +0000

    Make DistinguishedNameParserTest pass
    
    Change test expectations so that the test passes; no attempt was made
    to verify whether the new test expectations are more correct than the
    old ones. The purpose of this test is to ensure that any future
    behavior changes are deliberate.
    
    The expectations that this CL changes relate to invalid characters
    ('<', '>') and to the handling of surrounding whitespace.
    
    Additional changes:
     - replaced "String... expected" argument to assertCns() with
       a nullable String expected since all but the first argument
       is now unused. Reordered the arguments to list expected
       first, consistent with common JUnit style.
     - renamed methods to follow JUnit 4 style and removed reference
       to "Cns" since only a single CN is now parsed.
     - moved some assertions from regularCases() into emptyValues()
       and trailingWhitespace() where those seemed like a better fit.
     - dropped a test comment that didn't seem to make sense (any more)
     - removed additional dead sections.

commit 21f9c37c36e0489d0c133d18e27a825641abca8a
Author: Tobias Thierer <tobiast@google.com>
Date:   Tue Jan 31 18:08:00 2017 +0000

    Port DistinguishedNameParserTest from AOSP
    
    This is ported from http://r.android.com/183814 with only minor
    modifications in order to make the test compile and conform to
    OkHttp code style:
     - use of @Test rather than JUnit 3 TestCase
     - two-spaces indent
     - commented out use of API that does not exist in OkHttp's
       DistinguishedNameParser
    
    Changes to make the test pass are left to a follow-up commit.

commit e95a9cc765b458a7162d1fe14904c554a10ba1ec
Merge: 3e12610 8b80127
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 31 13:13:57 2017 -0500

    Merge pull request #3147 from 15characterlimi/drop-fallback
    
    Do not fall back to COMPATIBLE_TLS (TLSv1) by default.

commit 8b80127913a197892c9b3ac5d41d388e5f155cf6
Author: Tobias Thierer <tobiast@google.com>
Date:   Tue Jan 31 13:53:04 2017 +0000

    Do not fall back to COMPATIBLE_TLS (TLSv1) by default.
    
    Insecure TLS version fallback is a compatibility workaround to connect
    to servers that do not implement TLS protocol version negotiation
    correctly; it is vulnerable to man-in-the-middle-attacks (POODLE).
    Support for TLS version fallback was removed in Firefox 37 (Mar 2015)
    and Chrome 50 (Apr 2016). As of late 2015, fewer than 0.01% of web
    servers relied on protocol fallback.
    
    After this commit, OkHttp still supports TLS version fallback, but it
    is now opt-in rather than opt-out.
    
    Existing tests for fallback functionality were modified to opt-in
    to the fallback; new tests in CallTest and URLConnectionTest
    assert that no fallback happens by default (when not opted-in).

commit 3e126109c454394caaaa6075a5b6129dfd0b9c3a
Merge: 9690110 6651a9c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 30 09:10:18 2017 -0500

    Merge pull request #3143 from square/jwilson.0129.bogus_charsets
    
    Change MediaType's failure mode to not crash on charset problems.

commit 9690110f815ca7f3e25b4f3fcaaa8ff38db7cf05
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 29 14:14:39 2017 -0500

    [maven-release-plugin] prepare for next development iteration

commit 9dc1bbad245a325ffb0cd1bd88d2c439a1c2a5bd
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 29 14:14:33 2017 -0500

    [maven-release-plugin] prepare release parent-3.6.0

commit a3ffe6568b38209d64c7fc00b7775f95b50928e8
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 29 14:11:17 2017 -0500

    Update changelog for OkHttp 3.6.0.

commit 6651a9c15e06e8d1829aa00f970998be2f33b225
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 29 13:02:08 2017 -0500

    Change MediaType's failure mode to not crash on charset problems.
    
    As-is it throws unchecked exceptions on unexpected charsets. This is a problem
    because it can cause a misbehaving webserver to crash the client.
    
    I don't expect this to break existing clients; returning 'null' has always
    been a possibility; it's just returned in more cases.

commit e172706b56a8616cf70f8d8285d5f8701c8a36a0
Merge: 1586928 a96c3a8
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jan 29 13:00:24 2017 -0500

    Merge pull request #3140 from square/jwilson.0128.fix_leaks
    
    Fix a thread leak in MockWebServer's web socket tests.

commit 158692870d5a5cf1fdf42bd62a18ffa699d7e0b3
Merge: f541304 3931dc8
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jan 29 12:40:41 2017 -0500

    Merge pull request #3142 from square/jwilson.0129.framed
    
    Fix some classnames to use Http2 instead of Framed

commit 3931dc8df0c57c7f50d23f8de532da0a51434f26
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 29 12:09:31 2017 -0500

    Fix some classnames to use Http2 instead of Framed

commit f54130499acf0062ff655c07917e5c5f37f081cb
Merge: 4de39f2 5215762
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 28 14:09:54 2017 -0500

    Merge pull request #3139 from yschimke/junit5_compat
    
    junit 5 compatibility for MockWebServer

commit a96c3a8007d8e1a166f7aec423c7add1ea0e3522
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 28 14:07:59 2017 -0500

    Fix a thread leak in MockWebServer's web socket tests.
    
    We were creating threads and not shutting them down as eagerly as we could have.

commit 5215762c9f9ab597c95d26abf55fa7fbae783b84
Author: Yuri Schimke <yschimke@fb.com>
Date:   Sat Jan 28 18:09:48 2017 +0000

    review comments

commit 49e9294feb2e5700d574857ea330be89f85dad7a
Author: Yuri Schimke <yschimke@fb.com>
Date:   Sat Jan 28 15:39:43 2017 +0000

    junit 5 compatibility

commit 4de39f274d033e9241eb84061d848dfb610d2b67
Merge: 894dbfa 92bf655
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 27 14:25:20 2017 -0500

    Merge pull request #3137 from 15characterlimi/test-disconnect-during-connect
    
    HUC regression test: disconnect in the middle of connecting.

commit 92bf6552593d8d18853da203331b30992d79f82b
Author: Tobias Thierer <tobiast@google.com>
Date:   Fri Jan 27 17:34:11 2017 +0000

    HUC regression test: disconnect in the middle of connecting.
    
    Prior to commit 084b06b48bae2b566bb1be3415b6c847d8ea3682 (OkHttp 3.4.0),
    a HttpURLConnection.disconnect() in the middle of connecting caused an
    infinite loop. HUC does not claim to be thread safe, but concurrent
    disconnect should generally be supported (it is supported by HttpEngine)
    and this bug occurred even when the disconnect() happened in the same
    thread, e.g. through the CookieJar.
    
    The infinite loop prior to that CL occurred because
     - The loop in HttpURLConnectionImpl.java:418 did not check for the
       disconnected state,
     - {StreamAllocation,RetryAndFollowUpInterceptor}.recover() returns
       true for canceled StreamAllocations/calls, but
       StreamAllocation.newStream() immediately fails if already canceled.
    
    This bug was specific to HUC and did not affect the Call API because
    RetryAndFollowUpInterceptor's (and, in earlier OkHttp versions,
    Call.getResponse()'s) infinite loop did check the canceled case
    before proceeding.
    
    The bug existed since at least OkHttp 2.7.5, likely introduced by
    commit c358656c8799d30fd422448153e99a5dd37e298a (OkHttp 2.7.0).
    
    The new test asserts that a disconnect() while constructing the
    cookie headers leads to the new connection being aborted. It would
    also be permissible for the connection to succeed (as long as it
    doesn't deadlock like it used to), but the stricter test seems
    reasonable to ensure that any behavior change is deliberate.
    A disconnect() while accessing the Cache FileSystem has the same
    effect, but this is not covered by the added test because a
    new FileSystem wrapper class that delegates all calls would
    create code maintenance overhead.

commit 894dbfa98ff3f8bb0afe46c1d9ddae57c08415ca
Merge: 2e036f6 3682ee7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jan 26 09:31:19 2017 -0500

    Merge pull request #3134 from erikghonyan/credentials-charset
    
    Add charset support for Credentials.basic

commit 3682ee7872e734e9d2f57f601192d6f7d7baa4a6
Author: Erik Ghonyan <erik.ghonyan@gmail.com>
Date:   Tue Jan 24 19:01:17 2017 +0400

    Add charset support for Credentials.basic

commit 2e036f61a2001d147e038f248b307198cc77051c
Merge: 71bd925 86c3233
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 21 20:07:46 2017 -0800

    Merge pull request #3127 from square/dr.0121.severe-cache-init-recover
    
    Recover from a severe cache initialization failure.

commit 86c3233f9c3e89dd88be8bfa26973194d89022fe
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sat Jan 21 09:04:43 2017 -0500

    Recover from a severe cache initialization failure.
    
    Closes: https://github.com/square/okhttp/issues/3115

commit 71bd925cd21ed51a3fa5c10dac3f02c36af102fc
Merge: 614f71f 6a9db22
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 20 13:40:56 2017 -0800

    Merge pull request #3120 from square/dr.0118.cache-init-recovery
    
    Added test for cache initialization failure and recovery.

commit 614f71fc48078377da235aae117ea40807af21c8
Merge: 0ed4890 14b6c8a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 20 13:39:48 2017 -0800

    Merge pull request #3126 from square/jw/one-twenty-one
    
    Add ALPN jars for JDK 1.8.0_121.

commit 0ed48903b03cfdd13dda7ac42ae21a56ac30583c
Merge: 219776b 5af089a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 20 13:39:32 2017 -0800

    Merge pull request #3125 from square/jw/socket
    
    Use Socket instead of Closeable for compatibility.

commit 14b6c8a7aa76a33d2490ca8df093bf8b113c65c7
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jan 20 12:27:41 2017 -0800

    Add ALPN jars for JDK 1.8.0_121.

commit 5af089a71997fb454b0ef063664db267d8038a73
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jan 20 11:54:21 2017 -0800

    Use Socket instead of Closeable for compatibility.
    
    Versions prior to Android 4.4 (Java 6) did not have Socket implementing Closeable.

commit 6a9db2287cf749e66fdd80ae984bde158bb4dbe4
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Wed Jan 18 09:21:33 2017 -0500

    Added test for cache initialization failure and recovery.
    
    https://github.com/square/okhttp/issues/3115

commit 219776bd7e93cbafd134115e53c084dfd0d76ba8
Merge: 0d867ab 8864c5d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jan 17 12:05:58 2017 -0800

    Merge pull request #3108 from square/jwilson.0115.intercept_host
    
    Permit network interceptors to rewrite the host header.

commit 8864c5d687df432021a4409aad4e0448ed030c5a
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 15 20:42:17 2017 -0500

    Permit network interceptors to rewrite the host header.
    
    This makes it possible to do domain fronting.
    
    Closes https://github.com/square/okhttp/issues/3103

commit 0d867ab9fcc1fb197fedf40d9409e08d669caaba
Merge: 592d53b c74831d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Jan 11 00:44:16 2017 -0800

    Merge pull request #3100 from square/jwilson.0110.drop_bogus_cookies
    
    Drop cookies that contain ASCII NULL and other bad characters.

commit c74831d62087e59f889497e6e7c4e6bb19196a1f
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jan 10 23:05:58 2017 -0500

    Drop cookies that contain ASCII NULL and other bad characters.
    
    Closes https://github.com/square/okhttp/issues/2939

commit 592d53b90d85045d404bf60362f10dcd0a8e4bf8
Author: Rob Bygrave <robin.bygrave@gmail.com>
Date:   Mon Jan 9 16:49:49 2017 +1300

    Website only: Update first example to use try with resources (#3096)

commit 64e84e382efb80426cef301c9750833954c7fbbc
Author: Rob Bygrave <robin.bygrave@gmail.com>
Date:   Mon Jan 9 15:10:26 2017 +1300

    Javadoc only: Update javadoc on Call to encourage closing the Response… (#3094)
    
    * Javadoc only: Update javadoc on Call to encourage closing the Response (and underlying response body)
    
    * website only: Update examples to encourage closing the Response (and underlying response body)

commit 21af010dcaec32fa7424345fd3e3e83a7e8bfbff
Merge: 87b86a5 be951db
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 8 21:09:03 2017 -0500

    Merge pull request #3095 from rbygrave/websiteOnly
    
    website only: Update examples to encourage closing the Response (and …

commit be951db2364b7739d93ab23f847dfdfa4fe59d46
Author: Rob Bygrave <robin.bygrave@gmail.com>
Date:   Mon Jan 9 13:17:21 2017 +1300

    website only: Update examples to encourage closing the Response (and underlying response body)

commit 87b86a53c4a5c591b8e1c5ec94b4d81edece00a8
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 7 21:40:17 2017 -0500

    Add ProGuard config to README

commit bdcd06f8ca578f95939018057a258cce3af4084e
Merge: 87a3ec9 bb0f81e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 7 21:33:20 2017 -0500

    Merge pull request #3091 from square/jwilson.0107.custom_cipher_siutes
    
    Example on customizing cipher suites.

commit 87a3ec917750cb0bf743ed4133d7848133134d95
Merge: 04496eb cbe7baa
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 7 21:33:10 2017 -0500

    Merge pull request #3092 from square/jwilson.0107.give_up_auth
    
    Fix examples to give up if authentication fails.

commit 04496ebc77199004f1c5a040db31c3f4ce642d71
Merge: b336a03 98443a9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 7 18:46:04 2017 -0500

    Merge pull request #3080 from square/jwilson.0102.dedupe
    
    Release duplicated multiplexed connections.

commit cbe7baa4746954a06a8fbc8c622b4f7d66c09964
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 7 18:45:32 2017 -0500

    Fix examples to give up if authentication fails.
    
    Closes: https://github.com/square/okhttp/issues/2464

commit bb0f81e1b8be129458a2c4cbc7c8a73f9baa8f49
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 7 18:28:26 2017 -0500

    Example on customizing cipher suites.
    
    It's a disgusting amount of code unfortunately.
    
    Closes: https://github.com/square/okhttp/issues/2698

commit b336a03f681dfe9f89878b0702b37a5f85173664
Merge: de8699b ca76167
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 7 17:34:58 2017 -0500

    Merge pull request #3089 from square/jwilson.0107.crawler_usability
    
    Make the crawler a little better.

commit ca76167504d5323f2a8c1011402907b9a755585c
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 7 15:07:46 2017 -0500

    Make the crawler a little better.
    
    Name threads by their URLs. Don't follow all fragments of the same URL.

commit 98443a9ca8ca9ad82d5fb9b05b32f180bb510601
Author: jwilson <jwilson@squareup.com>
Date:   Mon Jan 2 21:46:49 2017 -0500

    Release duplicated multiplexed connections.
    
    If we make concurrent requests to an HTTP/2 server, close all but
    the first connection. Creating multiple connections and then later
    releasing them is somewhat pessimistic; it's also much safer for
    awkward cases like connect attempts being canceled.
    
    Closes: https://github.com/square/okhttp/issues/373

commit de8699b62d24e3b31205229a259be5b26b040957
Merge: 5c7257d 8331b2d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 2 14:58:20 2017 -0500

    Merge pull request #3078 from square/jwilson.0102.guard_allocation_limit
    
    Fix RealConnection to guard allocationLimit by connectionPool.

commit 8331b2d75a51631bee622daf2175854fe49ce29a
Author: jwilson <jwilson@squareup.com>
Date:   Mon Jan 2 12:36:30 2017 -0500

    Fix RealConnection to guard allocationLimit by connectionPool.
    
    I'm working towards making OkHttp limit itself to a single HTTP/2 connection
    to a single host. In this work I found we're not sufficiently safe on
    allocationLimit - connections are added to the pool when this is 0, and
    the value is updated without any synchronization.
    
    This change also reduces the visibility of some connection fields in
    RealConnection and organizes the fields into two sets: those that are
    immutable after connect and those that are guarded by connectionPool.
    
    https://github.com/square/okhttp/issues/373

commit 5c7257d8d1c07b66cb7b14832bc0d16b88abcfb5
Merge: 90021dc 219f286
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 27 20:05:05 2016 -0500

    Merge pull request #3059 from square/jwilson.1224.confirm_http2_failures_are_decent
    
    Confirm that HTTP/2 failure recovery is decent.

commit 90021dcaea583b518fa92cdac58aa757dd6be111
Merge: 1800cf3 a589b81
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 27 19:06:20 2016 -0500

    Merge pull request #3057 from square/jwilson.1223.expect_continue
    
    Support 'Expect: 100-continue' as a request header.

commit 1800cf3286e4912b869b114170019c0eb3ea96c1
Merge: cd872fd caec3c7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 27 09:25:46 2016 -0500

    Merge pull request #3066 from yschimke/fix_CCCT_java_9
    
    Fix CertificateChainCleanerTest for Java 9

commit cd872fd83824512c128dcd80c04d445c8a2fc8eb
Merge: 7740587 3a1f393
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 27 09:23:59 2016 -0500

    Merge pull request #3069 from yschimke/java_9_test_failures
    
    temporarily ignore failures with java 9

commit 77405870a7ad04c579a4b9811bbf682777f3c76b
Merge: da597c4 d6589ea
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 27 09:19:01 2016 -0500

    Merge pull request #3068 from yschimke/alpn_8_112
    
    version bump for JDK 8 (112)

commit da597c4b1b69cc1ccdc5831b5d517bd70b7722f6
Merge: 525f922 116f5d1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 27 09:18:04 2016 -0500

    Merge pull request #3067 from yschimke/sniffer_update_java_9
    
    animal sniffer update for Java 9

commit 3a1f393576899fad13465e6eec89245757c7350a
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Tue Dec 27 09:01:51 2016 +0000

    temporarily ignore failures with java 9

commit caec3c711887b16852c9a4b1bd6d795f3f1b9ca4
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Tue Dec 27 07:33:38 2016 +0000

    fix CertificateChainCleanerTest for Java 9

commit 116f5d149252ff75f2cd0ea64fedf413a1030c94
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Tue Dec 27 07:31:56 2016 +0000

    animal sniffer update for Java 9

commit d6589ead6dfc33200a7ebb90b974b571a49f107d
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Tue Dec 27 07:25:02 2016 +0000

    version bump for JDK 8 (112)

commit a589b8170333476233d48476587a1d4363c90bd0
Author: jwilson <jwilson@squareup.com>
Date:   Fri Dec 23 17:21:59 2016 -0500

    Support 'Expect: 100-continue' as a request header.
    
    This will stall reading the response body until the server returns
    an intermediate '100 Continue' response.
    
    Closes: https://github.com/square/okhttp/issues/675

commit 525f922ba2f6ffad83adb3a5f15cdca77ccbe9b3
Merge: cddb441 e3d5951
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 26 17:22:52 2016 -0500

    Merge pull request #3025 from square/dr.1207.http2-visibility
    
    Introduce SocketRecorder: a means to inspect all bytes written/read to a socket.

commit cddb441dc4a3ea033b08ef56fb647cd4cfbc33e7
Merge: eecf0e5 0e151a4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Dec 25 15:12:22 2016 -0500

    Merge pull request #3060 from vanniktech/remove_synth_methods
    
    Remove creation of synthetic accessor method.

commit 0e151a4801882bfea992172494e0dc67cdf80671
Author: Niklas Baudy <niklas.baudy@vanniktech.de>
Date:   Sun Dec 25 21:02:04 2016 +0100

    Remove creation of synthetic accessor method.

commit 219f286feaf6dd4857fcf3d837921b141f7351c0
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 24 15:49:12 2016 -0500

    Confirm that HTTP/2 failure recovery is decent.
    
    This was fixed recently but we didn't update the corresponding test case. This
    updates the test and adds a few more to confirm that HTTP/2 failure recovery
    works as it should.
    
    Closes: https://github.com/square/okhttp/issues/578

commit e3d595107264062e84096d0e2d0a4d0f6a620688
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sat Dec 24 08:59:40 2016 -0500

    Introduce SocketRecorder: a means to inspect all bytes written/read to a socket.
    
    Also add a test to confirm HTTP/2 data frames are not sent when a null
    request body is present.

commit eecf0e57dc11210962cb60991d9dcebe3dca1c77
Merge: dc5cbfd 4cfdef7
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Dec 23 22:05:34 2016 -0500

    Merge pull request #3058 from square/jwilson.1223.http_url_test_cases
    
    Add examples from RFC 3986 as tests for HttpUrl.

commit 4cfdef7e32b0b90aeb583082b6b184104d805994
Author: jwilson <jwilson@squareup.com>
Date:   Fri Dec 23 21:46:09 2016 -0500

    Add examples from RFC 3986 as tests for HttpUrl.
    
    Delightfully we pass 100% of them. On the corner case of 'http:g' we're
    classified as a 'backwards-compatible' implementation, not a strict one.

commit dc5cbfd042768c86189dba01f52574a7493a62c6
Merge: d073ffa 48ee90c
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Dec 11 20:52:47 2016 -0500

    Merge pull request #3033 from square/jwilson.1211.flaky_ws_test
    
    Fix flakiness in RealWebSocketTest.clientAndServerCloseClosesConnection

commit d073ffa2a1820a482ef7d241576929a736671f73
Merge: f74dc52 55e3ea0
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Dec 11 20:44:46 2016 -0500

    Merge pull request #3032 from square/jwilson.1211.require_initial_settings_frame
    
    Fail the HTTP/2 connection if first frame isn't SETTINGS.

commit 48ee90cfa200917ea2577e8f730e3d1fd9c2b5b0
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 11 14:15:25 2016 -0500

    Fix flakiness in RealWebSocketTest.clientAndServerCloseClosesConnection

commit 55e3ea0422e36c64c70a8381b4c8fcc007a6eaaf
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 11 13:49:24 2016 -0500

    Fail the HTTP/2 connection if first frame isn't SETTINGS.
    
    Closes: https://github.com/square/okhttp/issues/2474

commit f74dc52cb18554ff8d8a8621b1e8a89c5ad22b60
Merge: 278088c 731a262
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Dec 11 12:05:55 2016 -0500

    Merge pull request #3030 from square/jwilson.1210.spaces_in_keys
    
    Forbid spaces in header names.

commit 278088c077033b2914d9e033cf52c770c5a1cfac
Merge: bffefcc 2e36428
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Dec 11 12:05:48 2016 -0500

    Merge pull request #3031 from square/jwilson.1211.gzip_range
    
    Don't offer to do gzip if the request is partial.

commit 731a2628bf4a7f925ac71950d3670a9e1e6fbfeb
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 10 16:01:53 2016 -0500

    Forbid spaces in header names.
    
    https://github.com/square/okhttp/issues/2842

commit 2e36428ffa5d2868972d837caea3193b058b997c
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 11 00:04:46 2016 -0500

    Don't offer to do gzip if the request is partial.
    
    Closes: https://github.com/square/okhttp/issues/116

commit bffefccf7a9b075b3d2998bbfdf409ca2deadc1a
Merge: 0ddb9f5 53d6612
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Dec 10 15:27:42 2016 -0500

    Merge pull request #3029 from square/jwilson.1220.more_tostrings
    
    Improve toString() of Route, Address, and StreamAllocation.

commit 53d6612cb29ad38514fc8240bade2c7a5c7ce4e7
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 10 14:31:00 2016 -0500

    Improve toString() of Route, Address, and StreamAllocation.

commit 0ddb9f5eb6b715dd0f31213951e040d694cd0c34
Merge: 29f6927 f88e012
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Dec 7 22:14:39 2016 -0500

    Merge pull request #3026 from square/jwilson.1207.ip_addresses
    
    Confirm that OkHttp verifies IP address certificates.

commit f88e012dab201bd8ce72527155168afb885865f0
Author: jwilson <jwilson@squareup.com>
Date:   Wed Dec 7 21:28:07 2016 -0500

    Confirm that OkHttp verifies IP address certificates.
    
    Closes: https://github.com/square/okhttp/issues/3021

commit 29f69277eafbcd75064381e128421679a5a6234a
Author: jwilson <jwilson@squareup.com>
Date:   Thu Dec 1 12:53:49 2016 -0500

    [maven-release-plugin] prepare for next development iteration

commit 366bc4752be25b274bb32d156a81c700bd359fa1
Author: jwilson <jwilson@squareup.com>
Date:   Thu Dec 1 12:53:45 2016 -0500

    [maven-release-plugin] prepare release parent-3.5.0

commit 7087dbc1906d29a9ee837bb0cc879086467c5818
Merge: 6ec60b1 4a50bcd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Dec 1 12:45:14 2016 -0500

    Merge pull request #3013 from square/jwilson.1130.cancel_after_close
    
    If a graceful close doesn't work, cancel the websocket.

commit 4a50bcd30be1853aeeda48dd877d5048ab6fd96b
Author: jwilson <jwilson@squareup.com>
Date:   Wed Nov 30 19:04:15 2016 -0500

    If a graceful close doesn't work, cancel the websocket.
    
    Closes: https://github.com/square/okhttp/issues/2788

commit 6ec60b189520bd3dce7429cafb6408fe74feedc2
Merge: b88bf5b ef6e605
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Dec 1 12:09:01 2016 -0500

    Merge pull request #3015 from square/jwilson.1130.redact_string
    
    Change HttpURL.redact() to return a String.

commit b88bf5b038d6ec1fa448921bec20e926905ee889
Merge: c3e3167 5d43df9
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Dec 1 10:53:05 2016 -0500

    Merge pull request #3018 from square/jwilson.1201.amp
    
    Fix an invalid HTML entity in the SlackApi Javadoc.

commit 5d43df973ae841ca05a63580c6a225ff251c410b
Author: jwilson <jwilson@squareup.com>
Date:   Thu Dec 1 10:52:06 2016 -0500

    Fix an invalid HTML entity in the SlackApi Javadoc.
    
    And-per-se-and

commit ef6e605fafe8bd65045b42ae0decd5f91c3ec6c6
Author: jwilson <jwilson@squareup.com>
Date:   Wed Nov 30 22:45:58 2016 -0500

    Change HttpURL.redact() to return a String.

commit c3e31674ea267b6fc01cb5a857d5937ca3f7740b
Author: jwilson <jwilson@squareup.com>
Date:   Wed Nov 30 23:20:20 2016 -0500

    Changelog for OkHttp 3.5.0.

commit 802c029b82672ea90534e8da1bd42100c194aca9
Merge: 4568075 e8ecf34
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Nov 30 22:19:33 2016 -0500

    Merge pull request #3014 from square/jwilson.1130.more_ws_tests
    
    More test coverage for web sockets edge cases.

commit e8ecf34175edc9fb0ea928d484d20ed301ee6542
Author: jwilson <jwilson@squareup.com>
Date:   Wed Nov 30 22:10:01 2016 -0500

    More test coverage for web sockets edge cases.
    
    Make sure interceptors and close reasons are validated thoroughly.

commit 4568075b1a163bec48a8598917e6d6bcc9b2d96b
Merge: c5a26fe d1e845a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Nov 30 16:36:05 2016 -0500

    Merge pull request #3008 from vanniktech/remove_synth_methods
    
    Remove creation of synthetic accessor methods.

commit d1e845a4df14b565c44d5fe0ecbbc8eea69f5df7
Author: Niklas Baudy <niklas.baudy@vanniktech.de>
Date:   Sun Nov 27 19:37:17 2016 +0100

    Remove creation of synthetic accessor methods.

commit c5a26fefdef889baef6cb2e7538afe83326dd4d3
Merge: 0766099 fa83afe
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Nov 29 09:36:43 2016 -0500

    Merge pull request #3005 from square/jwilson.1123.autoping
    
    Automatically ping the peer on a user-specified interval.

commit fa83afec25ff613341731e1552fe9897d755b338
Author: jwilson <jwilson@squareup.com>
Date:   Wed Nov 23 20:40:59 2016 -0500

    Automatically ping the peer on a user-specified interval.
    
    This changes RealWebSocket from using a shared ThreadPoolExecutor to
    using a private ScheduledExecutorService. This make some of the code
    simpler but it means that applications will hold 1 writer thread for
    each websocket, even if it is mostly not writing.
    
    Testing automatic pings is awkward. This refactors much of
    RealWebSocketTest to make it more natural to reinitialize the
    configuration.
    
    Closes: https://github.com/square/okhttp/issues/2993

commit 0766099839dcd4e2ee73f793020c8846a7b56e95
Merge: d98cd56 68c0211
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Nov 22 01:21:07 2016 -0500

    Merge pull request #3000 from square/jwilson.1121.strict_timeouts
    
    Apply timeouts within individual frames.

commit d98cd564a6efc8f01624477462f678c730fe5d20
Merge: ccf88de 2b8ad31
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Nov 22 00:41:42 2016 -0500

    Merge pull request #3001 from square/jwilson.1121.fix_flaky_test
    
    Fix flakiness in authenticateWithChunkedStreaming().

commit 2b8ad31b084af93ad202a1b835e5be63ac58a269
Author: jwilson <jwilson@squareup.com>
Date:   Mon Nov 21 21:58:51 2016 -0500

    Fix flakiness in authenticateWithChunkedStreaming().
    
    We were prefering to return the networkResponse before the request
    had completely failed. Instead we should return the network response
    only on failure, and only for APIs that return failed responses.

commit 68c0211cc26261a34a5f55b91f9509ae4575c731
Author: jwilson <jwilson@squareup.com>
Date:   Mon Nov 21 20:01:45 2016 -0500

    Apply timeouts within individual frames.

commit ccf88de917071387b34c84e80d0263c5b5b0b841
Merge: a72ed5e d822607
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Nov 21 19:47:07 2016 -0500

    Merge pull request #2999 from square/jwilson.1121.empty_close
    
    Confirm that we correctly handle close frames without a code.

commit d8226074eee111dea2030baafb7d0d5992e3d42c
Author: jwilson <jwilson@squareup.com>
Date:   Mon Nov 21 18:55:52 2016 -0500

    Confirm that we correctly handle close frames without a code.
    
    Closes: https://github.com/square/okhttp/issues/2940

commit a72ed5ee7a2c2110230da81342dc99c784a7a873
Merge: 850d468 c8dbcce
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Nov 21 12:47:16 2016 -0500

    Merge pull request #2996 from square/jwilson.1121.fix_some_autobahn_tests
    
    Fix some Autobahn tests.

commit 850d4689a32b84555fbe3446d8d272c021d7332d
Merge: 85b2ad2 578d8de
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Nov 21 12:35:18 2016 -0500

    Merge pull request #2995 from square/dr.1121.avoid-data-frame
    
    Avoid sending empty HTTP/2 data frames when there is no request body.

commit 85b2ad250a0b314490c3b5023b8ea0e90bc64a87
Merge: 4df16f3 22b250c
Author: jwilson <jwilson@squareup.com>
Date:   Mon Nov 21 12:32:27 2016 -0500

    Merge branch 'danielgindi-patch-1'
    
    * danielgindi-patch-1:
      Correct UTF8 BOM is EFBBBF

commit 22b250c1b87d2c8038a78f9aea5dec3b644ce977
Author: Daniel Cohen Gindi <Danielgindi@gmail.com>
Date:   Sun Nov 20 23:01:59 2016 +0200

    Correct UTF8 BOM is EFBBBF

commit c8dbccea5e8e724a799eea4dcf5abde511f4750c
Author: jwilson <jwilson@squareup.com>
Date:   Mon Nov 21 12:29:14 2016 -0500

    Fix some Autobahn tests.
    
    Bump the queue limit to 16 MiB for Autobahn tests. This is the ceiling they
    use and necessary to pass their tests.
    
    Move to port 9099. Port 9001 conflicts with supervisord.
    
    Throw the right exceptions on close codes, at the right times.

commit 4df16f3a5b625e7e0adc208326cef0daa5105979
Merge: 07309c1 949439a
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Nov 21 10:21:50 2016 -0500

    Merge pull request #2991 from square/jwilson.1119.nio
    
    Rename NewWebSocket to WebSocket.

commit 578d8debd65202f574b544f876b45e6110afdb69
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Mon Nov 21 07:58:54 2016 -0500

    Avoid sending empty HTTP/2 data frames when there is no request body.
    
    Closes: https://github.com/square/okhttp/issues/2892

commit 07309c1c7d9e296014268ebd155ebf7ef8679f6c
Merge: 14521eb 86be1c3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 20 09:19:45 2016 -0500

    Merge pull request #2992 from square/dr.1120.http2-recovery
    
    Gracefully recover from an HTTP/2 connection shutdown at start of request.

commit 86be1c3acdf3c7b26c57cae17612b74ada5ce1a1
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sat Nov 12 09:38:11 2016 -0500

    Gracefully recover from an HTTP/2 connection shutdown at start of request.

commit 949439ae5b0c5fd70687d1f946cac80552a5a7f9
Author: jwilson <jwilson@squareup.com>
Date:   Sat Nov 19 15:16:58 2016 -0500

    Rename NewWebSocket to WebSocket.
    
    The synchronous WebSocket class is gone.

commit 14521ebe5f85654f3955e1d14bc62a9c45f5a591
Merge: 395ae6f ab73bdd
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Nov 19 14:20:38 2016 -0500

    Merge pull request #2990 from square/jwilson.1118.migrate_WebSocketReaderTest
    
    Migrate WebSocketReaderTest to the async API.

commit ab73bddaa42637d64e005d788fb7130d26c50c97
Author: jwilson <jwilson@squareup.com>
Date:   Fri Nov 18 22:16:08 2016 -0500

    Migrate WebSocketReaderTest to the async API.
    
    Also change reader's callback types to be strings and byte strings.

commit 395ae6f9b81ebdf26f4d00aa0a4a65cb91597163
Merge: aa09514 40dddb9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Nov 18 21:39:21 2016 -0500

    Merge pull request #2989 from square/jwilson.1117.migrate_mws_ws
    
    Migrate MockWebServer to the async web sockets API.

commit 40dddb9dcf8ba654e16f6497020043b38b6d22a1
Author: jwilson <jwilson@squareup.com>
Date:   Fri Nov 18 00:34:31 2016 -0500

    Migrate MockWebServer to the async web sockets API.

commit aa095143a480518660eb4749043ccd6231ee3aa5
Merge: 8223e52 49527da
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Nov 17 19:35:48 2016 -0500

    Merge pull request #2959 from square/jwilson.1105.ws_nonblocking_api
    
    New non-blocking API for websockets.

commit 8223e5232fd445ad79343230d85458b41fbca536
Merge: 35656b2 a27afaf
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Nov 14 21:22:26 2016 -0500

    Merge pull request #2978 from square/jwilson.1114.always_return_full_bodies
    
    Always prefer the server's returned response body.

commit a27afaf572102666ca85c2619370626e52425e7a
Author: jwilson <jwilson@squareup.com>
Date:   Mon Nov 14 20:06:27 2016 -0500

    Always prefer the server's returned response body.
    
    Previously we would prefer the cached response if it had a newer
    Last-Modified date.
    
    Closes: https://github.com/square/okhttp/issues/2886

commit 35656b2f71a494214cd79609585919b2e5e51e14
Merge: 6da4d59 2a5fb08
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Nov 14 20:46:45 2016 -0500

    Merge pull request #2979 from square/jwilson.1114.no_proxy_fallback
    
    Don't fallback to no proxy after all configured proxies have failed.

commit 2a5fb08b39195d4238c7117e851e9221f94de62a
Author: jwilson <jwilson@squareup.com>
Date:   Mon Nov 14 20:39:09 2016 -0500

    Don't fallback to no proxy after all configured proxies have failed.
    
    Falling back to no proxy causes problems, particularly when the proxy is
    adding some value.
    
    Closes: https://github.com/square/okhttp/issues/2525

commit 6da4d59c2047c2d1d40625cebf87604e0d22b335
Merge: c581f5d 5bb4c0c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 13 16:09:04 2016 -0500

    Merge pull request #2974 from square/jwilson.1113.okio_hash_methods
    
    Use Okio's hash methods.

commit 5bb4c0c2939028e34e2d4838fc04f5cb5c588c50
Author: jwilson <jwilson@squareup.com>
Date:   Sun Nov 13 15:42:02 2016 -0500

    Use Okio's hash methods.

commit 49527dae14a9f112e8f0b6e2f37ef49f23452ec5
Author: jwilson <jwilson@squareup.com>
Date:   Sat Nov 5 14:01:57 2016 -0400

    New non-blocking API for websockets.
    
    Currently this uses a placholder name, NewWebSocket. I'd like to get this
    reviewed, expand it to cover MockWebServer's needs, and then I'll delete
    the current blocking API.
    
    Still undecided is which APIs to add - if any - to expose the state of the
    web socket.
    
    https://github.com/square/okhttp/issues/2902

commit c581f5ddc6a091e36e745a44ca787d903e32df51
Merge: c212d6f d35436e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Nov 13 07:50:10 2016 -0800

    Merge pull request #2973 from square/jwilson.1113.linked
    
    Always use LinkedHashMap. Never HashMap.

commit d35436e12d4d15514d661fcfbf2e36a1ca23ac69
Author: jwilson <jwilson@squareup.com>
Date:   Sun Nov 13 10:41:53 2016 -0500

    Always use LinkedHashMap. Never HashMap.

commit c212d6f3ef5771805dcaae4833d00e8e1a504d64
Merge: 8a1d95f da568d0
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Nov 12 21:46:55 2016 -0800

    Merge pull request #2972 from square/jwilson.1112.submit
    
    Prefer Executor.execute() over Executor.submit().

commit da568d0604180e2144444c4ee348324f348bde75
Author: jwilson <jwilson@squareup.com>
Date:   Sat Nov 12 22:40:12 2016 -0500

    Prefer Executor.execute() over Executor.submit().
    
    I fixed most of these 2 years ago when it was problematic, but I missed
    one.

commit 8a1d95f451995de6fdeae1b6c760328884e27507
Author: jwilson <jwilson@squareup.com>
Date:   Thu Nov 3 23:35:41 2016 -0400

    Update changelog for 3.4.2.

commit 10960301578bbdf504f50e79012a4daba7c5e3c1
Merge: 7411ad9 4d73a3a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Nov 3 16:57:12 2016 -0400

    Merge pull request #2957 from square/jwilson.1103.dr_http2_Tests
    
    Tests for management of HTTP/2 connections that are shutdown.

commit 4d73a3a65dd549a2f1865b1dfb4ec0373ec175c0
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sat Oct 8 10:06:11 2016 -0400

    Tests for management of HTTP/2 connections that are shutdown.
    
    See: https://github.com/square/okhttp/issues/2756

commit 7411ad94acdaea546826562ccd96ab5b78c36da4
Merge: dedeab1 d320598
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Nov 3 12:13:17 2016 -0400

    Merge pull request #2956 from serj-lotutovici/sl/remove_synthetic_methods
    
    Avoid generating synthetic accessor methods

commit dedeab131a15171992e2e587119d2f31a979e921
Merge: 37dab0d 5d70f5f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Nov 2 18:20:41 2016 -0400

    Merge pull request #2955 from square/jwilson.1101.graceful_disconnect
    
    Make HTTP/2's DISCONNECT_AT_END more graceful.

commit d320598247396182f034156dd00e0d605f9f0ef2
Author: Serj Lotutovici <serj.lotutovici@xing.com>
Date:   Wed Nov 2 18:56:43 2016 +0100

    Avoid generating synthetic accessor methods
    
    Affected:
    - okhttp3.Request
    - okhttp3.Response
    - okhttp3.Cache

commit 5d70f5f7a7cf85e0f4c528452aa89bbdf7f7f2d5
Author: jwilson <jwilson@squareup.com>
Date:   Tue Nov 1 20:33:49 2016 -0400

    Make HTTP/2's DISCONNECT_AT_END more graceful.
    
    Rather than immediately and violently closing the HTTP/2 stream,
    we initiate the shutdown sequence for a graceful disconnect.
    
    This fixes StreamAllocation to avoid creating new streams on
    shutdown connections. That behavior is not well tested, however.
    That will come by integrating dave-r12's PR:
    
    See https://github.com/square/okhttp/pull/2889

commit 37dab0df54a487ce6dcb74133e9e033a9f37431e
Merge: 98fa1aa 456105e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Nov 1 08:01:43 2016 -0400

    Merge pull request #2953 from sebkur/fix_typos
    
    Fix a few typos

commit 456105e5fd9f7f74f0d5ad6f81ce8a7e740903a3
Author: Sebastian Kürten <sebastian@topobyte.de>
Date:   Tue Nov 1 12:52:20 2016 +0100

    Fix a few typos

commit 98fa1aa4e7a9a7eda8319b7dbe019e06016d1ca1
Merge: 7de5351 bb357db
Author: jwilson <jwilson@squareup.com>
Date:   Wed Oct 26 00:33:07 2016 -0700

    Merge branch 'drlue-master'
    
    * drlue-master:
      Fix challenge parsing to permit incorrectly ordered authentication headers.

commit bb357db283fde2cc725a01f3fe836916a2046421
Author: Lukas Aichbauer <lukas.aichbauer@gmail.com>
Date:   Mon Oct 17 13:31:59 2016 +0200

    Fix challenge parsing to permit incorrectly ordered authentication headers.
    
    Authentication headers with wrongly ordered parameters not following RFC 2617 were not recognized.
    
    Closes: https://github.com/square/okhttp/issues/2780

commit 7de5351e9aaab1ecd3f8c01b2132162916b95111
Merge: 643ee3f ce695b6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Oct 23 11:47:54 2016 -0400

    Merge pull request #2935 from square/jwilson.1022.slack_client_example
    
    A WebSockets sample that uses the Slack API.

commit 643ee3ffc939d6083b66e637df09582a818b4f41
Merge: 35e9c97 bf5ade4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Oct 23 11:47:46 2016 -0400

    Merge pull request #2936 from square/jwilson.1023.alpn_for_java8_111
    
    Set an ALPN-boot version for Java 8 v111.

commit bf5ade433ff5a96fea7a0b56d91dda3193d423e9
Author: jwilson <jwilson@squareup.com>
Date:   Sun Oct 23 11:36:00 2016 -0400

    Set an ALPN-boot version for Java 8 v111.

commit ce695b67faa439ae1fb549e657fce316468bd560
Author: jwilson <jwilson@squareup.com>
Date:   Sat Oct 22 13:01:42 2016 -0400

    A WebSockets sample that uses the Slack API.
    
    Currently it just prints WebSockets messages as they arrive, never sending any.
    In a follow-up I'd like to do that, and also start to use this to figure out
    where and how our WebSockets client can be improved.
    
    https://github.com/square/okhttp/issues/2902

commit 35e9c978209e0ab38a01a6d768daf856d09fb678
Merge: da27d0b 9851e20
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Oct 20 10:28:03 2016 -0400

    Merge pull request #2927 from square/jwilson.1018.heads_have_empty_bodies
    
    Add tests to confirm HEAD response bodies are empty.

commit 9851e20466555dcdf8ae520569f40d46dbeb1b87
Author: jwilson <jwilson@squareup.com>
Date:   Tue Oct 18 23:50:18 2016 -0400

    Add tests to confirm HEAD response bodies are empty.
    
    OkHttp never returns null bodies for any request. But empty response
    bodies are fine.
    
    Closes: https://github.com/square/okhttp/issues/2879

commit da27d0bfc28dc2df8f566acc1e395109004495d2
Merge: e78f758 1b0f58f
Author: jwilson <jwilson@squareup.com>
Date:   Tue Oct 18 21:57:06 2016 -0400

    Merge branch 'JemarJones-master'
    
    * JemarJones-master:
      Fixed incorrect comment from #2883

commit 1b0f58f8d0905018118b07c8057d545af2fd1023
Author: Jemar Jones <jemarkjones@gmail.com>
Date:   Tue Oct 18 19:03:56 2016 -0400

    Fixed incorrect comment from #2883

commit e78f75858cfd96a28c710d57a8b6641a346d8938
Merge: a28fee5 27ece26
Author: jwilson <jwilson@squareup.com>
Date:   Tue Oct 18 21:34:43 2016 -0400

    Merge branch '15characterlimi-pinner-equals'
    
    * 15characterlimi-pinner-equals:
      Fix Connection sharing across equivalent OkHttpClients

commit 27ece261726695fc7d1b5fa95fabf1798fd0a409
Author: Tobias Thierer <tobiast@google.com>
Date:   Fri Jul 29 20:02:33 2016 +0100

    Fix Connection sharing across equivalent OkHttpClients
    
    Fixes https://github.com/square/okhttp/issues/2757
    
    The OkHttpClient(Builder) constructor and both overloads of
    OkHttpClient.Builder.sslSocketFactory() set a new CertificateChainCleaner
    instance on the OkHttpClient.
    
    Before this CL, CertificateChainCleaner, CertificatePinner and
    TrustRootIndex used object rather than value identity semantics. This
    caused Address.equals() to not recognize when addresses were equivalent,
    which broke connection pooling across OkHttpClient instances.
    
    This CL changes CertificateChainClaner, CertificatePinner and
    TrustRootIndex to use value equality by overriding equals() and hashCode().
    
    CertificatePinner.pins and BasicTrustRootIndex.subjectToCaCerts's values
    have changed from List to Set because their order shouldn't matter.
    This CL uses LinkedHashSet, although HashSet should also work.

commit a28fee5a2bc68fd9e5f00c6322870240739eeac4
Merge: 199e5ff 993c9c6
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Oct 16 19:01:13 2016 -0400

    Merge pull request #2917 from square/jwilson.1016.default_client
    
    Use TestUtil.defaultClient in more tests.

commit 993c9c6a1dc351b3740c881c2ba4678aec376f3f
Author: jwilson <jwilson@squareup.com>
Date:   Sun Oct 16 18:04:10 2016 -0400

    Use TestUtil.defaultClient in more tests.
    
    The client it returns is less susceptible to environment-specific flakiness.
    I suspect that some of our tests that pass locally and fail in continuous
    integration may be due to such environment-specific behaviors.

commit 199e5ff34f0a2dccb758e902be4c668ed7d20986
Merge: 019e943 af304b5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Oct 12 08:08:43 2016 -0400

    Merge pull request #2907 from square/jw/okio
    
    Okio 1.11.0.

commit af304b5a023829b2d411afaff19b3f6a3c001afa
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Oct 12 01:08:42 2016 -0400

    Okio 1.11.0.

commit 019e9431cfe84a110bfbd3037dfc554b59a8bfb7
Merge: 33c24e4 8ab575e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Oct 12 00:09:59 2016 -0400

    Merge pull request #2905 from square/jw/forbid-writes-on-reader
    
    Forbid writes from reader thread.

commit 8ab575ebb7c6f613d07f4708067e4347e60f66d1
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Oct 11 23:58:14 2016 -0400

    Forbid writes from reader thread.

commit 33c24e492098d4fa47fe76dc7815c85d69c36c5f
Merge: bb0b222 90f6bcb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Oct 11 23:19:17 2016 -0400

    Merge pull request #2904 from square/jw/remove-prefix
    
    Remove inconsistent 'send' prefix from message/ping methods.

commit 90f6bcb21f07f6caef63a47786a417195ae5f386
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Oct 11 23:08:49 2016 -0400

    Remove inconsistent 'send' prefix from message/ping methods.

commit bb0b222f4c7330f4b506d1b9d4ba7bcb4156859a
Merge: 26d4e22 196817a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Oct 10 23:03:58 2016 -0400

    Merge pull request #2899 from Jawnnypoo/cache-docs
    
    Add javadoc for cache call in the builder

commit 196817a50d5332850c81ac29a2024074e972384f
Author: John Carlson <jawnnypoo@gmail.com>
Date:   Mon Oct 10 21:55:36 2016 -0500

    Add javadoc for cache call in the builder

commit 26d4e225f8080245a3b90384f7b44a6f6fab520e
Merge: 10360b8 8b680f3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Oct 5 22:47:02 2016 -0400

    Merge pull request #2818 from square/jwilson.0829.update_the_cache
    
    Fix conditional cache hits to update timestamp fields.

commit 8b680f30f4a5a12d3cdc3848c91ffbb7933a84d0
Author: jwilson <jwilson@squareup.com>
Date:   Mon Aug 29 08:34:27 2016 -0400

    Fix conditional cache hits to update timestamp fields.
    
    Closes: https://github.com/square/okhttp/issues/2815

commit 10360b88efa801bf6b67d19423565c18a9f1a177
Merge: 59e70da e7d74f4
Author: jwilson <jwilson@squareup.com>
Date:   Tue Sep 27 15:57:19 2016 -0400

    Merge branch 'Tolriq-issue_2881'
    
    * Tolriq-issue_2881:
      Keep the cause when sending ConnectException

commit e7d74f47cad2340bd95bba4df7f1648b0f90489d
Author: Tolriq <tolriq@tolriq.com>
Date:   Sun Sep 25 16:05:32 2016 +0200

    Keep the cause when sending ConnectException

commit 59e70dad8193ad5f8cd79749fc00be7dcf0308d1
Merge: 7182671 bd8c48c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Sep 20 22:58:26 2016 -0400

    Merge pull request #2875 from square/jw/close-codes
    
    Use web socket close codes 1005 and 1006 correctly.

commit bd8c48c1a4a9868aa955db2844a3538a5e8272e4
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Sep 20 19:52:25 2016 -0400

    Use web socket close codes 1005 and 1006 correctly.
    
    These are used for an close frame that does not specify a status code and for when a network error occurs while trying to read data, respectively.

commit 71826717ecdbaee63cb79deb2519c73c0c742465
Merge: 765ffb3 5ae1a9d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Sep 20 13:16:50 2016 -0400

    Merge pull request #2873 from square/jw/conveniences
    
    Add convenience methods to WebSocketCall for symmetry with Call.

commit 5ae1a9d8c9a3ea6a8da8f1eedfb2d5e96e8fa7be
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Sep 20 12:14:34 2016 -0400

    Add convenience methods to WebSocketCall for symmetry with Call.

commit 765ffb3b1eeb61b8605ce0308355f67cfa8f59d8
Merge: 6391877 814d254
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Sep 20 06:29:50 2016 -0400

    Merge pull request #2872 from square/jw/writer-tweak
    
    Inline single-use method in web socket writer.

commit 6391877eba81702054d68b6254c7e9247e650efa
Merge: ed00822 6306aec
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Sep 20 01:01:24 2016 -0400

    Merge pull request #2871 from square/jw/ping-pong-byte-string
    
    Use ByteString for web socket ping/pong payloads.

commit 814d254ab7a076fe3a2b073cbe52b040ad1cc152
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Sep 20 00:55:03 2016 -0400

    Inline single-use method in web socket writer.

commit 6306aec01d095b5a5709f8ee1c4f38dec479d34b
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Sep 20 00:21:05 2016 -0400

    Use ByteString for web socket ping/pong payloads.

commit ed0082262ad32d24221debaf2ffcb3075015b9f3
Merge: e718821 508eb90
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Sep 20 00:03:33 2016 -0400

    Merge pull request #2865 from square/jw/ws-improvements
    
    Web socket API and implementation improvements.

commit 508eb90b3c8d494686651bc423838f5750f60c92
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Sep 18 14:32:54 2016 -0400

    Web socket API and implementation improvements.
    
    * onFailure callback's exception type widened to Throwable. This allows runtime exceptions from other callbacks to be passed along.
    * Ensure the connection is closed properly for all failures.
    * Fix and document the threading inside RealWebSocket. This ensures the listener is always called on the same thread and replies always happen from the correct thread.

commit e7188216fbb7f72287f6c9a44ef7523461836b0c
Merge: 3ea7be9 f5e06cb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 19 21:05:25 2016 -0400

    Merge pull request #2868 from klyubin/tlsv1.3
    
    Do not disable TLSv1.3 by default

commit f5e06cb09a6f4a16b411df57a438a1ddbbb00201
Author: Alex Klyubin <klyubin@google.com>
Date:   Mon Sep 19 10:44:31 2016 -0700

    Do not disable TLSv1.3 by default
    
    This adjusts TLS protocol selection logic to leave TLSv1.3 enabled if
    it's enabled in the underlying TLS stack. Prior to this change,
    TLSv1.3 was disabled unless the user of okhttp explicitly enabled it
    via a custom ConnectionSpec.
    
    Fixes #2867

commit 3ea7be9d9f647e610e1653c406d8d06f0fe907bc
Merge: 5f6a7a8 12d44f1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Sep 18 16:44:12 2016 -0400

    Merge pull request #2866 from kilink/avoid-copy
    
    Avoid unnecessary copying in ConnectionSpec

commit 12d44f1e9179d0436275c124879e3dc3af5eb119
Author: Patrick Strawderman <patrick@kilink.net>
Date:   Sun Sep 18 12:54:50 2016 -0700

    Avoid unnecessary copying in ConnectionSpec
    
    Utils.immutableList makes a defensive copy of the passed in List,
    which for tlsVersions and cipherSuites is unneeded.

commit 5f6a7a8a17152ebe29712588a4af10a948ff1b83
Merge: bb3aca1 73a4e3d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Sep 17 22:01:37 2016 -0400

    Merge pull request #2864 from square/jw/dedupe
    
    Use shared empty response from cache interceptor.

commit 73a4e3d0c7ece4dd7f9090b8cd0e4f23612e29b4
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Sep 17 21:36:28 2016 -0400

    Use shared empty response from cache interceptor.

commit bb3aca1db98bfdeb4b7f6a8adce7d2e29edaae9b
Merge: 61112b3 e6e7222
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Sep 17 21:05:47 2016 -0400

    Merge pull request #2862 from square/jw/no-synthetics
    
    Eliminate synthetic accessor methods, an allocation in web sockets.

commit 61112b38f4b13621345c8a6479223af7ab853999
Merge: 2f23ee2 2d3183b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Sep 17 21:04:02 2016 -0400

    Merge pull request #2863 from square/jw/no-ws-timeouts
    
    Remove connection read/write timeouts for web sockets.

commit 2d3183bf6a3db800602fec458d36ecd31be1a694
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Sep 17 20:55:25 2016 -0400

    Remove connection read/write timeouts for web sockets.

commit e6e722226c745837c5e60f8e0edabaa67a519ec9
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Sep 17 20:02:50 2016 -0400

    Eliminate synthetic accessor methods, an allocation in web sockets.

commit 2f23ee29d1b77dfbf0719faa444f08bb23968478
Merge: 7135628 d2db22b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Sep 16 09:30:16 2016 -0400

    Merge pull request #2858 from franmontiel/master
    
    Corrected javadoc of the Cookie persistent() method

commit d2db22b3115223770abb6b661954ff05aa9f8241
Author: Francisco Montiel <fjmontiel@spiralapps.com>
Date:   Fri Sep 16 15:23:59 2016 +0200

    Corrected javadoc of the Cookie persistent() method:
     - It was claiming that returns true if the cookie expires and the end of the session and really is the opposite behavior.

commit 7135628c645892faf1a48a8cff464e0ed4ad88cb
Merge: b2b4f4a 039bcf9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Sep 14 14:58:30 2016 -0400

    Merge pull request #2852 from square/jw/web-sockets
    
    Move WebSockets from separate artifact to main.

commit b2b4f4a70624b98b2940e539d64deb0575a3338d
Merge: d4de936 ef8a1f9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Sep 13 18:27:17 2016 -0400

    Merge pull request #2853 from square/jw/expose-part-contents
    
    Expose Part headers and body.

commit d4de93635584b46eacc68f12745efe3b04bbca65
Merge: df0ff81 404f63a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Sep 13 18:25:30 2016 -0400

    Merge pull request #2855 from square/jw/closeable-mws
    
    Implement Closeable on MockWebServer.

commit df0ff817c8fe772acbf2205572d84d62696bca36
Merge: 413323f ba1edd0
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Sep 13 17:37:41 2016 -0400

    Merge pull request #2816 from square/jwilson.0828.upgrade
    
    Upgrade to Okio 1.10.

commit ef8a1f93f137f0600d00835fd89d21184baab0d8
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Sep 13 12:56:41 2016 -0400

    Expose Part headers and body.

commit 404f63a20cd1587f7dd9cc0aa31565c9dcbbad3e
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Sep 13 13:56:03 2016 -0400

    Implement Closeable on MockWebServer.
    
    Enables use via try-with-resources.

commit 039bcf92dbff48d1162016f8cf4ba08a99071717
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Sep 13 12:18:08 2016 -0400

    Move WebSockets from separate artifact to main.
    
    The factory method has moved to OkHttpClient and WebSocketCall has changed to an interface.

commit 413323f10d68e7581431b289971ec780cd0485a6
Merge: 1a1b6ea 02b08fb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Sep 7 15:32:45 2016 -0400

    Merge pull request #2841 from 15characterlimi/header-values-allow-htab
    
    Allow HTAB in header values.

commit 02b08fbde7b1726d7a4c0dc971152751ac82ca0a
Author: Tobias Thierer <tobiast@google.com>
Date:   Wed Sep 7 18:23:08 2016 +0100

    Allow HTAB in header values.
    
    RFC 7230 section 3.2 allows HTAB ('\t', '\u0009') inside header
    values as long as there is not more than one in a row:
      https://tools.ietf.org/html/rfc7230#section-3.2
    
    Before this CL, OkHttp previously disallowed HTAB in header values.
    This CL changes behavior to allow any number of consecutive HTABs
    inside a header value; this is more permissive than the RFC, but
    is consistent with how OkHttp currently treats space characters
    (' ', '\u0020').

commit 1a1b6eaaac0a5c0ccbe0d24ddb9d1f306269c072
Merge: 96d85c4 3a142cc
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 5 15:31:56 2016 -0400

    Merge pull request #2838 from square/dr.0905.optimize-hpack-encoder
    
    Optimize HPACK encoder header search code path to avoid unnecessary work.

commit 3a142cc65ec9997925a64b8121f0ab58da422f61
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Mon Sep 5 12:59:52 2016 -0400

    Optimize HPACK encoder header search code path to avoid unnecessary work.

commit 96d85c4fe528764fc887f830ed56ca13b88de821
Merge: 08458f1 9481a09
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 5 11:05:41 2016 -0400

    Merge pull request #2833 from square/dr.0902.liberal-hpack-encoder
    
    Be more liberal adding headers to the HPACK encoder dynamic table.

commit 9481a09848102eb511cdda3ae025e88af633f679
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Thu Sep 1 08:45:08 2016 -0400

    Be more liberal adding headers to the HPACK encoder dynamic table.
    
    Previously, if a header name was in the static table we'd avoid adding it
    to the dynamic table. Since most common headers are in the static table,
    we were missing the chance to save on bytes sent.

commit 08458f1ee16170d32ee28ffd7c5cb251a1931e56
Merge: 66d0280 7cefceb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Sep 4 09:43:55 2016 -0400

    Merge pull request #2835 from shaunkawano/sk/performance_sensitive_loop
    
    Modify for-loop more performance sensitively

commit 7cefceb1ff51390397524474ca59f9d5e7ef3eca
Author: shaunkawano <shaunkawano@gmail.com>
Date:   Sun Sep 4 14:05:25 2016 +0900

    Modify for-loop more performance sensitively

commit 66d028048d311cb9cb5c6644c979a4dbada3188b
Merge: 3c9c034 749f4b9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Sep 2 00:09:26 2016 -0400

    Merge pull request #2831 from square/jw/empty-body
    
    WebSockets should show an empty body to interceptors.

commit 749f4b960c884c5f985bdab86b86fc9e44db71c6
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Sep 1 09:24:44 2016 -0400

    WebSockets should show an empty body to interceptors.

commit 3c9c0342cd1975b8f53b1b8864d90bc13c03dd1a
Merge: 84472ac 4225f73
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Aug 31 23:34:33 2016 -0400

    Merge pull request #2823 from square/jw/someone-set-up-us-the
    
    Make string() and charStream() BOM-aware.

commit 4225f73d4c756664bbc83ccb7acd84140d15c93c
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Aug 30 08:44:52 2016 -0400

    Make string() and charStream() BOM-aware.

commit ba1edd048e5fae9ee97fc9b524e251ae7254c0e6
Author: jwilson <jwilson@squareup.com>
Date:   Sun Aug 28 18:13:42 2016 -0400

    Upgrade to Okio 1.10.

commit 84472ac3dbd19b488b950674634778476148cdfd
Merge: 65a1134 5f26982
Author: jwilson <jwilson@squareup.com>
Date:   Sun Aug 28 13:07:33 2016 -0400

    Merge branch 'yschimke-flaky_test'
    
    * yschimke-flaky_test:
      fix flaky test CallTest.legalToExecuteTwiceCloning_Async

commit 5f26982c393177b6807537e499eee3e4e7a9d94e
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Wed Aug 24 07:06:38 2016 +0100

    fix flaky test CallTest.legalToExecuteTwiceCloning_Async

commit 65a113432495b94e1752e91420cd0a5852a8357b
Merge: c25fb7f 45f9338
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Aug 23 08:16:39 2016 -0400

    Merge pull request #2804 from yschimke/clientauth_example
    
    Clientauth example

commit c25fb7fe20331eb28f23f61d97a50c7bc40fa4c4
Merge: 63eef5a 557e475
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Aug 22 06:55:59 2016 -0400

    Merge pull request #2806 from boxme/boxme.0822.update.pom.for.java.update
    
    Add mvn profile for ALPN version 8.1.9.v20160720 for jdk8 102

commit 557e4759cc5ebc2abdde57fc715eb4de1e26b5e1
Author: boxme <desmond.ng.yang.yi@gmail.com>
Date:   Mon Aug 22 12:05:58 2016 +0800

    Add mvn profile for ALPN version 8.1.9.v20160720 for jdk8 102

commit 45f9338ea8cddaddd833cb427a94ee049b8ebc01
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sat Aug 20 10:07:30 2016 +0100

    client auth tests
    
    Verify client auth support for JDK cases.

commit 63eef5afaff2bd1439422401e1b92162cbeeb494
Merge: d854e6d 40f2efa
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Aug 17 16:29:23 2016 -0400

    Merge pull request #2800 from goncalossilva/patch-1
    
    Fix typo in CHANGELOG.md

commit 40f2efa543e66badfd113d575d42ae79d4966a57
Author: Gonçalo Silva <goncalossilva@gmail.com>
Date:   Wed Aug 17 21:04:49 2016 +0100

    Fix typo in CHANGELOG.md

commit d854e6d5ad93da4da9b5d5818ee752477e501b18
Merge: 7f53615 7b2cbab
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Aug 14 00:39:25 2016 -0400

    Merge pull request #2790 from jwendell/WebSocketEcho-Improvements
    
    Improve WebSocketEcho example

commit 7b2cbab2b7983a78014de7524f2e1db3a718116d
Author: Jonh Wendell <jonh.wendell@redhat.com>
Date:   Sat Aug 13 13:40:20 2016 -0300

    Improve WebSocketEcho example
    
    Shutdown the executor upon close or failure. This avoids the program
    hanging after finished the execution.
    
    Set the client read timeout to 0 (the default timeout is 10s). A read
    timeout doesn't make sense for a WebSocket.

commit 7f53615807ed9898b1220f97e7288a3ec1ea46e8
Merge: 59c096d 393650b
Author: jwilson <jwilson@squareup.com>
Date:   Wed Aug 10 18:54:00 2016 -0400

    Merge branch 'WhiskeyBravo-master'
    
    * WhiskeyBravo-master:
      Fix a documentation typo in OkHttpClient.

commit 393650bfb706c2bbe4ae4590f815312511c84776
Author: WhiskeyBravo <WhiskeyBravo@users.noreply.github.com>
Date:   Wed Aug 10 14:22:43 2016 +0200

    Fix a documentation typo in OkHttpClient.

commit 59c096ddfc650e56f6030c8bbae9c7a544a725d2
Merge: 8504f3a ecbcd51
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Aug 7 13:35:59 2016 -0400

    Merge pull request #2765 from square/dr.0801.connection-leak-info
    
    Provide capability to capture the Call stack trace on leaked connections.

commit ecbcd51fc99c565496be15cfd7eadca465ae4a06
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sun Aug 7 11:51:19 2016 -0400

    Provide capability to capture the Call stack trace on leaked connections.
    
    Also plugged some leaks discovered after running the tests with this
    change in place.
    
    https://github.com/square/okhttp/issues/2127

commit 8504f3a00f373f6b924cc4920dc34d4fbae06054
Merge: 35283b8 913f16b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Aug 2 00:28:38 2016 -0400

    Merge pull request #2750 from square/jwilson.0725.source_relay
    
    Relay. This is a single entry in the upcoming DiskLruCache2.

commit 35283b8950b9d6796608fc339a3e617aaed1d4ab
Merge: 2494ec3 b875778
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jul 31 07:39:59 2016 -0400

    Merge pull request #2391 from rburgst/master
    
    PROPFIND redirects should maintain request body

commit b875778b5544bf276e1e4693d65a45c952eb9347
Author: Rainer Burgstaller <rainer.burgstaller@e-mundo.de>
Date:   Tue Mar 8 06:53:11 2016 +0100

    PROPFIND redirects should maintain request body
    
    the fact that all redirects strip the request body is somewhat unusual.
    In WEBDAV the body contains restrictions such as the depth of how much
    data you want to receive. Stripping this off will produce an unlimited
    request with unlimited depth (where the initial request had depth 1).
    
    - havent checked other WEBDAV methods though whether they require similar
      treatment.

commit 2494ec3362c7b30ca38091de4fc5f6f9be898338
Merge: 6dd8da7 3f65124
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Jul 30 13:41:54 2016 -0600

    Merge pull request #2763 from square/jwilson.0730.fix_sync_guard
    
    Guard allocation changes by the connection pool lock.

commit 3f651242766ffdb68d76d426e02b17c971a85dc6
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 30 10:59:43 2016 -0400

    Guard allocation changes by the connection pool lock.
    
    As suggested here: https://github.com/square/okhttp/pull/2597/files

commit 6dd8da72f94f26c74ca3a23ff96a09d6558fbf1e
Merge: 915c3a4 eb20b15
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 30 11:05:25 2016 -0400

    Merge branch 'artem-zinnatullin-response-body-string-javadoc'
    
    * artem-zinnatullin-response-body-string-javadoc:
      Clarify behavior of ResponseBody.string() in its javadoc

commit eb20b1505676e3e2e40a16e6009ef6cc6745051b
Author: Artem Zinnatullin <artem.zinnatullin@gmail.com>
Date:   Mon Apr 4 19:05:21 2016 +0300

    Clarify behavior of ResponseBody.string() in its javadoc

commit 913f16bcd84e0cac1e1b0ed10d64939ec77823ed
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jul 24 15:27:06 2016 -0400

    Relay. This is a single entry in the upcoming DiskLruCache2.
    
    At the moment there are some things still incomplete:
     - Timeouts. Not yet tested, and no great implementation plan.
     - Thread interrupts. This has been quite problematic for
       the original DiskLruCache. We should test and support this
       in Relay.
     - File system problems. If the host file system is full or not
       accepting writes, we should fallback gracefully. This may
       be difficult.
     - Metadata updates. At the moment the metadata is permanent
       and immutable.
    
    That said, many nice features are already implemented:
     - Metadata and stream data in one file.
     - No locks held during file I/O or network I/O.
     - Read from the buffer, the file, or the socket in that order.
     - Reference counting on open sources. It is assumed that the
       creator of each Relay will take a source, and that guarantees
       that the count will always reach 0.

commit 915c3a41af37aa2446fc5d4a71b7cef22a919ff7
Merge: 5d39392 27cc66c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jul 29 10:19:11 2016 -0400

    Merge pull request #2751 from boxme/boxme.0726.redacted.httpurl
    
    Method redact the url in HttpUrl

commit 27cc66ca6866ff9096014dbd0ebf94252da4ae1a
Author: boxme <desmond.ng.yang.yi@gmail.com>
Date:   Tue Jul 26 14:15:57 2016 +0800

    HttpUrl#redact() to only return the HttpUrl free of username, password, path, query, and fragment

commit 5d39392ee94885ee142e8dd2e234977cfaacf9cb
Merge: 84fb2c3 9958fc6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jul 28 18:25:43 2016 -0400

    Merge pull request #2758 from 15characterlimi/01-cache-header-prefix
    
    Make tests portable to platforms with different Header prefixes

commit 9958fc6934a2c1a72146cb7d4f32bdde37b9c801
Author: Tobias Thierer <tobiast@google.com>
Date:   Thu Jul 28 12:49:52 2016 +0100

    Make tests portable to platforms with different Header prefixes
    
    Some tests hard coded cache entries with OkHttp-Received-Millis
    and OkHttp-Sent-Millis headers. Platforms are allowed to have
    prefixes other than the default value "OkHttp", which broke
    those tests.

commit 84fb2c3ae19128e7e996627f82df38f3a32fc7cc
Merge: 6014ab9 a003e84
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jul 25 08:00:45 2016 -0400

    Merge pull request #2744 from square/jwilson.0723.file_operator
    
    FileOperator, a utility for doing random access I/O with Okio.

commit a003e845e1e4780aa3e259ae7d9d83f91ff98765
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 23 21:57:28 2016 -0400

    FileOperator, a utility for doing random access I/O with Okio.
    
    This is just the basics that I need for DiskLruCache2. It's not a
    particularly general purpose API and at the moment there are no
    plans to expose it as such.
    
    https://github.com/square/okhttp/issues/2682

commit 6014ab9752cff344a0baf57eb7626d98ca1d3401
Merge: ced243e 591d595
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jul 24 19:16:20 2016 -0400

    Merge pull request #2741 from square/jwilson.0722.dusting
    
    Remove some dead code pointed out by running coverage.

commit 591d59556153555c9f5b56bf601780a817defc09
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jul 22 10:13:23 2016 -0400

    Remove some dead code pointed out by running coverage.
    
    AOSP doesn't use SystemPropertiesConnectionPool so it's useless. It also doesn't
    need to configure protocols through request properties.

commit ced243ebdca8d0df7467820df1c9edf77ea388f6
Merge: f91f977 3aef68b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jul 16 09:54:03 2016 -0400

    Merge pull request #2727 from square/dr.0714.huffman
    
    Huffman encode string literals to save bytes in HPACK encoder.

commit 3aef68bb633717b44b9a233fa2ccf1bc43a62a53
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Thu Jul 14 21:00:46 2016 -0400

    Huffman encode string literals to save bytes in HPACK encoder.

commit 2399b4068d9451b1f8f7aed3bfa7120532d30ee0
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Thu Jul 14 20:52:23 2016 -0400

    Clarify comparison test for a change in header table size.

commit f91f97795b6fc3ccfec3d2ec4ea46abe733012df
Merge: 60b577f fd509b9
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jul 12 23:37:27 2016 -0400

    Merge pull request #2722 from square/jwilson.0712.cookiedots
    
    Inject a leading . for better matching under JavaNetCookieJar

commit fd509b937c4a5438fe02ddf06ade5ad56736af5d
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jul 12 23:22:49 2016 -0400

    Inject a leading . for better matching under JavaNetCookieJar
    
    Closes: https://github.com/square/okhttp/issues/2549

commit 60b577fecc32a7ee2eb252a69163e6f145e54c83
Merge: 8510d64 bf40d52
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Jul 11 22:44:11 2016 -0400

    Merge pull request #2721 from square/jwilson.0711.single_inet_address
    
    Fix a test to not require a fallback IP address.

commit bf40d52edbb88d5afaa35af24837e3b72ac84eab
Author: jwilson <jwilson@squareup.com>
Date:   Mon Jul 11 22:32:51 2016 -0400

    Fix a test to not require a fallback IP address.
    
    This might be an unexpected upside of the migration to the Call API.
    
    Closes: https://github.com/square/okhttp/issues/2178

commit 8510d646bdb97321dcc7206d8e42b8179810396d
Merge: 9c67901 ed1bde7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jul 10 23:36:41 2016 -0400

    Merge pull request #2717 from square/jwilson.0710.single_quotes
    
    Be lenient if a character set is 'single-quoted'.

commit ed1bde7508c13df61c9ae3a87671a399dba72c6a
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jul 10 22:08:15 2016 -0400

    Be lenient if a character set is 'single-quoted'.
    
    It's what Chrome does. Firefox and Safari ignore it. I'd love to ignore
    it, but in our API that really just means the caller needs to handle an
    InvalidCharsetNameException and nobody is expecting that.
    
    Closes: https://github.com/square/okhttp/issues/2677

commit 9c67901c1617b19b6bfec52f069f87c18bd87e80
Merge: 93c4cb0 d253962
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jul 10 11:48:21 2016 -0400

    Merge pull request #2716 from square/jwilson.0710.hpack_sigh
    
    Fix a major bug in our HPACK encoder.

commit 93c4cb05312a8a3c8b726270ed15a88e93bce8df
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jul 10 11:42:39 2016 -0400

    Update changelog for 3.4.1.

commit d2539622e011409450b526e4eaa7011e29632567
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jul 10 11:34:02 2016 -0400

    Fix HPACK tests to use the http2 package.

commit 8318fadb32d6967c40bea66bd6cd56e31f6d38e5
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jul 10 10:23:22 2016 -0400

    Fix a major bug in our HPACK encoder.
    
    Running the HPACK regression suite shows that in some cases we may
    use the wrong dynamic index after the dynamic table has been resized.
    
    This fixes the problem and simplifies the implementation to avoid
    maps with Integer values, which were difficult to reason about and
    easy to get out-of-sync with the main table.

commit 566964ae2e4567cdceb3abf52d097d64929d4a43
Merge: 33660bf 3d43a8d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Jul 9 22:29:16 2016 -0400

    Merge pull request #2714 from square/jwilson.0709.rename_framed
    
    Rename FramedConnection to Http2Connection.

commit 3d43a8dba89ccd7333c3ebcf74928e441790d943
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 9 18:08:02 2016 -0400

    Rename FramedConnection to Http2Connection.
    
    Also rename HttpStream to HttpCodec. This is the interface implemented
    for both HTTP/1.1 and HTTP/2. The HTTP/2 codec creates a stream when
    it is used.

commit 33660bf58babd09521d19ef0ed1b09c15a5e27bb
Merge: d600f77 0c04821
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jul 9 17:27:23 2016 -0400

    Merge pull request #2712 from square/jwilson.0709.drop_spdy
    
    Drop support for SPDY/3.

commit 0c04821a25c83fddebb29e8cd590609142ba20a2
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 9 10:50:07 2016 -0400

    Drop support for SPDY/3.
    
    It's redundant with HTTP/2.

commit d600f7738b3478d022e4e396618f8b4b333e3eab
Merge: 58c3e2c bd99da4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jul 9 15:57:27 2016 -0400

    Merge pull request #2713 from inorichi/call-clone
    
    Allow to clone calls

commit 58c3e2c6de5b14ea4ee4754393b1fcd74f3dfe2c
Merge: a3bcaa3 576fe76
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Jul 9 11:30:42 2016 -0400

    Merge pull request #2711 from square/jwilson.0709.html
    
    Don't waste bandwidth crawling non-HTML resources.

commit bd99da4bbc2fc6c3fc3d2a44b06033ae011e8317
Author: len <len@kanade.eu>
Date:   Sat Jul 9 16:40:23 2016 +0200

    Allow to clone calls

commit 576fe7613073ea8b741b9e05498bc669ec8c2b21
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 9 07:23:34 2016 -0400

    Don't waste bandwidth crawling non-HTML resources.

commit a3bcaa3b6e30409094319dfbf5010dfd2322778a
Merge: 56eb3ac 13cbf1b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jul 8 23:15:36 2016 -0400

    Merge pull request #2690 from square/jwilson.0703.new_cipher_suites
    
    Update cipher suites to track Chrome 51 and Firefox 47.

commit 56eb3ac38eadf36fb969569e5df08614761368c4
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jul 8 22:57:16 2016 -0400

    Update changelog for 3.4.0.

commit f85cae7f0daa4e47a1bb5e69bff169efb00c7742
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jul 8 22:39:32 2016 -0400

    [maven-release-plugin] prepare for next development iteration

commit ee2b9a2917423ceb9e9908636982dd492628f402
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jul 8 22:39:28 2016 -0400

    [maven-release-plugin] prepare release parent-3.4.0

commit 04fd74fe0c1b9ccb11129b4eecd1be8db68541a2
Merge: 09f409c 9710e1f
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Jul 8 22:26:11 2016 -0400

    Merge pull request #2710 from square/jwilson.0708.okhttpclient_lifecycle
    
    Document OkHttpClient best practices.

commit 09f409c21db13a42ad57b84389dcafd80d93f374
Merge: e9245a2 a0b9308
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jul 8 22:22:27 2016 -0400

    Merge pull request #2708 from jrodbx/update-docs
    
    Update Javadoc example for HttpUrl.encodedPath()

commit 9710e1f7f840d701ae0ecf8e09b744399dc776c5
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jul 8 22:19:28 2016 -0400

    Document OkHttpClient best practices.
    
    Closes: https://github.com/square/okhttp/issues/2636

commit a0b9308d270c6d107c57adb1d017901897b5c9a4
Author: John Rodriguez <john.rodriguez@gmail.com>
Date:   Fri Jul 8 03:03:11 2016 -0700

    Update Javadoc example

commit e9245a26d82cd9af6630ebe6ddf107d978cbad7f
Merge: a8bed0f 1267cb9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jul 7 21:54:34 2016 -0400

    Merge pull request #2703 from square/dr.0706.hpack-encoder-table-size
    
    Add support for dynamic table size changes to HPACK Encoder.

commit a8bed0fd1751fe185fe56656d8f4f15e17d47905
Merge: f491389 8688f53
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jul 7 00:28:16 2016 -0400

    Merge pull request #2697 from square/jwilson.0705.url_docs
    
    More docs for HttpUrl.

commit 8688f539f17b5fe1be9ffc8bf167b88b1558084a
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jul 5 20:06:43 2016 -0400

    More docs for HttpUrl.
    
    Closes: https://github.com/square/okhttp/issues/2577
    Closes: https://github.com/square/okhttp/issues/2263

commit 1267cb958c507f123ab135cac638768009dc84b5
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Wed Jul 6 20:35:05 2016 -0400

    Add support for dynamic table size changes to HPACK Encoder.

commit f491389d146014ac892417db15d495bcbc459728
Merge: 2f7c3e4 0eab24c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jul 6 10:11:43 2016 -0400

    Merge pull request #2702 from a-k-g/headers-multimap-use-treemap
    
    Use TreeMap in Headers.toMultimap()

commit 0eab24c91ab19dd6f63af02ae460c6b770ee65fe
Author: Aakash Goenka <aakash.goenka@gmail.com>
Date:   Wed Jul 6 13:43:39 2016 +0100

    Use TreeMap in Headers.toMultimap()

commit 2f7c3e404c4f8efb935bb2ed1d141796546e285e
Merge: 3d22fe1 f4f5ca9
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jul 5 07:14:57 2016 -0400

    Merge pull request #2695 from friederbluemle/fix-javadoc
    
    Fix logging-interceptor Javadoc typo

commit f4f5ca9a8db97c1e0a90d110e390aff1b2a04d7f
Author: Frieder Bluemle <frieder.bluemle@gmail.com>
Date:   Tue Jul 5 19:08:16 2016 +0800

    Fix logging-interceptor Javadoc typo

commit 3d22fe118923141704e96bf318f4ca30d1cb616b
Merge: 88e245e 764c35e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jul 4 09:10:29 2016 -0400

    Merge pull request #2692 from square/jwilson.0703.dispatcher
    
    Don't share the OkHttpClient's Dispatcher in HttpURLConnection.

commit 764c35e7842c8828e6686e318facfca0a11d49ba
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jul 3 23:22:51 2016 -0400

    Don't share the OkHttpClient's Dispatcher in HttpURLConnection.
    
    Any limits enforced here would be awkward because there's an application
    thread blocked on the work anyway.
    
    Closes: https://github.com/square/okhttp/issues/2667

commit 88e245e6de90393d21c28a037fb61d02d5653c19
Merge: 7e773f3 8fe73c0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jul 3 13:46:17 2016 -0400

    Merge pull request #2688 from yschimke/java9_tests
    
    Java9 tests

commit 13cbf1b6e7cada48a62927cfe1d88f763cbdbbcf
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jul 3 13:09:35 2016 -0400

    Update cipher suites to track Chrome 51 and Firefox 47.
    
    I've updated the cipher suites spreadsheet to track rankings of the
    cipher suites by client.
    
    https://docs.google.com/spreadsheets/d/1C3FdZSlCBq_-qrVwG1KDIzNIB3Hyg_rKAcgmSzOsHyQ/edit#gid=0
    
    With this update we're adding support for the following cipher suites:
    
      * TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
      * TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
      * TLS_RSA_WITH_AES_256_GCM_SHA384
        Recently added to Chrome.
    
      * TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256
      * TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
        Recently added to Chrome and Firefox. Newly available in Android 7.0.
    
    We're dropping support for the following cipher suites:
    
      * TLS_DHE_RSA_WITH_AES_128_GCM_SHA256
        This isn't supported by recent versions of Firefox or Chrome.
    
      * TLS_DHE_RSA_WITH_AES_128_CBC_SHA
      * TLS_DHE_RSA_WITH_AES_256_CBC_SHA
        These two cipher suites were dropped by Chrome between v.46 and 51. They
        are still present in the current release of Firefox.
    
    With this update TLS connections that work in Chrome 51 should work in OkHttp
    and vice versa.

commit 8fe73c05d800282d33bf7747f06cad9c0f5508a2
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sat Jul 2 09:15:36 2016 -0700

    java 9 tests

commit 7e773f39f9161f5ced509cd6c669b3f43bef2c98
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 2 23:18:34 2016 -0400

    [maven-release-plugin] prepare for next development iteration

commit 9db491924acdac431fe51d274deed270003a1633
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 2 23:18:29 2016 -0400

    [maven-release-plugin] prepare release parent-3.4.0-RC1

commit 738f7fa4def3bc9da39c8b815fe0905a6e6505fa
Merge: f98ff25 1f58b14
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Jul 2 22:58:44 2016 -0400

    Merge pull request #2686 from square/jwilson.0702.cleartext
    
    Always pass a host to NetworkSecurityPolicy.isCleartextTrafficPermitted

commit f98ff257ceb949b404ec5d6cb1fece0e22e53264
Merge: e49bf70 ffd9dbe
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jul 2 22:26:47 2016 -0400

    Merge pull request #2689 from square/dr.0702.hpack-decoder
    
    Removed ability to change the HPACK decoder header table size setting.

commit ffd9dbec89743c35fc8c6819cf52aec953b45c12
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Fri Jul 1 08:15:18 2016 -0400

    Removed ability to change the HPACK decoder header table size setting.
    
    Previously, we exposed this method and called it when receiving the
    header table size setting from a remote peer. We concluded this was not
    the intent of the spec and removed that code.

commit 1f58b14bd18565b3dc4aaf15c072033e68b69660
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 2 10:43:02 2016 -0400

    Always pass a host to NetworkSecurityPolicy.isCleartextTrafficPermitted().
    
    Previously we were misinterpretting which hosts this method applied to.
    Suppose an Android app was configured to require TLS for bank.com and
    not for any other address. The NetworkSecurityPolicy.isCleartextTrafficPermitted()
    method would return false because cleartext traffic wasn't universally
    permitted. And OkHttp would incorrectly forbid cleartext communication
    to other hosts like puppies.com.
    
    Closes: https://github.com/square/okhttp/issues/2640

commit e49bf7015757d321ba01f6307f367b57c15766e3
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 2 13:37:08 2016 -0400

    Update changelog for OkHttp 3.4.0-RC1.

commit ae1ef1604d73d447222e958041f0cd9ebe85ba3b
Merge: 8d51e74 537df42
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jul 2 11:00:52 2016 -0400

    Merge pull request #2685 from square/jwilson.0702.pipe
    
    Upgrade to Okio 1.9 and use its pipe.

commit 8d51e740d77c6c80b9074162f8f0f6bd43bd37d3
Merge: 35e29d9 a4d3082
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jul 2 10:56:44 2016 -0400

    Merge pull request #2666 from square/jwilson.0626.dead_code
    
    Run IntelliJ's analysis on OkHttp.

commit 537df4219cd16c0db9b94d3f8509df16cc3925d7
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 2 10:11:26 2016 -0400

    Upgrade to Okio 1.9 and use its pipe.

commit 35e29d9edb15fd9a405294a0d7c8e759b1931a70
Merge: b337147 50ff1e1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jul 1 13:52:42 2016 -0400

    Merge pull request #2684 from square/jwilson.0701.non_ascii_etag
    
    Permit non-ASCII ETag headers.

commit 50ff1e140f349e5a29e6462f834a713053bd4831
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jul 1 13:05:19 2016 -0400

    Permit non-ASCII ETag headers.
    
    These are currently being encoded in UTF-8, and the charset is not
    otherwise specified, so the result is not necessarily going to
    succeed at caching.
    
    But this avoids crashing when the server returns an unexpected ETag.
    
    Closes: https://github.com/square/okhttp/issues/2628

commit b33714770e52c2b4a1dedf3837c18b35ac1a411d
Merge: f5099ce a5dc310
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jun 30 20:59:53 2016 -0400

    Merge pull request #2673 from square/dr.0627.arbitrary-hpack-decode
    
    Do not allow remote peer to arbitrarily size the HPACK decoder dynamic table.

commit f5099ce11f9b9df4eaf2000b80343868f1799176
Merge: 988142c 1ef0b07
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jun 28 18:22:10 2016 -0400

    Merge branch '15characterlimi-delegate'
    
    * 15characterlimi-delegate:
      Cleanup refactoring: Move 3 methods into DelegatingHttpsURLConnection

commit 1ef0b078a8f690f72db8243ef4b8c207a5aa2acd
Author: Tobias Thierer <tobiast@google.com>
Date:   Sun Jun 26 16:34:46 2016 +0100

    Cleanup refactoring: Move 3 methods into DelegatingHttpsURLConnection
    
    These three methods were delegating to delegate; their implementation
    was duplicated across both subclasses of DelegatingHttpsURLConnection.
    
    This change moves them into the base class in order to
      - avoid duplication
      - separate the responsibility of delegation (base class) from the
        responsibility of change to behavior (subclasses).
    
    Notes:
     - Since these three methods are not available in Java 6, each of
       these need a @IgnoreJRERequirement annotation to pass the
       animal sniffer test. This appears like it should have been
       necessary before but for some reason it used to pass without.
     - This in turn requires a new dependency from okhttp-urlconnection
       onto animal-sniffer-annotations. The dependency was added onto
       version 1.11 of that library (consistent with okhttp itself);
       okio depends on version 1.10, the latest version is 1.15.

commit a5dc3106c54ae0aecd9237ffd942924e61ad5c0f
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Mon Jun 27 20:25:23 2016 -0400

    Do not allow remote peer to arbitrarily size the HPACK decoder dynamic table.

commit a4d3082d2f705598c753702863a3068bc36621cc
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 26 23:55:18 2016 -0400

    Run IntelliJ's analysis on OkHttp.
    
    This made a few hundred suggestions, many of which are thoughtful but
    I'm deliberately ignoring anyway.
    
    The following fixes are good ideas.

commit 988142cfe555547bc1df4370babe12c6be86cf3e
Merge: 81b3a99 c518758
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jun 26 23:13:22 2016 -0400

    Merge pull request #2665 from square/jwilson.0626.packages
    
    Add connection, cache, and platform subpackages.

commit c5187583bbfe93fe58db80f95b5b478c84180c29
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 26 23:01:07 2016 -0400

    Add connection, cache, and platform subpackages.

commit 81b3a99aea8571942e5fb18b5c189c4596087076
Merge: 5c7bbf6 e3b3180
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jun 26 21:10:49 2016 -0400

    Merge pull request #2664 from square/jwilson.0625.stream_allocation
    
    Split HttpEngine into 3 interceptors.

commit e3b3180f9c4cc8821e9092955127935fa956a988
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 26 08:08:35 2016 -0400

    Split HttpEngine into 3 interceptors.
    
    BridgeInterceptor does some basic header management and implements gzip
    on responses.
    
    CacheInterceptor implements HTTP response caching.
    
    ConnectInterceptor takes the StreamAllocation that's already allocated
    and uses it to create an HttpStream.

commit 5c7bbf6f9e4251a252a29ba09538d31174771127
Merge: 3e16168 5b8c043
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jun 26 00:48:06 2016 -0400

    Merge pull request #2661 from square/jwilson.0625.share_test_dispatcher
    
    Fix tests to share a common Dispatcher.

commit 3e161686a8f60264eba00d8fa5426da4b87b7f10
Merge: a73da4d c6a578e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jun 26 00:45:53 2016 -0400

    Merge pull request #2660 from square/jwilson.0625.move_interceptors
    
    Move core interceptors into top level classes.

commit a73da4dfb0edf2ab141a997e73329d89bfdca151
Merge: 668721f 2843933
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 25 23:22:09 2016 -0400

    Merge pull request #2659 from square/jwilson.0625.unexpected_exceptions
    
    Fix OkHttpURLConnection to not swallow unexpected exceptions.

commit 5b8c043329b181d6d762d6192f3ded8abd84852e
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 25 19:44:33 2016 -0400

    Fix tests to share a common Dispatcher.
    
    Also fix the memory limit, which may prevent Travis from failing
    our tests.

commit c6a578ec7696430ecf5a4d4fd8f49c39b105b471
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 25 19:13:35 2016 -0400

    Move core interceptors into top level classes.
    
    No behavior changes here.

commit 668721f7dacf2f2d0d7c1a681b57d3157eb275d1
Merge: 89dc6d0 15a5bc4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 25 19:11:55 2016 -0400

    Merge pull request #2657 from square/jwilson.0625.all_interceptors
    
    Collapse interceptors into a single chain.

commit 15a5bc40a4520d935bbc02a3552f51dda77fcc9c
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 25 13:44:09 2016 -0400

    Collapse interceptors into a single chain.
    
    Instead of having a chain of application interceptors and a separate chain
    of network interceptors, this makes a single heterogeneous chain. It makes
    the OkHttp core and network caller into interceptors.

commit 2843933b4b4778451d1d43822db1a148bf2aa7ea
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 25 17:19:03 2016 -0400

    Fix OkHttpURLConnection to not swallow unexpected exceptions.
    
    Previously we would sometimes delegate to the asynchronous implementation,
    and that would prevent exceptions from reaching their destination.

commit 89dc6d0c3d6a48eaa4eda2a635a0735f9e134fa8
Merge: af79615 d8213e8
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 25 17:22:09 2016 -0400

    Merge pull request #2647 from square/jwilson.0621.dont_retry
    
    Don't retry streamed HTTP request bodies.

commit d8213e8156909a073de8f6a552bc2a934fb65d67
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jun 21 23:26:37 2016 -0400

    Don't retry streamed HTTP request bodies.

commit af79615e8a7d91c60916b7edb9b3b673bbb9b4bd
Merge: 3f282e8 ec39c46
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Jun 25 15:56:13 2016 -0400

    Merge pull request #2658 from square/jwilson.0625.rename
    
    Rename HttpURLConnectionImpl to OkHttpURLConnection.

commit ec39c462324c0a54e6abf06cbf8079298056b7d5
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 25 15:27:42 2016 -0400

    Rename HttpURLConnectionImpl to OkHttpURLConnection.
    
    This is an internal class so nobody should see the name. But having a
    completely different name will make it much easier to diagnose future
    stacktraces because the internal implementation has changed so much
    recently.
    
    Also share fewer internal details with the rest of OkHttp. In particular
    remove the OkHttp-Selected-Protocol and OkHttp-Response-Source headers
    from the core.

commit 3f282e8bf0b8af519cbf35833fdcf69d824661fc
Merge: 6960fbd 75ade97
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 25 13:57:07 2016 -0400

    Merge pull request #2656 from square/jwilson.0625.pedant
    
    Small formatting fixes.

commit 75ade972295446dbaaec9dd0d272fc7e1275674e
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 25 12:23:41 2016 -0400

    Small formatting fixes.

commit 6960fbd65c37db62059a7138977e5fc2640298b0
Merge: 8fa796e fcedc17
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 25 12:18:05 2016 -0400

    Merge pull request #2552 from mostleg/adding_dynamic_table
    
    Add a simple version dynamic table of HPACK to the writer client.

commit 8fa796e175e7d855feb15d368cbfd645223a0af0
Merge: b1aae0c ebd7834
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 25 12:12:40 2016 -0400

    Merge pull request #2614 from 15characterlimi/ciphersuite
    
    Let CipherSuites have arbitrary names.

commit b1aae0c3618c71d5d8fda0a32f7d962fd04d1f1c
Merge: 6133a93 df73a7e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jun 24 00:01:05 2016 -0400

    Merge pull request #2642 from 15characterlimi/socksproxy
    
    Let SocksProxy use the same definition of localhost as MockWebServer.

commit 6133a9361b80a3a4a1add53d620ec0c21df04500
Merge: b45c7c8 5764083
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jun 23 23:45:00 2016 -0400

    Merge pull request #2648 from square/jwilson.0622.fold_stuff_together
    
    Begin to fold together parts of RealCall and HttpEngine.

commit 576408374d58a3e9a63714b6f7761cb42a315102
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jun 22 00:38:22 2016 -0400

    Begin to fold together parts of RealCall and HttpEngine.
    
    Previously we had an awkward, arbitrary separation because RealCall contained
    the stuff that wasn't in HttpURLConnection, and HttpEngine contained everything
    that was shared.
    
    It was also awkward because HttpEngine could be interrupted in various parts
    of the HttpURLConnection flow: after connecting, while transmitting the request
    body, etc. With this change we no longer need to handle API calls while we're
    in these intermediate states, which means we can reduce the scope of certain
    things from fields to local variables.
    
    There's still a way to go here but this is more easy wins.

commit b45c7c868824efc42bd88b1ecd97d7a2536c2485
Merge: 5b0f6d9 0f5c5c6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jun 21 16:33:22 2016 -0400

    Merge pull request #2645 from square/jwilson.0621.dead_codes
    
    First pass of deleting code only needed by the old HttpURLConnection.

commit 0f5c5c6431cfe7e5227d90fc08e822cd3b2cec9f
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jun 21 16:18:32 2016 -0400

    First pass of deleting code only needed by the old HttpURLConnection.
    
    There's still a lot of refactoring and cleanup possible, but this is an easy first step.

commit 5b0f6d9be5d730dca04138fafd330b76de4f2678
Merge: 19c08a0 084b06b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jun 21 15:09:35 2016 -0400

    Merge pull request #2639 from square/jwilson.0619.native_httpurlconnection
    
    Reimplement HttpURLConnection on the native OkHttp API.

commit ebd7834c3fa611a2123cd7e5e1fe381fd20dba49
Author: Tobias Thierer <tobiast@google.com>
Date:   Fri Jun 10 19:33:36 2016 +0100

    Let CipherSuites have arbitrary names.
    
    This allows Handshake to accept CipherSuite names that do not have a
    corresponding predefined instance in CipherSuite.java, including ones
    that conscrypt uses today or might use in future.
    
    The following OkHttp 3 APIs are not changed by this CL:
    
     - ConnectionSpec still uses Strings to represent CipherSuites for now.
    
     - CipherSuites are interned (value equality is based on object
       equality) in order to not break clients that use ==.
    
    This CL does introduce these API and behavioral changes:
     - CipherSuite instances constructed via CipherSuite.forJavaName("TLS_" + s)
       will now always be different from CipherSuite.forJavaName("SSL_" + s)
       for all possible values of s. Previously, there were 19 specific
       values of s for which those would have yielded equal instances.
     - Since CipherSuite is no longer an enum, it no longer extends Enum,
       no longer has name() or valueOf() methods, and no longer implements
       Serializable.
    
    Change-Id: I9a544e1c0a51848d492883b3c9b4579899e2744a

commit 084b06b48bae2b566bb1be3415b6c847d8ea3682
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 19 13:28:24 2016 -0400

    Reimplement HttpURLConnection on the native OkHttp API.

commit 19c08a00fad097e67d2f6d0ed3c1f4a3671c8743
Merge: e444ded 943b582
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jun 21 13:55:16 2016 -0400

    Merge pull request #2643 from 15characterlimi/mockwebservertest
    
    Reduce memory requirements for MockWebServerTest.disconnectHalfway().

commit 943b582a3605ea104666e710198ceda40b8455ec
Author: Tobias Thierer <tobiast@google.com>
Date:   Wed Jun 15 22:03:55 2016 +0100

    Reduce memory requirements for MockWebServerTest.disconnectHalfway().
    
    MockWebServer.readRequest() was accumulating the request body (1 GByte)
    into an unbounded buffer held in memory. This caused the test to fail
    with an OutOfMemoryError on low-memory devices. Due to the OOME, not
    even a stacktrace was available.
    
    This CL introduces setBodyLimit() to limit the amount of data held in
    memory. Note that this is similar to the call to setBodyLimit(0) that
    already exists in URLConnectionTest.veryLargeFixedLengthRequest().

commit df73a7e98e8450813325d28458b6bdd4b8b11791
Author: Tobias Thierer <tobiast@google.com>
Date:   Tue Jun 21 17:25:00 2016 +0100

    Let SocksProxy use the same definition of localhost as MockWebServer.
    
    This fixes SocksProxyTest failing on some systems. The problem was that
    MockWebServer is listening on InetAddress.getByName("localhost") but
    SocksProxy was trying to connect to InetAddress.getLoopbackAddress().
    This is not guaranteed to work, for example on recent AOSP, "localhost"
    resolves to 127.0.0.1 but getLoopbackAddress() is ::1 (IPv6).
    
    This CL makes the simplest change to make the two consistent so that
    SocksProxyTest passes. In the long run, OkHttp may want to consider
    using getLoopbackAddress().getHostname() everywhere instead of hard
    coding the hostname "localhost" at all.

commit e444deddd9683fc2fd586c889d9352c35089504d
Merge: 0f48597 9b4e74f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jun 19 00:33:01 2016 -0400

    Merge pull request #2638 from square/jwilson.0618.pipe
    
    A Pipe.

commit 9b4e74f8c8ce6fff4281c2d7369fb25f6772a64e
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 18 14:11:20 2016 -0400

    A Pipe.
    
    This is something we need to implement HttpURLConnection atop the native
    OkHttp API. The application thread wants to be active, writing to its
    OutputStream. But in OkHttp's API, this work wants to happen in the
    RequestBody.writeTo() callback. To make this work we give the HttpUrlConnection
    OutputStream the sink end of the pipe, and the RequestBody the source end
    of the pipe. It's a bit of plumbing, but the benefit is that backpressure,
    timeouts, and failures will propagate as expected.

commit 0f48597312848ba0abd2d9e89b99509fe27181d0
Merge: a464a63 3e24b4b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jun 14 22:14:27 2016 -0400

    Merge pull request #2617 from square/dr.0612.certpin-ignore-case
    
    Changed CertificatePinner to ignore case when matching pins.

commit 3e24b4ba0538c309a716df3fbdee4cb6e035a74e
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Tue Jun 14 09:18:01 2016 -0400

    Changed CertificatePinner to match against canonicalized hostnames.
    
    We leverage HttpUrl to canonicalize the hostname. This has a few
    advantages:
     - When matching pins against a hostname, case is ignored.
     - Punycode works for free.
    
    Closes: https://github.com/square/okhttp/issues/2609

commit a464a63aca1e591ceffffff1808c9461035532ca
Merge: 5f40b81 d3eb37a
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Jun 10 18:21:16 2016 -0400

    Merge pull request #2615 from szpak/patch-1
    
    Fix typo

commit d3eb37a359aac07d8806b71dca3fd783fd8d5e77
Author: Marcin Zajączkowski <mszpak@wp.pl>
Date:   Sat Jun 11 00:10:13 2016 +0200

    Fix typo

commit 5f40b814ea77a457f55bbe4a9c1c077b790c0916
Merge: 77c0ad6 05e5c4d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Jun 3 11:45:28 2016 -0400

    Merge pull request #2601 from square/jw/idle
    
    Add support for an idle callback to Dispatcher.

commit 05e5c4d22a058fdbf9645c2bc846c0a33e2bc518
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Jun 2 15:16:40 2016 -0400

    Add support for an idle callback to Dispatcher.

commit 77c0ad62e57010c274e047f2fb7ccfd591e5d896
Merge: 25491a9 30920d6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jun 3 00:20:45 2016 -0400

    Merge pull request #2602 from square/jw/unused
    
    Remove unused method.

commit 30920d6925e7568518dabdd72418a4816d65ea44
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Jun 2 21:34:42 2016 -0400

    Remove unused method.

commit 25491a9066ae41d49f541061d54366c3ee5a606b
Merge: 63ae84d 929bdaa
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jun 1 18:21:52 2016 -0400

    Merge pull request #2596 from teresakrause/alpn_jdk8_profiles
    
    Add alpn version support for all Java 8 versions

commit 63ae84d0e647e43d381406a847061d46dcc30448
Merge: c8c073c a18d4e1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue May 31 08:35:33 2016 -0400

    Merge pull request #2594 from nfuller/RemoveUnusedMethods
    
    Remove methods from FramedConnection that are unused

commit c8c073cfd1acaa1b66fbfc44671ed1dd95ed75c2
Merge: efd74cb 3a8f2c6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue May 31 08:33:49 2016 -0400

    Merge pull request #2595 from bryant1410/patch-1
    
    Fix changelog: Sent -> Received

commit 3a8f2c6f2759559ee1fa297a091dc4ea6e55dd02
Author: Santiago Castro <bryant@montevideo.com.uy>
Date:   Tue May 31 08:22:02 2016 -0300

    Fix changelog: Sent -> Received

commit a18d4e184b224d1567ffc1faa5502a5eeaf5445c
Author: Neil Fuller <nfuller@google.com>
Date:   Tue May 31 10:15:06 2016 +0100

    Remove methods from FramedConnection that are unused
    
    While investigating an Android issue with these methods
    I found they were not used. Tidying up.

commit efd74cb29ec52e854ef7116d14151c64704794cc
Merge: 7a807af 91d3fb1
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 28 14:30:25 2016 -0400

    Merge branch 'yschimke-android_chain_cleaner_split'
    
    * yschimke-android_chain_cleaner_split:
      refactor Android specific ChainCleaner code under AndroidPlatform

commit 91d3fb1dd4a1454289ece516f70236eded2ce1f0
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sat May 28 10:55:10 2016 -0700

    refactor Android specific ChainCleaner code under AndroidPlatform

commit 7a807aff6f309ea7fb68459010dc65082e4c3c0a
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 28 14:11:55 2016 -0400

    [maven-release-plugin] prepare for next development iteration

commit 358d96c5fbd45a611f7af7846a9dd99847104406
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 28 14:11:52 2016 -0400

    [maven-release-plugin] prepare release parent-3.3.1

commit 455b8df2e9d63b0eea943baee9f7848374e94485
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 28 14:07:21 2016 -0400

    Update changelog for OkHttp 3.3.1.

commit 80a799c0c0e9baa4c0878c51c648c5be16f0b864
Merge: 8ddc587 3ec5227
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat May 28 13:34:25 2016 -0400

    Merge pull request #2587 from square/jwilson.0528.nonascii
    
    Don't crash reading non-ASCII characters from the server or the cache.

commit 8ddc587523ebd94499098f2c4615ab2001068a2f
Merge: dd4dd05 8271dc0
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat May 28 13:31:58 2016 -0400

    Merge pull request #2586 from square/jwilson.0528.newlines
    
    Fix HttpLoggingInterceptor to be cool with newlines.

commit dd4dd05d25ddbea417b318825d95e89a04c202b6
Merge: 639b279 8ceb748
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 28 13:09:30 2016 -0400

    Merge branch 'yschimke-java9_tests'
    
    * yschimke-java9_tests:
      tests running in JDK 9

commit 8ceb7480f39d9e69fce451206644f80b0242b696
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Fri May 13 22:58:53 2016 -0700

    tests running in JDK 9

commit 3ec5227d2693262db5467abcc36641a405808166
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 28 12:08:42 2016 -0400

    Don't crash reading non-ASCII characters from the server or the cache.
    
    This doesn't completely support ISO-8859-1 headers; instead they will most likely
    be mangled when they are decoded as UTF-8. If we decide we absolutely must support
    ISO-8859-1 here we can do that in another change. (I'm not currently enthusiastic
    about this idea.)
    
    But this does prevent OkHttp from crashing when it encounters non-ASCII characters
    in headers for HTTP/2, SPDY, and cached responses.
    
    Closes: https://github.com/square/okhttp/issues/1998

commit 639b2791598be4de03a277527c8a86d4c2da1236
Merge: 16aed96 8adf3d4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 28 10:52:38 2016 -0400

    Merge pull request #2583 from square/dr.may27.ws-retain-body
    
    Retain response body when web socket returns non-101 response code.

commit 8271dc0fb18f7535233165189931190bc6307333
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 28 10:49:31 2016 -0400

    Fix HttpLoggingInterceptor to be cool with newlines.
    
    Unfortunately our plaintext detector treats \r and \n as non-plaintext
    characters, and they're completely fine.
    
    Closes: https://github.com/square/okhttp/issues/2579

commit 8adf3d4a95d3fcdfb52ef1daf2543f9bc1e947e6
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Fri May 27 08:30:50 2016 -0400

    Retain response body when web socket returns non-101 response code.
    
    This change also fixes an edge case where a server returns a response
    that allows a follow up request. Previously, this would cause an
    exception because the body was being ignored.

commit 16aed96a358f7cf8639a305fcce1d890002e2bbc
Author: jwilson <jwilson@squareup.com>
Date:   Tue May 24 22:12:31 2016 -0400

    [maven-release-plugin] prepare for next development iteration

commit b031042e671f15146dc6f4b5af25a0b31069b30c
Author: jwilson <jwilson@squareup.com>
Date:   Tue May 24 22:12:28 2016 -0400

    [maven-release-plugin] prepare release parent-3.3.0

commit 6b9eeb18d4f42d0fbadaa6d7e83b0cbaf135a054
Author: jwilson <jwilson@squareup.com>
Date:   Tue May 24 22:07:41 2016 -0400

    Update changelog for OkHttp 3.3.0.

commit acbd4e4d130f8ddc27eefc9e73e28991d88b6c85
Merge: ed943ce c9290b7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue May 24 21:40:23 2016 -0400

    Merge pull request #2571 from square/jwilson.0521.recover_from_refused_stream
    
    Recover from REFUSED_STREAM errors in HTTP/2.

commit c9290b76961c46f476761ccadce0cb006d474b92
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 21 14:24:02 2016 -0400

    Recover from REFUSED_STREAM errors in HTTP/2.
    
    This implements the following policy:
    
     - If a REFUSED_STREAM error is received, OkHttp will retry the same stream
       on the same socket 1x.
     - If any other error is received, or an additional REFUSED_STREAM error is
       received, OkHttp will retry on a different route if one exists.
    
    We may want to follow up by going through HTTP/2 error codes and deciding
    a per-code retry policy, but this should be good enough for now.
    
    Closes: https://github.com/square/okhttp/issues/2543

commit ed943ce136f385d672868d5039f9aba6b00962f2
Merge: 3f7a334 1503e36
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 22 23:15:10 2016 -0400

    Merge pull request #2574 from square/jwilson.0522.flush_on_window_updates
    
    Flush streams if the window size is zero.

commit 1503e362f61ca8c55adebcce802a724ae375debe
Author: jwilson <jwilson@squareup.com>
Date:   Sun May 22 10:16:13 2016 -0400

    Flush streams if the window size is zero.
    
    Otherwise we can deadlock, with OkHttp waiting for the server to send a larger
    window and the server not knowing that there's a stream that even wants it.

commit 3f7a3344a4c85aa3bbb879dabac5ee625ab987f3
Merge: 0693302 3699d5c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 21 22:23:48 2016 -0400

    Merge pull request #2572 from square/jwilson.0521.close_examples
    
    Better documentation and examples on closing response bodies.

commit 3699d5c9fd0ad78fc52e3ea317951f9d485f656f
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 21 18:47:05 2016 -0400

    Better documentation and examples on closing response bodies.
    
    Also implement Closeable on Response to make it easier to do the right thing.

commit fcedc17f5605bf712de0798cddb5d7f166b09017
Author: Yuanjing Zhang <yuanjing@google.com>
Date:   Thu May 19 19:57:05 2016 -0700

    Fix some issues according to the comments in the previous pull request,
    and add some tests

commit 929bdaadfb467fccf81dfeac1de090cb7dfaf8de
Author: Teresa Krause <teresa@swoop.com>
Date:   Mon May 16 16:58:36 2016 -0400

    Add alpn version support for all Java 8 versions

commit 0693302fca5bc23654bec3a12ef3878992f9c7cb
Merge: 61c1dad ec0301a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 14 16:52:01 2016 -0400

    Merge pull request #2559 from square/jwilson_0514_bad_interceptor_check
    
    Another approach to handling strange interceptor bodies.

commit ec0301acb431a36e08d647dd335ca6fa6ec4b1b8
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 14 14:05:56 2016 -0400

    Another approach to handling strange interceptor bodies.
    
    The previous approach Just Works if users have fancy or interesting interceptors
    that genuinely need to swap the response body in an interceptor and keep the
    original body.
    
    One problem with that solution is that although it gives expert users a powerful
    way to separate response bodies, it also allows normal users to accidentally leak
    response bodies in their interceptors.
    
    This is an alternate solution that forbids the expert use case and requires that
    closing the response body stream also closes the underlying socket stream. It
    throws an exception if that implicit contract is not honored.
    
    I'm fine with either solution but think we should consider both.

commit 61c1dad83755e163b3ce872a5ac1402bdea44efd
Merge: 03d4edc f1dea26
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 14 13:21:36 2016 -0400

    Merge branch 'adennie-log-connect-failure'
    
    * adennie-log-connect-failure:
      update Logging Interceptor to log connection failures

commit f1dea26fd6037ad38dfd4c23b369dab737c5c698
Author: Andy Dennie <github@adennie.e4ward.com>
Date:   Tue May 10 09:14:50 2016 -0400

    update Logging Interceptor to log connection failures

commit 03d4edcc2e845b0df86bf6f67ee80b5a3092edfc
Merge: 276ef64 a54adce
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri May 13 15:14:36 2016 -0700

    Merge pull request #2555 from square/jwilson.0512.close_response_body
    
    Don't crash when a stream hasn't been closed.

commit a54adcef12753ffb131ab8c3fedcbe600fe10b2a
Author: jwilson <jwilson@squareup.com>
Date:   Thu May 12 21:03:47 2016 -0400

    Don't crash when a stream hasn't been closed.
    
    Closes: https://github.com/square/okhttp/issues/2409

commit 3614e984b6aaf71a9b00b117375f8eb72ef610ce
Author: Yuanjing Zhang <yuanjing@google.com>
Date:   Wed May 11 16:54:48 2016 -0700

    Add a simple version dynamic table of HPACK to the writer client.
    This will automatically add all the headers into the dynamic table
    if it is not in the static table.

commit 276ef646cde0eb8a60d2746f2d5fabdd2a9a8f08
Merge: 7067047 bab8943
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 9 00:03:38 2016 -0400

    Merge pull request #2544 from square/jwilson.0508.no_synthetic_headers
    
    Promote sent and received timestamps to fields on Response.

commit bab8943f2b5c8bc44a64067ada556aa62fcec3a7
Author: jwilson <jwilson@squareup.com>
Date:   Sun May 8 15:20:58 2016 -0400

    Promote sent and received timestamps to fields on Response.
    
    I'm currently keeping these as longs. That's easy an unambiguous, but it also
    feels rather primitive.
    
    This was more work than I expected, but it doesn't seem particularly risky.
    It's also potentially more efficient, since there's fewer places where we're
    converting from string to long and vice versa.
    
    Closes: https://github.com/square/okhttp/issues/2035

commit 7067047312258c11fe06f3aea6cd7f62b367b0f7
Merge: 3dc5ab2 ae5c364
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 8 09:59:53 2016 -0400

    Merge pull request #2539 from square/jwilson.0507.dispatcher_shutdown
    
    Unblock waiting dispatchers on MockWebServer shutdown.

commit 3dc5ab23537c3dc7e132b529a08cc5d61f287c39
Merge: 80ab4a3 4f24a30
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 8 09:59:24 2016 -0400

    Merge pull request #2540 from square/jwilson.0507.logging
    
    Make logging more consistent throughout OkHttp.

commit 4f24a30c12032b7033884a630696014afd3e77cb
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 7 20:38:29 2016 -0400

    Make logging more consistent throughout OkHttp.
    
    Avoid using System.out.
    
    Use the best logging implementation on the host platform. On Java this is
    java.util.logging. On Android it's Android.util.Log.
    
    Closes https://github.com/square/okhttp/issues/2505

commit ae5c364051f9c55b6a85c2cc14eea0a53ef5fa94
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 7 18:56:27 2016 -0400

    Unblock waiting dispatchers on MockWebServer shutdown.
    
    Closes https://github.com/square/okhttp/issues/2521

commit 80ab4a3761cecd9da0a623d62585195f32ed05ff
Merge: 4505c1b 94bda42
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat May 7 18:45:51 2016 -0400

    Merge pull request #2538 from square/jwilson.0507.fewer_pins
    
    Pin fewer certificates in our sample.

commit 94bda42362bdc3b1219b8b833a0bad61cd869c7b
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 7 18:21:50 2016 -0400

    Pin fewer certificates in our sample.
    
    Closes: https://github.com/square/okhttp/issues/2535

commit 4505c1b856d737dbb1bff9570d6abff220b6ff4e
Merge: be605dd 3c51907
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 7 18:13:45 2016 -0400

    Merge pull request #2520 from yschimke/platform_cleanup
    
    split out platform and test them based on active profile

commit 3c51907351d6b0ed6a6cd56d3417ce35a32df186
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Thu May 5 14:34:06 2016 +1000

    split out platform building now that there are 4

commit be605dd6470324afe345763dfab609bde0cde7c1
Merge: 312ebb3 ba51f5b
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 2 01:33:21 2016 -0400

    Merge pull request #2529 from square/jwilson_0502_okio
    
    Upgrade to Okio 1.8.0.

commit ba51f5bff8a312b618ad94bc248cf4cb61c8e5ea
Author: jwilson <jwilson@squareup.com>
Date:   Mon May 2 00:48:15 2016 -0400

    Upgrade to Okio 1.8.0.

commit 312ebb36c668030acaf99866ff5e6834b96fd381
Merge: adc97d5 8f8018c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 1 12:09:28 2016 -0400

    Merge pull request #2528 from Mauin/update_junit
    
    updates junit version to v4.12

commit 8f8018ce5d712af94c31254763d70d047adcb4e1
Author: Marvin Ramin <marvin.ramin@gmail.com>
Date:   Sun May 1 10:48:15 2016 +0200

    updates junit version to v4.12

commit adc97d55376f83bd8d89ed8eac0185821b235ccc
Merge: 48ff30b 4b0c09e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 28 22:41:10 2016 -0400

    Merge pull request #2523 from venilnoronha/issue-2522-fix
    
    Setting default String locale to Locale.US

commit 4b0c09eb6f931c7ba9a5735c81af115a302ed336
Author: Venil Noronha <venil.noronha@gmail.com>
Date:   Fri Apr 29 00:19:13 2016 +0530

    Fixes #2522 - Format String using Locale.US.

commit 48ff30b4289e39b400a2503383cea5bd0d5362fd
Merge: 209c6c5 e3cd9b9
Author: jwilson <jwilson@squareup.com>
Date:   Tue Apr 26 23:42:09 2016 -0400

    Merge branch 'venilnoronha-issue-2513-fix'
    
    * venilnoronha-issue-2513-fix:
      Fixes #2513 - NetworkSecurityPolicy based ConnectionSpec setup.

commit e3cd9b9f1c9787c36d5ea82190bf1e2365377e66
Author: Venil Noronha <venil.noronha@gmail.com>
Date:   Wed Apr 27 07:35:28 2016 +0530

    Fixes #2513 - NetworkSecurityPolicy based ConnectionSpec setup.

commit 209c6c5589d7b0a0f10b4ce78ac6be0740a5cea8
Merge: a44b5ec 6f18cc3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 23 23:08:57 2016 -0400

    Merge pull request #2507 from yschimke/java8_new
    
    build with new alpn-boot and jdk 8 in travis

commit 6f18cc346a4bd4e0a5bb1f1534cf5aa3d586a3e4
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sat Apr 23 08:26:31 2016 -0700

    build with new alpn-boot and jdk in travis

commit a44b5ecfff37b5bb6ceee84d625eb45ebb43fb5b
Merge: 081c744 ad103f4
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Apr 22 13:46:55 2016 -0400

    Merge pull request #2502 from square/jwilson_0421_moshi
    
    Use Moshi in OkHttp.

commit ad103f421ea546c1cb929eef0610eac5291a0607
Author: jwilson <jwilson@squareup.com>
Date:   Thu Apr 21 23:20:30 2016 -1000

    Use Moshi in OkHttp.
    
    As discussed here: https://github.com/square/okhttp/pull/2492

commit 081c74433cd07e1929e36ad6bcdcd55a4e918ffe
Merge: bd76ea2 d8552f0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 21 21:57:27 2016 -1000

    Merge pull request #2494 from yschimke/alpn_java9_support
    
    Java 9 support for ALPN without alpn-boot

commit bd76ea26e477dc13e17f3e5f93635b74d8465019
Merge: ba54110 c63be3e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 21 21:56:34 2016 -1000

    Merge pull request #2495 from yschimke/sni_doc
    
    document support for SNI in OpenJDK

commit ba541103701cfd2c0ace6610f887d737eb43a8c9
Merge: 14cb6e3 5cf91cf
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 21 09:00:28 2016 -1000

    Merge pull request #2496 from yschimke/retain_frame_logger
    
    retain logger instance to actually log things

commit 14cb6e3e67af574d79e831e4bb8155066a7502e9
Merge: b26ad3e 047b568
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 21 07:59:59 2016 -1000

    Merge pull request #2499 from square/dr-Apr212016-redact-async-url
    
    Redact the full url in AsyncCall thread name.

commit 047b56833ccd293ab8f9b1f61460d6d4cc1075da
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Thu Apr 21 08:15:14 2016 -0400

    Redact the full url in AsyncCall thread name.
    
    We don't want to accidentally leak sensitive information that may be
    embedded in the url.

commit 5cf91cf72eae1a4b9c89d597eee7e8eb765aebed
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Wed Apr 20 20:53:19 2016 -0700

    retain logger instance to actually log things

commit c63be3ee65184d119d5145e77986298287118c3a
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Wed Apr 20 18:30:47 2016 -0700

    document support for SNI

commit d8552f091ba50a775f10aefb581612c8078962bc
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Tue Apr 19 22:48:01 2016 -0700

    Java 9 support for ALPN without alpn-boot

commit b26ad3e01ef2a7200f44bc309f6df852003e6992
Merge: bd22589 75c23dd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Apr 19 22:06:31 2016 -1000

    Merge pull request #2493 from positron/patch-1
    
    Fix CertificatePinner javadoc to use a Builder

commit 75c23ddb00ec71719f25787dd22234e7e7f9a03b
Author: Philip Jagielski <philipjagielski@gmail.com>
Date:   Tue Apr 19 17:48:03 2016 -0500

    Fix CertificatePinner javadoc to use a Builder
    
    The provided example wouldn't compile because OkHttpClient doesn't have
    a `setCertificatePinner()` method.

commit bd22589ee3645da310db2e1032b0ce3784c3476b
Merge: c9ad163 51e4e39
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Apr 12 23:20:36 2016 -0400

    Merge pull request #2479 from square/jwilson_0412_nuanced_connect_recovery
    
    Further constrain when we recover from failed routes.

commit 51e4e39842596ece3d0d2c327911a7702607cb3e
Author: jwilson <jwilson@squareup.com>
Date:   Tue Apr 12 22:37:04 2016 -0400

    Further constrain when we recover from failed routes.
    
    Don't recover if we encounter a read timeout after sending the request, but
    do recover if we encounter a timeout building a connection.
    
    See https://github.com/square/okhttp/issues/2394

commit c9ad163e92fe252f23b743d694f68967a29eae7c
Merge: 2c9fbb1 8996934
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 10 15:02:18 2016 -0400

    Merge pull request #2473 from square/jwilson_0410_connection_preface
    
    Don't start the reader thread until after the connection preface.

commit 8996934748a48fe04f7dde56069042dfecb64c91
Author: jwilson <jwilson@squareup.com>
Date:   Sun Apr 10 12:51:38 2016 -0400

    Don't start the reader thread until after the connection preface.
    
    This is slightly more work than ideal because our tests don't bother with the
    connection preface. That makes the tests both simpler, and further from reality.
    The workaround is a package-private method to keep the tests working as they
    are currently.
    
    Closes https://github.com/square/okhttp/issues/2469

commit 2c9fbb1bc8296c6efe16d80bb04d8d1010007e61
Merge: e712faa 3a85dda
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 10 07:32:44 2016 -0400

    Merge pull request #2471 from yschimke/insecure_npe
    
    fix NPE with okcurl insecure mode

commit 3a85dda1e158a771d2820d065d25820044f345a5
Author: Yuri Schimke <yuri@schimke.ee>
Date:   Sat Apr 9 22:48:32 2016 -0700

    fix NPE with okcurl insecure mode

commit e712faa1941bcd2adddff645118dc038200b182f
Merge: 837dc04 03a840d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Apr 8 08:15:21 2016 -0400

    Merge pull request #2467 from square/dr-Apr072016-tunnel-proxy-close
    
    Accommodate tunneling proxies that close the connection after an auth challenge.

commit 03a840de533b1f1c201aa4e99f95f42f9a8269a4
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Thu Apr 7 12:27:18 2016 -0400

    Accommodate tunneling proxies that close the connection after an auth challenge.

commit 837dc04dbef627e734e369e29ccdce7a6178537d
Merge: f25858c de806c8
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Mar 31 23:13:19 2016 -0400

    Merge pull request #2454 from artem-zinnatullin/response-body-javadoc
    
    Add javadoc for Response.body()

commit de806c84c16ff2be965c27f9c00e185fb4ae2426
Author: Artem Zinnatullin <artem.zinnatullin@gmail.com>
Date:   Thu Mar 31 20:21:24 2016 +0300

    Add javadoc for Response.body()

commit f25858cd15b9b6918e7eb416f47c2e5b9b59de01
Merge: e5b7409 85f74e2
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Mar 28 22:26:22 2016 -0400

    Merge pull request #2446 from square/jwilson_0328_accept_trust_manager
    
    Accept user-provided trust managers in OkHttpClient.Builder

commit 85f74e2004eaf0d4ff339e8644df3d8e716361e5
Author: jwilson <jwilson@squareup.com>
Date:   Mon Mar 28 19:02:25 2016 -0400

    Accept user-provided trust managers in OkHttpClient.Builder
    
    Closes: https://github.com/square/okhttp/issues/2427

commit e5b7409664a8ead09b5b5e4f861ff4f1a99cc0de
Merge: 338ad7f cbd3309
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Mar 28 15:22:58 2016 -0400

    Merge pull request #2445 from square/jwilson_0328_android_cert_chain_cleaner
    
    Use X509TrustManagerExtensions on Android 17+.

commit cbd3309c2f3d31b7f61fd733dedeaa1ff9507131
Author: jwilson <jwilson@squareup.com>
Date:   Mon Mar 28 14:56:42 2016 -0400

    Use X509TrustManagerExtensions on Android 17+.
    
    Closes: https://github.com/square/okhttp/issues/2407

commit 338ad7f826f3cd85e7bda50a1effa44392212e2e
Merge: bb0d8f2 a2466ac
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Mar 25 12:42:27 2016 -0400

    Merge pull request #2438 from square/jwilson_0325_ccc
    
    Make CertificateChainCleaner an abstract class.

commit a2466acb7f2be6b3369e1a0cec6fdcf9accf2460
Author: jwilson <jwilson@squareup.com>
Date:   Fri Mar 25 10:05:31 2016 -0400

    Make CertificateChainCleaner an abstract class.
    
    This is working towards implementing a new CertificateChainCleaner that uses
    X509TrustManagerExtensions on API 17+.
    
    This also moves the two TrustRootIndex classes into the interface that
    defines that API.
    
    Unless I've overlooked something, this PR contains no behavior changes.

commit bb0d8f249f3c4b45072ef835c45088d639597bc0
Merge: 9a10ca3 2b64797
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Mar 23 10:06:39 2016 -0400

    Merge pull request #2430 from ChristianBecker/cb/remove_javaneturi
    
    Remove unused javaNetUri field from Request

commit 2b6479725c963fd95ca05c9b5a0a99b189e9d4bf
Author: Christian Becker <christian.becker@qnips.com>
Date:   Wed Mar 23 09:00:06 2016 +0100

    Remove unused javaNetUri field from Request

commit 9a10ca3b7bd7455a393b62372a94e160122bc873
Merge: d62f336 62c8226
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Mar 22 23:37:09 2016 -0400

    Merge pull request #2428 from square/jwilson_0322_connection_close
    
    Failing test for 'Connection: close' with HTTPS proxy auth challenges.

commit 62c8226faa9bf6958d16a8ad8b11bea84c2f1051
Author: jwilson <jwilson@squareup.com>
Date:   Tue Mar 22 23:11:07 2016 -0400

    Failing test for 'Connection: close' with HTTPS proxy auth challenges.
    
    Looks like we don't support this, and supporting this is a bit awkward.
    https://github.com/square/okhttp/issues/2426

commit d62f33666fa4b74be9672c849450e6698f3c8780
Merge: 704ce92 aae1a45
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 20 23:01:15 2016 -0400

    Merge pull request #2421 from square/jwilson_0320_recover_detach
    
    Recover more gracefully when an editor is detached.

commit aae1a45bcb6dd2ffd3b0b87525bbef4e4517ddba
Author: jwilson <jwilson@squareup.com>
Date:   Sun Mar 20 17:22:20 2016 -0400

    Recover more gracefully when an editor is detached.
    
    We had a bug where we could have two editors for the same entry. This
    would occur when the cache was cleared, or if the entry was otherwise
    evicted while the edit was in progress.
    
    Previously the two editors would corrupt each other, and potentially
    the cache's size. With this change the detached editor is limited and
    harmless.

commit 704ce9206a1ae23ab17f9be9a165ed63bc6b4755
Merge: 806c0e3 8e6aeb4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 20 14:43:22 2016 -0400

    Merge pull request #2417 from square/jwilson_0319_proxy_regression
    
    Fix a regression in authenticating HTTP proxies.

commit 8e6aeb4ebefad469cb266ce264dcd5d2b6fca7d4
Author: jwilson <jwilson@squareup.com>
Date:   Sat Mar 19 16:50:22 2016 -0400

    Fix a regression in authenticating HTTP proxies.
    
    We were using the regular authenticator, not the proxy authenticator.
    
    Closes: https://github.com/square/okhttp/issues/2414

commit 806c0e3079e925ede443f8d4fe307c4d6cc9dcde
Merge: b6cfe4c 1e2e8e1
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Mar 14 22:03:17 2016 -0400

    Merge pull request #2406 from square/jwilson_0314_typo
    
    Fix a typo in the interceptor docs.

commit 1e2e8e1477794d8839c3e469738b898c5ae56c4c
Author: jwilson <jwilson@squareup.com>
Date:   Mon Mar 14 21:42:19 2016 -0400

    Fix a typo in the interceptor docs.

commit b6cfe4cd10d7743f4817faffefef7e8ce79e84d2
Merge: 0accce7 a1b66ac
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 13 15:00:15 2016 -0400

    Merge pull request #2403 from square/dr-Mar132016-interceptor-null-connection
    
    Ensure network interceptors always have access to the underlying connection.

commit 0accce70b4518d25e29cfdd34c843a0f95c5f21c
Merge: fb3c390 b945674
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 13 14:59:00 2016 -0400

    Merge pull request #2388 from square/dr-Mar052016-rebuild-journal-failure
    
    Gracefully recover from a failure to rebuild the DiskLruCache journal.

commit a1b66acb32d0ebea91e115b8d7f1b42f1dd2507c
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sun Mar 13 11:42:15 2016 -0400

    Ensure network interceptors always have access to the underlying connection.

commit b9456740d3e46d3d812e4157505af713c43df9b4
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sat Mar 5 09:38:11 2016 -0500

    Gracefully recover from a failure to rebuild the DiskLruCache journal.

commit fb3c390590131e61562bede0a6e030705ccbe8ce
Merge: 265d492 fc5ad89
Author: jwilson <jwilson@squareup.com>
Date:   Thu Mar 3 22:01:42 2016 -0500

    Merge branch 'mattlogan-master'
    
    * mattlogan-master:
      Replace IAE with NPE for null parameters

commit fc5ad89276272de99458a0e43e4c1ca84111c4a9
Author: mattlogan <matt.b.logan@gmail.com>
Date:   Wed Mar 2 19:11:41 2016 -0700

    Replace IAE with NPE for null parameters

commit 265d492c4eaec303e2b69e5136d422473eecc3fd
Merge: 1a88968 e0c2795
Author: jwilson <jwilson@squareup.com>
Date:   Thu Mar 3 21:55:43 2016 -0500

    Merge branch 'alexrwegener-detect_plaintext_bodies'
    
    * alexrwegener-detect_plaintext_bodies:
      Log plain text bodies only

commit e0c2795bae8391c28be39662e8b22aa5f63860db
Author: Alex Wegener <alexrwegener@gmail.com>
Date:   Sun Feb 28 13:16:23 2016 -0600

    Log plain text bodies only

commit 1a88968b0fb0c6fa4fd8f1c7af9135fff066fe4e
Merge: b27c592 45e44a3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Feb 29 14:50:11 2016 -0500

    Merge pull request #2377 from nfuller/IncreaseTimeoutDiskLruCacheTest
    
    Increase test timeout for slow devices

commit 45e44a390cd287a141dc0f446038169608294879
Author: Neil Fuller <nfuller@google.com>
Date:   Mon Feb 29 16:42:09 2016 +0000

    Increase test timeout for slow devices
    
    OEMs have found some configurations of Android devices that cannot
    meet the timeout. This change doubles the timeout from 30 to 60
    seconds.
    
    The Android bug reference is 27273056.

commit b27c5921c8543823651daed3d4bb1ca6d40028e7
Author: jwilson <jwilson@squareup.com>
Date:   Fri Feb 26 10:16:56 2016 -0500

    Update the changelog for 2.7.5.
    
    Conflicts:
    	CHANGELOG.md

commit c293aecd2869c9a3ca911856a39d9693e1e61f32
Author: jwilson <jwilson@squareup.com>
Date:   Thu Feb 25 20:54:11 2016 -0500

    [maven-release-plugin] prepare for next development iteration

commit 14eb077351a8f24e83cdac92930eff84d05e8787
Author: jwilson <jwilson@squareup.com>
Date:   Thu Feb 25 20:54:08 2016 -0500

    [maven-release-plugin] prepare release parent-3.2.0

commit 5be2fc120f6917b1055cc790f5cb136da6f080ba
Author: jwilson <jwilson@squareup.com>
Date:   Thu Feb 25 20:46:42 2016 -0500

    Update readme for 3.2.0.

commit c1ca252e17e3ed319c9d40cb46e9a3093f223abc
Merge: 2c3deae aaa41df
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Feb 25 18:32:16 2016 -0500

    Merge pull request #2371 from dave-r12/removed-filesystem-exists-ioexception
    
    Removed IOException from FileSystem exists method as this should never occur.

commit aaa41df1e93a2aff13fd182dafb42318cd092aca
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Thu Feb 25 16:52:53 2016 -0500

    Removed IOException from FileSystem exists method as this should never occur.

commit 2c3deaebff1d55a9fa32cba7561e704ee93ace31
Merge: 3598913 e0369c8
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Feb 25 13:43:45 2016 -0500

    Merge pull request #2366 from dave-r12/graceful-trim-to-size-failure
    
    Gracefully recover from a failure to trim cache to size.

commit e0369c834e0b37c17bea5495492c755d824cb68c
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sun Feb 21 10:55:34 2016 -0500

    Gracefully recover from a failure to trim cache to size.

commit 3598913336b14fd9069ae79802898a2830e58db7
Merge: 98871d3 e9fb74e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Feb 23 00:33:33 2016 -0500

    Merge pull request #2360 from square/jwilson_0222_not_self_signed
    
    Don't require the CA root to be self-signed.

commit e9fb74ed0a3f9e024d6e3f4969cf480bc58f6d69
Author: jwilson <jwilson@squareup.com>
Date:   Mon Feb 22 21:32:15 2016 -0500

    Don't require the CA root to be self-signed.
    
    Some root certificates may not be.
    
    Also test the limits of the certificate chain length, and put defense
    in for weird unexpected cycles in the trusted certificates.

commit 98871d3820a0aab0095a8d29362a285319f7c39a
Merge: 472329e 7ceaa23
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Feb 22 00:19:44 2016 -0500

    Merge pull request #2358 from square/jwilson_0221_ipv6
    
    Make IPv6 request lines consistent with Firefox and Chrome.

commit 7ceaa2387f0be853222f5a1496f1f743fa6f8c6d
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 21 22:48:54 2016 -0500

    Make IPv6 request lines consistent with Firefox and Chrome.
    
    Previously we omitted the square braces and explicit port on CONNECT requests
    and the square braces in the Host header.
    
    Closes https://github.com/square/okhttp/issues/2344

commit 472329ecbb6ab2a16c1bd5fd4a7305bb1891da7f
Merge: b7f9f2e 7396ac0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Feb 21 18:52:00 2016 -0500

    Merge pull request #2356 from square/jwilson_0221_pins
    
    Implement support for SHA-256 pins.

commit 7396ac00bc4c661ca9529a4339bf35390b6ff598
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 21 13:49:44 2016 -0500

    Implement support for SHA-256 pins.
    
    Closes: https://github.com/square/okhttp/issues/1539

commit b7f9f2e2abc9fa9ad256c8f27baaf1a6d3823c7e
Merge: 9e2e193 19606de
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Feb 21 12:44:11 2016 -0500

    Merge pull request #2355 from square/jwilson_0221_issue_template
    
    Issue template for OkHttp.

commit 19606deb805b78e5320c3ea514abdb4573d971d5
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 21 11:52:34 2016 -0500

    Issue template for OkHttp.
    
    Once we get this in a good place I'd like to do likewise for our other projects
    that get a reasonable number of issue reports.

commit 9e2e1932e29c2a9885af09119d68e32dc16e7074
Merge: edc9ac5 c5cc94e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Feb 20 23:59:41 2016 -0500

    Merge pull request #2353 from square/jwilson_0220_defeat_caching
    
    Always build full chains with CertificateChainCleaner.

commit c5cc94ee19d766955b8b963df06741ae26ce7b0f
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 20 22:00:15 2016 -0500

    Always build full chains with CertificateChainCleaner.
    
    We had a bug on Android where the trust root index would return trusted
    intermediate certificates when we called findTrustAnchorByIssuerAndSignature().
    This would lead to a partial chain, which would fail the pin check
    unnecessarily.
    
    Also permit that method to return null, as it does when the certificate
    is not trusted.

commit edc9ac531ee24cbd1f7dab2fc3ceba6b8b3b3197
Merge: 8885f8c de0d488
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 20 16:00:09 2016 -0500

    Merge branch 'NightlyNexus-master'
    
    * NightlyNexus-master:
      Add HttpUrl.Builder.addPathSegments()

commit de0d48866fe25f2d2643b936c9b04d14841c9536
Author: Eric Cochran <Eric@NightlyNexus.com>
Date:   Wed Feb 10 14:43:02 2016 -0800

    Add HttpUrl.Builder.addPathSegments()

commit 8885f8c019144d845ff456e7dbadeb032a5b6fa5
Merge: 3b78bcc 881bfb8
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Feb 19 05:32:52 2016 -0800

    Merge pull request #2345 from NightlyNexus/call-doc
    
    Remove untrue Callback statement from doc

commit 3b78bccfce330a8990b1c187bb2c6bc725f73882
Merge: e213993 512f268
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Feb 16 13:37:13 2016 -0500

    Merge pull request #2347 from square/jwilson_0216_update_airline
    
    Update airline.

commit 512f268a2a06d76f3884a74f95c4dedc9aba3b10
Author: jwilson <jwilson@squareup.com>
Date:   Tue Feb 16 10:10:48 2016 -0800

    Update airline.
    
    Closes: https://github.com/square/okhttp/issues/2346

commit 881bfb826fe3f717da329d2c99df80733484091a
Author: Eric Cochran <Eric@NightlyNexus.com>
Date:   Mon Feb 15 22:55:41 2016 -0800

    Remove untrue Callback statement from doc

commit e2139932cc12f64d8cfbc6e463622a146268ee02
Merge: b8fd4e3 34b3942
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Feb 15 09:13:25 2016 -0500

    Merge pull request #2343 from reisub/patch-1
    
    Replace deprecated method

commit 34b3942008105194403e2487127191ad35a0452b
Author: Dino Kovač <reisub@users.noreply.github.com>
Date:   Mon Feb 15 09:58:29 2016 +0100

    Replace deprecated method

commit b8fd4e3de0098c44010800c8206000a21feeb252
Author: jwilson <jwilson@squareup.com>
Date:   Wed Feb 10 09:18:57 2016 -0500

    Update readme and changelog for 3.1.2.

commit ac4aea6a520a32583104c52526b06678ea106bd4
Author: jwilson <jwilson@squareup.com>
Date:   Wed Feb 10 08:37:54 2016 -0500

    [maven-release-plugin] prepare for next development iteration

commit 9aa5e87a2c90b90ad83866af1762d4e40d44dab0
Author: jwilson <jwilson@squareup.com>
Date:   Wed Feb 10 08:37:52 2016 -0500

    [maven-release-plugin] prepare release parent-3.1.2

commit c0c690adaf1bf4cf5e867482c9eb22dbf9522789
Merge: 3ccb46d dd09bdb
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Feb 9 23:07:02 2016 -0500

    Merge pull request #2332 from square/jwilson_0209_robo
    
    Hack in limited support for Robolectric.

commit dd09bdb0de1dfdcbd3d3d076e27f75608ddb0ca3
Author: jwilson <jwilson@squareup.com>
Date:   Tue Feb 9 22:46:33 2016 -0500

    Hack in limited support for Robolectric.
    
    This gets trust manager extraction working, but not ALPN or other
    platform features.
    
    Also remove some unused socket tagging features.

commit 3ccb46dd16b6ec98f70b0ee53eafe5ed6380891e
Merge: c2e5cc4 456a745
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Feb 9 11:20:54 2016 -0500

    Merge pull request #2330 from square/jwilson_0209_dont_pay
    
    Don't pay to clean certificates if we aren't pinning.

commit 456a7456ec673d3e417b1d5f9b3447bf3366d312
Author: jwilson <jwilson@squareup.com>
Date:   Tue Feb 9 11:09:38 2016 -0500

    Don't pay to clean certificates if we aren't pinning.

commit c2e5cc468d7adb621cfed07aa4960d41d722bbf4
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 7 22:37:32 2016 -0500

    Update readme for 3.1.1.

commit 258a4fe050fb85b30220d502ce079f9911d4498e
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 7 22:35:45 2016 -0500

    Update changelog for 3.1.1.

commit f15233141411009aff3154c9d038d03b547eeef9
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 7 22:34:02 2016 -0500

    Update changelog for 2.7.4.
    
    Conflicts:
    	CHANGELOG.md

commit ef1dbe1297244a53fd5bda471a27d363f3fb5e63
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 7 22:10:22 2016 -0500

    [maven-release-plugin] prepare for next development iteration

commit 0cd6b186b1789cbdb81d22768425ec149d395766
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 7 22:10:19 2016 -0500

    [maven-release-plugin] prepare release parent-3.1.1

commit 1952a107823424b97ad49a78cc6d44761451d6ff
Merge: 417e025 44a95fc
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Feb 7 19:53:47 2016 -0500

    Merge pull request #2325 from square/jwilson_0207_filthy
    
    Support the GMS security provider when searching for the trust manager.

commit 44a95fc32f11203e2e316a3685f92ac8ec3098cb
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 7 19:05:25 2016 -0500

    Support the GMS security provider when searching for the trust manager.
    
    Closes https://github.com/square/okhttp/issues/2323

commit 417e025a836f24eedb5d99d4cf7c39326447e557
Merge: 61b0558 784faba
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Feb 7 11:49:13 2016 -0500

    Merge pull request #2324 from square/jwilson_0207_optimize_trust_root_index
    
    Don't build a trust root index on Android.

commit 784fabac7d1586a5614bd4bc8854fd62850dbe26
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 7 11:09:38 2016 -0500

    Don't build a trust root index on Android.
    
    We can just cheat and use reflection to use Conscrypt's trust root index
    directly. This results in a substantial savings in app startup - 500
    milliseconds or more.
    
    Closes: https://github.com/square/okhttp/issues/2321

commit 61b05581188ac5cc531af2f6b0cb628b011b3588
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 6 22:26:14 2016 -0500

    Update readme for 3.1.0.

commit 8c0b43b80001d7e86b2b9d9e420bca0402e0ab9e
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 6 22:09:22 2016 -0500

    Update changelog for 2.7.3.
    
    Conflicts:
    	CHANGELOG.md

commit 50395f9b6ad35f28ba19383226afd589d945dc5c
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 6 12:59:27 2016 -0500

    [maven-release-plugin] prepare for next development iteration

commit 519ec8adcac12359841cbdb0cb6666070b714776
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 6 12:59:23 2016 -0500

    [maven-release-plugin] prepare release parent-3.1.0

commit 7a01a7f4bd6a894b4f4c0b877c2b8d3ad6b6e818
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 6 12:55:13 2016 -0500

    Changelog for OkHttp 3.1.

commit 2dade17682071a3e1d60df4113795117e5c1833c
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 6 12:38:21 2016 -0500

    Prefer hostname over hostName.
    
    Unfortunately MockWebServer exposes a method getHostName() so I can't
    fix it everywhere without breaking the API. But that's a mistake, we
    really want it to be hostname going forward.
    
    Also fix some missing copyright statements.

commit 2069e159efdead010e76cb61f2be961c26a042f3
Merge: ec8c095 457f499
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Feb 6 11:59:14 2016 -0500

    Merge pull request #2319 from square/jwilson_0206_ssl_context_cleanups
    
    Generalize the API in SslContextBuilder for fancier tests.

commit 457f4994a58d736a4bddc95d2f053e6030c01950
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 6 11:52:34 2016 -0500

    Generalize the API in SslContextBuilder for fancier tests.

commit ec8c095d75c7419d76f0ebd86f5e291012d6ced7
Merge: 65423ac cc70a10
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Feb 5 17:33:27 2016 -0500

    Merge pull request #2317 from square/jw/defer-ws-writes
    
    Defer known-length payload writes when within a segment of completion.

commit cc70a10177811ae9b6ffaba7315952354a5d64a4
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Feb 5 12:47:31 2016 -0500

    Defer known-length payload writes when within a segment of completion.
    
    This allows both really small bodies and very large buffered bodies to be written as a single frame.

commit 65423ac015ebe60f0ba047903fb7061c84e37178
Merge: eb179eb 7082ca9
Author: jwilson <jwilson@squareup.com>
Date:   Mon Feb 1 22:39:51 2016 -0500

    Merge branch 'franmontiel-cookie-equals-hashcode'
    
    * franmontiel-cookie-equals-hashcode:
      Override the equals() and hashCode() methods of Cookie

commit 7082ca91bc237e33d7ca92e4cdfb50b8e373ef8a
Author: Francisco Montiel <fjmontiel@spiralapps.com>
Date:   Wed Jan 27 01:22:07 2016 +0100

    Override the equals() and hashCode() methods of Cookie
    
    Now it is possible to use Cookies in Collections that depend
    on the hash function. (Useful when implementing an in-memory CookieJar)

commit eb179eb419bd15dd5665d31956ca88a593b6173e
Merge: bf99c5e e121ed1
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Feb 1 21:48:14 2016 -0500

    Merge pull request #2307 from square/jwilson_0201_enable_certificate_authority_council
    
    Start using CertificateAuthorityCouncil in CertificatePinner.

commit e121ed1ad291cbe04de989683d23f549d8e305db
Author: jwilson <jwilson@squareup.com>
Date:   Mon Feb 1 20:02:07 2016 -0500

    Start using CertificateAuthorityCouncil in CertificatePinner.
    
    The wiring is definitely a bit more awkward than I would like. The
    CertificateAuthorityCountil is a non-public class, and this change
    sneaks an instance into the CertificatePinner that couples it to
    the OkHttp client's SSLSocketFactory.
    
    A nicer solution is to expose CertificateAuthorityCouncil as a public
    API type, and add it to Address.java. Unfortunately that's currently
    pretty awkward, especially because I'm not ready to commit to the
    name CertificateAuthorityCouncil or its API.
    
    Closes: https://github.com/square/okhttp/issues/1699

commit bf99c5e51ad3d3fa140f349d810eeb45abf5f43a
Merge: a2c1b97 18b2660
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Feb 1 19:54:36 2016 -0500

    Merge pull request #2304 from square/jwilson_0130_ca_thingy
    
    New CertificateAuthorityCouncil class to normalize certificate chains.

commit 18b2660873ed8f028ee72981c882ed676aa08030
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 31 14:10:15 2016 -0500

    New CertificateAuthorityCouncil class to normalize certificate chains.
    
    The goal of this is to get the root CA certificate into the certificate
    chain, so that it can be considered by the certificate pinner. The work
    to integrate CertificateAuthorityCouncil with CertificatePinner will
    come in a follow-up PR.
    
    See: https://github.com/square/okhttp/issues/1699

commit a2c1b971c459c3830d7c0d3080069e68b0d21e5f
Merge: 9df2224 8595234
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 30 22:35:35 2016 -0500

    Merge pull request #2302 from dave-r12/request-timeout-response
    
    Handle 408 responses by retrying the request

commit 8595234596dcb66951b544d65331cf1b47c0ce9f
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sat Jan 30 08:49:37 2016 -0500

    Handle 408 responses by retrying the request

commit 9df2224a037807d2289378625d0c12d72b0d7210
Merge: 38ddfed 80b0bf4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 29 20:32:55 2016 -0500

    Merge pull request #2299 from NightlyNexus/master
    
    Fix throwing with HTTP2 unknown settings frame id

commit 80b0bf4aa4cf4ea05ad321e0819fd64d7db177f3
Author: Eric Cochran <Eric@NightlyNexus.com>
Date:   Fri Jan 29 13:27:25 2016 -0800

    Fix throwing with HTTP2 unknown settings frame id

commit 38ddfedf09d90dfdae6d293b58820ab85701139f
Merge: 5d2bc19 425167a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jan 28 15:53:28 2016 -0500

    Merge pull request #2293 from mreichelt/2292-okhttpclient-final
    
    #2292 removed final from OkHttpClient

commit 425167afcb2c47ad686842cf248b68a9ff7563b8
Author: Marc Reichelt <mcreichelt@gmail.com>
Date:   Thu Jan 28 18:28:47 2016 +0100

    #2292 removed final from OkHttpClient

commit 5d2bc19113c98ad6a2422d26f2607e25228a7cd1
Merge: 7e9d190 6a79c32
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jan 27 07:52:14 2016 -0500

    Merge pull request #2286 from nxtstep/master
    
    Update README.md -> Mockito moved to Github

commit 6a79c3223c5ff2d556bbab8eb9909fffc4ca4387
Author: nxtstep <nxtstep@users.noreply.github.com>
Date:   Wed Jan 27 13:46:30 2016 +0100

    Update README.md -> Mockito moved to Github

commit 7e9d190aba115fece72ae3696ef7ad2a4e675269
Merge: 8cefc27 a7d3396
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Jan 27 01:00:35 2016 -0500

    Merge pull request #2285 from square/jwilson_0127_extract_trust_manager
    
    Teach OkHttp to lookup the X509TrustManagerFactory.

commit a7d3396047a75183398f339310774ee415c1c4e8
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jan 27 00:31:15 2016 -0500

    Teach OkHttp to lookup the X509TrustManagerFactory.
    
    Right now there's problems with our ability to confirm certificate pins with
    root certificates because we don't actually know which certificate authority
    was used.
    
    This unblocks that work.
    
    This code is particularly fragile and gross. There's no API to get the
    TrustManager from an SSLSocketFactory. We can potentially change the way
    that we compute the initial SSLSocketFactory, but this approach is most
    general.
    
    This is motivated by https://github.com/square/okhttp/issues/1699

commit 8cefc2707cceef7a339351e6e37fa552ed397de2
Merge: 9ddcf9d 2b1f9a2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 26 21:09:49 2016 -0500

    Merge pull request #2275 from chadbrubaker/urlfilter
    
    Add basic URLFilter for HttpURLConnection

commit 2b1f9a20bac5d99acf5a8be36754e5a1dadaf448
Author: Chad Brubaker <cbrubaker@google.com>
Date:   Fri Jan 22 20:58:07 2016 -0800

    Add basic URLFilter for HttpURLConnection
    
    This optional filter can be used to allow for blocking HTTP traffic to
    certain URLs, for example in order to prevent accessing sensitive
    content over HTTP instead of HTTPS.

commit 9ddcf9dfec93124f195303a688493b4fc5b848d2
Merge: 9920c57 561613d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jan 24 01:32:47 2016 -0500

    Merge pull request #2276 from square/jwilson_0123_migrate_more
    
    Create request/response API tests to match some URLConnectionTest tests.

commit 561613d57990912d3d8ddf7a4b6974a5d26c431c
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 23 19:12:33 2016 -0500

    Create request/response API tests to match some URLConnectionTest tests.
    
    This is more work towards being able to later delete HttpURLConnectionImpl
    without losing test coverage.
    
    Also do some test cleanup.

commit 9920c57e7a8c0d49ec2732be899b3e27c215854a
Merge: f546b83 35b195a
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Jan 16 17:49:11 2016 -0800

    Merge pull request #2256 from square/jwilson_0116_stab_http_url_connection
    
    Migrate some tests off of OkUrlFactory.

commit f546b8367825c652828ce2bd036a50528d544c83
Merge: 9708df2 fc238a2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 16 20:09:31 2016 -0500

    Merge pull request #2255 from dave-r12/unsupportedcharset-httplogging-interceptor
    
    Handle UnsupportedCharsetException in HttpLoggingInterceptor

commit 35b195abfac829ec5b9dc83e50461cd4c646923e
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 16 20:00:32 2016 -0500

    Migrate some tests off of OkUrlFactory.
    
    Call is the future.

commit 9708df207f2a3f018e3a5e84e92d48ff4994e31f
Merge: c193481 0f4d824
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 16 18:54:28 2016 -0500

    Merge pull request #2253 from dave-r12/gson-recipe-close-body
    
    Updated gson recipe to close response body.

commit fc238a225d6da5b8d6e8fcb580b9d66021953fd7
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sat Jan 16 15:32:09 2016 -0500

    Handle UnsupportedCharsetException in HttpLoggingInterceptor

commit 0f4d824418ccaeaca3aee1c23a7e04b5139d752e
Author: Dave Roberge <david.roberge12@gmail.com>
Date:   Sat Jan 16 13:52:53 2016 -0500

    Updated gson recipe to close response body.

commit c193481e6d596232310116484335438385d7c06b
Merge: 8bae30f bfb9fe9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 16 05:59:42 2016 -0500

    Merge pull request #2252 from iNoles/master
    
    Add Optmizations for ClearText to avoid SSLContext

commit bfb9fe950fb83ef79d970013e70170794013d5c4
Author: Jonathan Steele <xfsunoles@gmail.com>
Date:   Sat Jan 16 02:37:26 2016 -0500

    Add Optmizations for ClearText to avoid SSLContext

commit 8bae30f5f854d43d3e896a8130eafe311a5c833d
Merge: e1342c2 75ebcd5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 15 21:36:19 2016 -0800

    Merge pull request #2251 from square/jwilson_0115_listeners
    
    Use listeners to observe allocation limit changes.

commit 75ebcd5cd13995c3b70e0b621d3204b9a5996806
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 15 20:39:21 2016 -0800

    Use listeners to observe allocation limit changes.
    
    This removes some awkward code where the synchronized connection pool is calling
    a synchronized methond on a connection. Nested synchronized is gross.

commit e1342c239eda58f7d19d604fb91dcff3d70ef7ac
Merge: 9b07064 c3f8dcb
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Jan 15 18:04:22 2016 -0800

    Merge pull request #2250 from gkimbwala/master
    
    Add Framed protocol to connections

commit c3f8dcb22e8733937dc65d08fa5bcc7bc766ecaf
Author: gkimbwala <gkimbwala@gmail.com>
Date:   Fri Jan 15 17:58:03 2016 -0800

    Add Framed protocol to connections

commit 9b0706489c02b3001452a28411aafb2e77079cf4
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 14 16:03:12 2016 -0800

    [maven-release-plugin] prepare for next development iteration

commit bdbb3ad03ca7026a8a2d11690d4174412fa79685
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 14 16:03:08 2016 -0800

    [maven-release-plugin] prepare release parent-3.0.1

commit ae72120d9fe23f592742b2e0b8c1243e243a685a
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 14 16:00:20 2016 -0800

    Update changelog and readme for 3.0.1.

commit 6dce584b9641df97ee413ddc3b581081e0d8b136
Merge: 055aff6 c4dc872
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jan 14 15:57:54 2016 -0800

    Merge pull request #2246 from square/jwilson_0114_fucking_osgi
    
    Revert "Make OkHttp OSGi ready"

commit c4dc8725fb7c18cf54526076de7000a7cb0fac62
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 14 15:44:21 2016 -0800

    Revert "Make OkHttp OSGi ready"
    
    This reverts commit 2b29196ee2ee0e3cac5cf1fb452d36a2d829a24f.

commit 055aff6520f54b7b8ae036ee9697414361a2c91b
Merge: 396afbe efbbb47
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jan 14 15:26:58 2016 -0800

    Merge pull request #2244 from pforhan/master
    
    Tweak error copy, add a couple tests

commit efbbb47626ded93f304fabea17fd07bb362d5119
Author: Patrick Forhan <pforhan@squareup.com>
Date:   Thu Jan 14 14:12:52 2016 -0600

    Tweak error copy, add a couple tests

commit 396afbe4905f5037e1e58037b30574be6228dfbc
Merge: 5787300 f1bd94b
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jan 14 07:09:47 2016 -0800

    Merge pull request #2241 from tasomaniac/patch-1
    
    Update README.md to include okhttp3

commit f1bd94b971b204a466bd58ec5b937a748b9abd0e
Author: Said Tahsin Dane <tasomaniac@gmail.com>
Date:   Thu Jan 14 16:03:53 2016 +0200

    Update README.md

commit 5787300956e296fa7d9673b62d5844a60cba4c53
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jan 13 22:51:35 2016 -0800

    Update changelog for OkHttp 3.0.

commit 2dc79e01e1d974c23a277010609026f58be4bcad
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jan 13 14:12:19 2016 -0800

    [maven-release-plugin] prepare for next development iteration

commit c9b812a4ab75bfbf1e1de439ee719fa700a592f1
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jan 13 14:12:09 2016 -0800

    [maven-release-plugin] prepare release parent-3.0.0

commit 00322de556fcf2b82d09fd704b6ba15ea11597ba
Merge: 8def524 87e9051
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jan 13 14:08:01 2016 -0800

    Merge pull request #2207 from square/jwilson_0106_cooookies
    
    Test that JavaNetCookieJar can handle multiple cookies.

commit 87e905170f6b293edfbf40b010ee11fdf7e7b32a
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jan 6 21:31:50 2016 -0500

    Test that JavaNetCookieJar can handle multiple cookies.
    
    See https://github.com/square/okhttp/issues/2202

commit 8def52425ea514a9ec2d2410e89a17e85643ec04
Merge: bc7d110 ed43e07
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jan 13 14:02:08 2016 -0800

    Merge pull request #2235 from square/jwilson_0113_cookies_
    
    Parse the CookieHandler request cookies in JavaNetCookieJar.

commit ed43e07ffb3bb95708fe9840cf9fc2f523b2f1e5
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jan 13 13:47:43 2016 -0800

    Parse the CookieHandler request cookies in JavaNetCookieJar.
    
    This brings the tests to all pass on Android.
    
    Closes: https://github.com/square/okhttp/issues/2202

commit bc7d110990a91efd27a33b9fe52db33f55d44eca
Merge: ef1381f 77347b8
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 11 17:48:13 2016 -0800

    Merge pull request #2224 from square/jw/mock-reason
    
    Change default mock reason.

commit ef1381f11b96ccbd018e3d24ec7c22894a11ed83
Merge: 2d2adbf 8ff3725
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Jan 11 15:48:54 2016 -0800

    Merge pull request #2227 from square/jwilson_0111_callback_takes_call
    
    Change Callback to take a Call.

commit 8ff37250310e8d2f9e73293199b3b6e42ec45b0f
Author: jwilson <jwilson@squareup.com>
Date:   Mon Jan 11 15:40:23 2016 -0800

    Change Callback to take a Call.
    
    This makes it much easier to test if the call was canceled.
    
    Note that the Call's request is always the original user request.
    This is different than the previous request that was passed in, as
    that could have been the follow up to a redirect.

commit 2d2adbf4e1598278d856b6c0918db222c7ae8cea
Merge: b113b43 b8c5938
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Jan 11 10:12:48 2016 -0800

    Merge pull request #2226 from square/jwilson_0111_dont_leak
    
    Don't leak file handles when a conditional GET throws.

commit b8c5938ed49502fbae89d0e842389853a208f996
Author: jwilson <jwilson@squareup.com>
Date:   Mon Jan 11 10:03:13 2016 -0800

    Don't leak file handles when a conditional GET throws.

commit 77347b834852689ae2bdcb9c5c8aabd94bdf4fb3
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Jan 11 00:27:49 2016 -0800

    Change default mock reason.

commit b113b43d2791e5a9c764404d5fcf0efd1777e2cb
Merge: c0c55ce bf6c11f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 9 13:29:11 2016 -0500

    Merge pull request #2220 from jgilfelt/log-interceptor-fix
    
    Logging Interceptor - Use charset specified by the request body content type

commit bf6c11f753b9738433cab6f3327cdbcb10f8305b
Author: Jeff Gilfelt <jgilfelt@gmail.com>
Date:   Sat Jan 9 11:50:41 2016 +0000

    Use charset specified by the request body content type

commit c0c55cee67e76a7bc26cc4da5dc3a8c3fbba4c52
Merge: aff3051 a6ac188
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 8 07:51:13 2016 -0500

    Merge pull request #2215 from ChristianBecker/patch-1
    
    Fix order of releases

commit a6ac18871f4d4021e0d288fd41e6c784783e22f2
Author: Christian Becker <christian.becker.1987@gmail.com>
Date:   Fri Jan 8 08:27:06 2016 +0100

    Fix order of releases

commit aff3051d578b56d7e2e4dbbebb259bc453ccce44
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 8 00:23:47 2016 -0500

    Update changelog for 2.7.2.

commit 43fe6535e15a28956b443a1f9b1fc6faacffcfd8
Merge: 751481a 469c063
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jan 7 23:53:11 2016 -0500

    Merge pull request #2212 from moltak/patch-1
    
    Update okhttp-loggin-interceptor

commit 469c0631351a9da3164dc6f749af0dc06a487218
Author: Jung KyungHo <moltak@gmail.com>
Date:   Fri Jan 8 13:40:40 2016 +0900

    Update okhttp-loggin-interceptor
    
    I found missed version. It must to include the okhttp '3' on dependency of gradle.

commit 751481ae2ac40fdc7169225d00e9e32d2f418d03
Merge: ca8b38e 46d0edf
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jan 7 22:13:52 2016 -0500

    Merge pull request #2211 from moltak/master
    
    Update okhttp-logging-interceptor README.md

commit 46d0edf4a420209c065016bb3324925c3a7f1177
Author: Jung KyungHo <moltak@gmail.com>
Date:   Fri Jan 8 10:54:42 2016 +0900

    Update okhttp-logging-interceptor README.md
    
    Change how to use on okhttp-loging-interceptor's README.md

commit ca8b38ebc14f59f76f62f8773a01b849a3c3751a
Merge: 3774437 3759531
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Jan 6 21:59:17 2016 -0500

    Merge pull request #2208 from square/jwilson_0106_no_need
    
    Don't eagerly release pools on cache hits.

commit 3759531b035ac46c8048c2fee273e0f9b5cfd751
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jan 6 21:52:05 2016 -0500

    Don't eagerly release pools on cache hits.
    
    We might still need them to handle a redirect.
    
    Closes: https://github.com/square/okhttp/issues/2198

commit 37744378908653ad86c654fe56bfbf3f438da824
Merge: 909544b 2b29196
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jan 6 00:32:38 2016 -0500

    Merge pull request #2192 from lburgazzoli/okhttp-osgi
    
    Make OkHttp OSGi ready

commit 2b29196ee2ee0e3cac5cf1fb452d36a2d829a24f
Author: lburgazzoli <lburgazzoli@gmail.com>
Date:   Tue Jan 5 09:22:11 2016 +0100

    Make OkHttp OSGi ready

commit 909544ba3d19792ca8d408e3ab40de9264b78c1c
Merge: 7e69134 0ea60ae
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 4 22:27:53 2016 -0500

    Merge pull request #2197 from austynmahoney/am/fix/2196-immutable-interceptors-okhttpclient
    
    Javadoc fix for immutable Interceptors in OkHttpClient

commit 7e69134726994663486e67dcf3ac927cc1b4d53f
Merge: e072e4d 7f4ce6f
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Jan 4 14:14:29 2016 -0500

    Merge pull request #2188 from square/jwilson_0102_promote_cookiejar
    
    Promote JavaNetCookieJar to a public package.

commit 0ea60aeaa3bd0200828748ce8c65fa70bc81c39b
Author: austynmahoney <austynmahoney@gmail.com>
Date:   Mon Jan 4 11:33:40 2016 -0700

    Javadoc fix for immutable Interceptors in OkHttpClient

commit e072e4dfe5c65903c904975e6b076a6cd9ca654f
Merge: 20653ad 8ee07e1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 4 13:23:40 2016 -0500

    Merge pull request #2195 from square/jw/handle-unknown-body-lengths
    
    Handle unknown content lengths.

commit 8ee07e13d3100523a46e69f42e00c21ed66fc388
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Jan 4 13:10:46 2016 -0500

    Handle unknown content lengths.

commit 20653ad0e17b693cad5b0be3d48404fca0a95d88
Merge: c9080f1 d662c1a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 3 09:13:02 2016 -0500

    Merge pull request #2189 from square/jw/interfaces
    
    Add already-implemented interfaces Closeable and Flushable to the cache.

commit d662c1a82851800c46ad8ede2d9d10d10427fdad
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 3 02:41:45 2016 -0500

    Add already-implemented interfaces Closeable and Flushable to the cache.

commit 7f4ce6fdd75d142819d612196dd45aff0795d682
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 2 11:40:13 2016 -0500

    Promote JavaNetCookieJar to a public package.

commit c9080f14f37f8d85d1c6da648e843a70ee474436
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 2 09:43:21 2016 -0500

    Replace "and SPDY" with "and HTTP/2".

commit d0c7fd06bf4e412b5dd942ac590e7ac2585927ff
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 2 09:37:59 2016 -0500

    Update website to link to OkHttp 3.x Javadoc.

commit a2d9f7cfa953b5fcdde3bf45eb754e4861614809
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 2 09:34:47 2016 -0500

    Adjust documentation for OkHttp 3.

commit 6d1a0b4f96141e084448619b210fdff2e8821886
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 2 02:31:17 2016 -0500

    [maven-release-plugin] prepare for next development iteration

commit ffc35dbd02822bf6584c6144266cbbca6b348b17
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 2 02:31:14 2016 -0500

    [maven-release-plugin] prepare release parent-3.0.0-RC1

commit ee83d8d26afd92d27fbcd2a328e882f25a5090c6
Merge: c73dfc3 d3675a5
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Jan 2 02:13:16 2016 -0500

    Merge pull request #2185 from square/jwilson_0101_api_ergonomics
    
    Detect API use errors earlier.

commit c73dfc3aa12e4c6485d092d4fc050c6fa787f485
Merge: 5adcbdb 7826bcb
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Jan 2 02:12:47 2016 -0500

    Merge pull request #2187 from square/jwilson_0102_fix_some_get_prefixes
    
    Fix some get prefixes on Cache and ConnectionPool.

commit 5adcbdb4ccd82491f4e74e2f932dba8b01d93878
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 2 02:12:06 2016 -0500

    Add a note that Call.cancel() still works.

commit 7826bcb2fb1facb697a4c512776756c05d8c9deb
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 2 02:07:30 2016 -0500

    Fix some get prefixes on Cache and ConnectionPool.

commit d3675a5e0f7ca0287d3441d1dc1284ea7b06a26d
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 1 17:16:47 2016 -0500

    Detect API use errors earlier.
    
    Previously we would accept invalid input, but crash when that invalid input
    was used.

commit fa584fb563e4834c28a443f51c2c3d7453b48454
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 2 01:49:55 2016 -0500

    Update changelog for 3.0.0-RC1.

commit b7e5497206306bf5329ee1b0c94cddbd59b0315f
Merge: 4c214c6 f81b6e2
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Jan 2 01:08:48 2016 -0500

    Merge pull request #2186 from square/jwilson_0101_response_peekbody
    
    New API: Response.peekBody

commit 4c214c6a931405eb40df9665c11138df527f3f30
Merge: f1f975b 0c3e067
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Jan 2 01:01:56 2016 -0500

    Merge pull request #2184 from square/jwilson_0101_no_canceling_by_tag
    
    No more canceling by tag.

commit f81b6e26daa139cea01f5b5c0a9e823707ac9827
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 1 18:35:45 2016 -0500

    New API: Response.peekBody
    
    Closes: https://github.com/square/okhttp/issues/1740

commit 0c3e06764069ea601df5ee7db30721fdf70a42af
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 1 16:33:08 2016 -0500

    No more canceling by tag.
    
    Instead Dispatcher exposes rich methods to access the in-flight calls,
    which the application can cancel by whatever criteria is prefered.

commit f1f975bf4be6995821f6ecabd19820e5757691c6
Merge: daf2ec6 21d6303
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Jan 1 15:30:00 2016 -0500

    Merge pull request #2183 from square/jwilson_0101_synthetics_
    
    Restore no-args constructor for OkHttpClient.

commit 21d63034188d90ca51d635be348d5deba4abeca3
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 1 15:22:11 2016 -0500

    Restore no-args constructor for OkHttpClient.
    
    This is a popular API and keeping it working is handy.

commit daf2ec6b9df11190708144026e7ce4c62b58e486
Merge: 0a0a612 38d570a
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Jan 1 14:59:19 2016 -0500

    Merge pull request #2182 from square/jwilson_0101_get_set
    
    Drop get and set prefixes in OkHttpClient, OkHttpClient.Builder

commit 38d570a6b28664b398cfa50c5c243c3631cde997
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 1 12:12:35 2016 -0500

    Drop get and set prefixes in OkHttpClient, OkHttpClient.Builder

commit 0a0a612fc40a2b3c7e8c227f6c0af206db854db2
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 1 11:05:24 2016 -0500

    Changelog for 2.7.1

commit 71ec4917b51faeba98db149739576feb51b4d505
Merge: eac8053 f246118
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 1 10:55:59 2016 -0500

    Merge pull request #2177 from square/jwilson_1230_okhttpclient_builder
    
    Refactor towards an OkHttpClient.Builder.

commit f2461183e8a70bae2362a5237772844a48e16100
Author: jwilson <jwilson@squareup.com>
Date:   Thu Dec 31 02:31:17 2015 -0500

    Refactor towards an OkHttpClient.Builder.
    
    Still some work to do on method naming, but this was the interesting part.
    Also very much need to rename OkUrlFactory in tests to urlFactory, otherwise
    the client.client stuff becomes madness.

commit eac8053af5eb58cd7b8db1b24b59a9229197e538
Merge: b5970e0 112a56d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Jan 1 02:29:24 2016 -0500

    Merge pull request #2181 from square/jwilson_0101_request
    
    Add an accessor to get a Call's Request.

commit 112a56d6fc1ad5a010ac9f29d754ca8b37d6476f
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 1 00:38:12 2016 -0500

    Add an accessor to get a Call's Request.
    
    In a follow up I'm going to drop support for canceling calls based on
    their tag. Instead, dispatcher might be able to just expose all of the
    in-flight calls, and the application layer can loop over those and
    cancel based on tags or other criteria.

commit b5970e060901d1c557951263f751470dcb2b1e24
Merge: db9c2db c64e342
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 1 00:32:53 2016 -0500

    Merge pull request #2180 from square/jwilson_1231_health_checks_ii
    
    Don't do health checks on brand new connections.

commit c64e3426a326fdf61a6f9859292a45845186e790
Author: jwilson <jwilson@squareup.com>
Date:   Thu Dec 31 11:20:05 2015 -0500

    Don't do health checks on brand new connections.
    
    This is imperfect, but it should save some unnecessary work and will
    hopefully prevent RouteSelector from attempting a route when none is
    available.
    
    https://github.com/square/okhttp/issues/2151

commit db9c2db40b0b89a1853715fd52e2748463d9cc9c
Merge: fd837e3 32fb799
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Dec 30 22:51:25 2015 -0500

    Merge pull request #2176 from square/jwilson_1230_new_cookie_api
    
    Change CookieJar to deal with Cookies, not Headers.

commit 32fb79996c68241b5f4fba4670b99c7f03b65aa0
Author: jwilson <jwilson@squareup.com>
Date:   Wed Dec 30 12:20:18 2015 -0500

    Change CookieJar to deal with Cookies, not Headers.
    
    There's a big consequence to this for compatible with RFC 2965 Cookies. In particular,
    this drops our ability to support 'Set-Cookie2' headers, and some features used there
    including quoted attributes like 'Max-Age="25"'. This is the right move for interop with
    browsers, and likely to make things better for application developers, but some
    people who strictly followed the RFC 2965 spec will be broken. (That spec was never
    seriously adopted anywhere, which is the entire motivation of RFC 6265.)
    
    The upside is the CookieJar interface is now much more straightforward. This is
    particularly good going forward, and for clients who don't have to worry about the
    strangeness of things like $Version=1 in the RFC 2965 spec.

commit fd837e36226451c5dcd987aef71ab1f3723b6649
Merge: 0529c69 e6dd58a
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Dec 29 18:25:04 2015 -0500

    Merge pull request #2174 from square/jwilson_1229_drop_the_global_connection_pool
    
    Drop the global static shared connection pool.

commit 0529c693d70e92eeef44bdc818a4b4185d8462e2
Merge: 41fa9a4 339c180
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 29 18:16:23 2015 -0500

    Merge pull request #2173 from square/jwilson_1229_cookiebuilder
    
    Give cookies a builder. Constrain dates to <= Dec 31, 9999.

commit 339c18074adcac7395ddc8dc09a8ec4837a17d14
Author: jwilson <jwilson@squareup.com>
Date:   Tue Dec 29 16:51:38 2015 -0500

    Give cookies a builder. Constrain dates to <= Dec 31, 9999.

commit e6dd58a886f989fc3f60d2466117ec14b0f7d5b4
Author: jwilson <jwilson@squareup.com>
Date:   Tue Dec 29 17:49:25 2015 -0500

    Drop the global static shared connection pool.
    
    Instead each new instance of OkHttpClient gets its own connection pool by
    default. This makes the OkHttpClient instances a little more heavyweight
    (in that two different instances yield two different connection pools, which
    means two different cleanup threads) but it also means there's less weird
    state sharing between instances.
    
    One drawback of this is that if an application wants to immediately free
    resources from an OkHttpClient it must call getConnectionPool().evictAll(),
    otherwise the connection pool thread will remain alive for 5 minutes.

commit 41fa9a4a954bc8abf43628ceb7d4eeb701ed991a
Merge: 5e52b80 d9abee7
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 28 13:34:25 2015 -0500

    Merge pull request #2168 from square/jwilson_1228_degrade_javanetauthenticator
    
    Change the default authenticator to be no authenticator.

commit 5e52b807ad92f75782b80f8d0aace12e5952955c
Merge: 937bedf 5c4e762
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 28 13:28:56 2015 -0500

    Merge pull request #2167 from square/jwilson_1228_more_cookies
    
    Finish implementing RFC 6265 cookies.

commit d9abee71f870d31d992402d2b855313987bf53ee
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 28 12:58:06 2015 -0500

    Change the default authenticator to be no authenticator.
    
    Previously we were using the system-wide default authenticator.

commit 5c4e76237ffdfd832dddabd5a0f029568f591c7a
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 28 12:20:37 2015 -0500

    Finish implementing RFC 6265 cookies.

commit 937bedf91995ead193beeb94178143f694aead21
Merge: d0675d7 f54abf0
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 28 02:19:31 2015 -0500

    Merge pull request #2164 from square/jw/new-builder-with-link
    
    Add newBuilder overload for resolving directly to a builder.

commit f54abf09da257ce440aa4e5b4ffde5124ac1ee68
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Dec 27 23:27:00 2015 -0500

    Add newBuilder overload for resolving directly to a builder.

commit d0675d79c00b51f7e5d04886541b77751c2be844
Merge: 31a6ba1 e991459
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 28 01:51:17 2015 -0500

    Merge pull request #2162 from square/jwilson_1227_cookies
    
    First step in parsing Set-Cookie headers.

commit e991459c7c1f46d432ff4312cf7409884518655c
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 27 17:26:29 2015 -0500

    First step in parsing Set-Cookie headers.

commit 31a6ba1d598694dc6199aa1fa023418d983c50f6
Merge: 5381c6d ad1f4c6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Dec 27 19:41:16 2015 -0500

    Merge pull request #2163 from twbarber/index_link_fix
    
    Fixed URLs to 'Full Source' for Get and Post examples in index.html.

commit ad1f4c6d3f5a4723b50eab9e6ae7a8922fe3b097
Author: Tyler Barber <tylerwbarber@gmail.com>
Date:   Sun Dec 27 17:28:56 2015 -0600

    Fixed URL to 'Full Source' for Get and Post examples in index.html. URLs no longer lead to 'Not Found' message.

commit 5381c6d2ff9fba050e9a4589ec2b50d49f536eaf
Merge: 551573c 9d1ef7c
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Dec 26 15:44:37 2015 -0500

    Merge pull request #2159 from square/jwilson_1226_responsebody_docs
    
    Better docs for ResponseBody.

commit 9d1ef7c5fa74849adeaad847e67e0f4b66233422
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 26 14:24:28 2015 -0500

    Better docs for ResponseBody.
    
    Closes: https://github.com/square/okhttp/issues/2158

commit 551573c047dfb1b16ad0b433bcaf36b42b35cac6
Merge: 1230e67 c9334bd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Dec 25 12:59:01 2015 -0500

    Merge pull request #2155 from square/jwilson_1224_cookiejar
    
    New CookieJar interface.

commit c9334bd90f1ba826ea75198a3b3507c5ba99fd4e
Author: jwilson <jwilson@squareup.com>
Date:   Thu Dec 24 14:11:33 2015 -0500

    New CookieJar interface.
    
    No good first-party implementation yet.
    
    There is an implementation in okhttp-urlconnection that delegates to the java.net
    CookieHandler. That should be good enough for AOSP.

commit 1230e671b2ee50dad84dec59648b5091b05278da
Merge: 47964b9 e7023e0
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Dec 24 00:20:32 2015 -0500

    Merge pull request #2150 from square/jwilson_1223_reformat_ii
    
    Sort more imports and wrap documentation at 100 columns.

commit 47964b93fc48a41e25a09276bcd54b7292d3c851
Merge: 86694b9 98ae0fb
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Dec 24 00:19:35 2015 -0500

    Merge pull request #2149 from square/jwilson_1223_reformat
    
    Sort imports and wrap documentation at 100 columns.

commit e7023e034482da35fe78fe05c7cf690117b2b738
Author: jwilson <jwilson@squareup.com>
Date:   Wed Dec 23 19:36:56 2015 -0500

    Sort more imports and wrap documentation at 100 columns.
    
    This is a mechanical refactoring. The only thing I had trouble with is IntelliJ's
    weak support for `<ul>` tags in Javadoc.

commit 98ae0fb92c9335ec17f8710376183e18f5edd355
Author: jwilson <jwilson@squareup.com>
Date:   Wed Dec 23 19:16:22 2015 -0500

    Sort imports and wrap documentation at 100 columns.
    
    This is a mechanical refactoring. The only thing I had trouble with is IntelliJ's
    weak support for <ul> tags in Javadoc.

commit 86694b984f0ab2da32a43e6bd9ac882901cf2e93
Merge: 6aff563 fb700e2
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Dec 23 16:06:25 2015 -0500

    Merge pull request #2148 from square/jwilson_1223_call_interface
    
    Make call an interface, and introduce Call.Factory.

commit fb700e20af6fa71a20656cd240df4df3c8f15976
Author: jwilson <jwilson@squareup.com>
Date:   Wed Dec 23 15:55:30 2015 -0500

    Make call an interface, and introduce Call.Factory.
    
    More documentation forthcoming.

commit 6aff563d5a730d49ced0663235b16331d6716f15
Merge: f4b70f4 d77edcc
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Dec 22 22:15:58 2015 -0500

    Merge pull request #2146 from square/jwilson_1222_cower_to_uri
    
    Never throw converting an HttpUrl to a java.net.URI.

commit d77edcc8905148f18a691be180c4f8f366a5ee1b
Author: jwilson <jwilson@squareup.com>
Date:   Tue Dec 22 21:19:11 2015 -0500

    Never throw converting an HttpUrl to a java.net.URI.
    
    Just do arbitrary amounts of transformation. Sigh.
    
    Closes https://github.com/square/okhttp/issues/2116

commit f4b70f495b5a55f0694b75f8650dae0706ea43ce
Merge: 3dd9832 63e66bb
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 21 23:36:59 2015 -0500

    Merge pull request #2141 from square/jw/share-code-validation
    
    Share close code validation between client and server.

commit 63e66bba0012617e828f75c8dd0f62f2caa693ef
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Dec 21 23:31:58 2015 -0500

    Share close code validation between client and server.

commit 3dd9832851c10a3421befcf155202a94b07e1de6
Merge: 89f5a43 9061a10
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 21 23:11:36 2015 -0500

    Merge pull request #2139 from square/jwilson_1221_response_cache
    
    Add TlsVersion to the Handshake.

commit 9061a10ec596089deef6e83d6ecfb2c4e6a76171
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 21 20:43:56 2015 -0500

    Add TlsVersion to the Handshake.
    
    This is awkward because it adds another field to the cache. I've
    decided to try to keep old values in the cache working. We will
    probably do a change that'll disrupt the cache later, but that
    is invasive and we don't need that yet.

commit 89f5a43b33fa049955969fbf5e04695fd43765e1
Merge: 2b4ce3e 02d6b4e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 21 21:15:19 2015 -0500

    Merge pull request #2140 from square/jwilson_1221_connection_apis
    
    Drop the get prefix on Connection accessors.

commit 02d6b4e78c4f1bda5f20e3089af024c58fe6baf6
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 21 21:10:48 2015 -0500

    Drop the get prefix on Connection accessors.

commit 2b4ce3e6b7cb6e2486d6ec76e0118111dfbc036d
Merge: 00c9db7 3b44fa3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 21 17:53:43 2015 -0500

    Merge pull request #2137 from square/jwilson_1220_better_failure_recovery
    
    Attempt an alternate route when a connect times out.

commit 3b44fa37675c1d68298283ae4b8b45cd5771888d
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 20 11:32:49 2015 -0500

    Attempt an alternate route when a connect times out.
    
    This changes the new allocations model to keep the same route unless it
    has been specifically found to have connectivity problems. Previously we
    attempted to null out the route selector when a route succeeded; with
    this we do the opposite by nulling out a route when it fails.
    
    Closes: https://github.com/square/okhttp/issues/1736

commit 00c9db7859ed4edac380b25c3be61afd9ece0e5d
Merge: a7605a6 49dfda0
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Dec 19 14:08:38 2015 -0500

    Merge pull request #2135 from square/jwilson_1219_headersOnlyStreamIsClosedAfterReply_flake
    
    Reduce flakiness in Spdy3ConnectionTest.headersOnlyStreamIsClosedAfterReply

commit 49dfda04ae9df1b915ccea17ca1e70ff48e06e6c
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 19 13:18:30 2015 -0500

    Reduce flakiness in Spdy3ConnectionTest.headersOnlyStreamIsClosedAfterReply.
    
    Closes: https://github.com/square/okhttp/issues/1797

commit a7605a62f778adfc0647b6e15d717b862cd5cffd
Merge: 16254d1 0bfd604
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Dec 18 10:28:10 2015 -0500

    Merge pull request #2126 from square/jwilson_1217_authenticator3
    
    One authenticate method on the authenticator interface.

commit 0bfd6048574d61c138fd417051ae2a1bcb44638f
Author: jwilson <jwilson@squareup.com>
Date:   Thu Dec 17 09:03:29 2015 -0500

    One authenticate method on the authenticator interface.
    
    Instead of having one instance of Authenticator, and that interface
    defines two methods, we now have two instances of Authenticator and
    that interface defines one method.
    
    This prevents leaking request-specific configuration (the authenticator)
    into shared connection configuration (the proxy authenticator).

commit 16254d18be93c5c47d7ef495e3728e4004c12886
Merge: 92acfda d1f94df
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Dec 17 19:58:51 2015 -0500

    Merge pull request #2128 from square/jw/no-throws
    
    Querying the response content-length never does I/O.

commit 92acfdad422bd035e8f42ee82538598f12d8dc74
Merge: 9ecff8f 9566ccf
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Dec 17 19:58:04 2015 -0500

    Merge pull request #2129 from square/jw/close-quietly
    
    Do not burden application code with close failures.

commit 9566ccfa260d83180a9900a545255d3d21c1e9cf
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Dec 17 19:24:43 2015 -0500

    Do not burden application code with close failures.
    
    There's no action they can take as the result of them, anyway.

commit d1f94df145b5742492522dc227064995d71c0ac4
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Dec 17 19:15:12 2015 -0500

    Querying the response content-length never does I/O.

commit 9ecff8f961c321098c2598097fb5289e968ef1ac
Merge: 548e314 ce3e7c4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 16 19:48:54 2015 -0500

    Merge pull request #2124 from square/jwilson_1216_okhttp3
    
    Change groupid to com.squareup.okhttp3.

commit ce3e7c40ff4052e10cc1c2feb5b56a9c1b33b7b0
Author: jwilson <jwilson@squareup.com>
Date:   Wed Dec 16 19:15:06 2015 -0500

    Change groupid to com.squareup.okhttp3.

commit 548e31450e20cbddefa4b903a79e1a209e4ed657
Merge: 54dc2df c9a8987
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Dec 16 02:29:52 2015 -0500

    Merge pull request #2118 from square/jwilson_1216_okhttp3
    
    Rename com.squareup.okhttp to okhttp3

commit c9a89876de476983f273edbf108c365127c18c5e
Author: jwilson <jwilson@squareup.com>
Date:   Wed Dec 16 00:57:52 2015 -0500

    Rename com.squareup.okhttp to okhttp3
    
    Maven group changes will come in follow up.

commit 54dc2df914f2aae37fb48cc2c2f7560ee664bc2b
Merge: 52fa3cf f9776c4
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Dec 15 21:36:32 2015 -0500

    Merge pull request #2115 from square/jwilson_1215_uri
    
    Drop Request.uri(). Just use Request.url().uri().

commit f9776c4adfec3e649a8aa284276d9ddb50cf17a9
Author: jwilson <jwilson@squareup.com>
Date:   Tue Dec 15 21:31:02 2015 -0500

    Drop Request.uri(). Just use Request.url().uri().
    
    There's a mostly-academic corner case on URLs like http://host/%xx that
    have a malformed escape sequence. This changes the exceptions on those
    URLs from checked to unchecked.
    
    I think we may want a separate change to HttpUrl to fix those URLs to
    be encoded as http://host/%25xx which avoids the problem altogether.
    
    Closes: https://github.com/square/okhttp/issues/2106

commit 52fa3cf24d0f0c28e811c966b3a78880c06ca19d
Merge: f5d0abd dcb3c14
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 15 20:54:08 2015 -0500

    Merge pull request #2105 from square/jw/no-throws
    
    Remove IOException from source() and streams.

commit f5d0abd0590d95a05da6e15479f2b27c3daf761e
Merge: 513fec7 6711a2b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 15 09:42:44 2015 -0500

    Merge pull request #2101 from square/jw/model
    
    Convert form-encoding body to model-based version.

commit 513fec7b7f9d308c943e7765011f7a4c25df51fa
Merge: d5c9384 91abd6c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 15 09:17:21 2015 -0500

    Merge pull request #2113 from square/jw/benchmark-tweaks
    
    Change benchmark to use OkHttp's native API.

commit 91abd6c4388067e762f64845314a521e43a1702e
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Dec 15 01:37:54 2015 -0500

    Change benchmark to use OkHttp's native API.

commit d5c93840c96fc13390d9e77d7e2901ece7ce5d9e
Merge: 992dd93 b63841d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Dec 15 01:02:38 2015 -0500

    Merge pull request #2112 from square/jw/gettttt
    
    Drop 'get' prefixed on Address value type.

commit b63841d3a3922440c258098190371f1e17d977c1
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Dec 15 00:57:49 2015 -0500

    Drop 'get' prefixed on Address value type.

commit 992dd934f061a21f8a802ed8fd8d99b75047dba8
Merge: efc9df1 c642bea
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 15 00:54:27 2015 -0500

    Merge pull request #2107 from square/jw/request-url
    
    Remove Request#urlString(), just use url().toString().

commit efc9df1ca7698dda695b4065729ab033c3d65d2a
Merge: 5f22afe 71ae4df
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 15 00:53:37 2015 -0500

    Merge pull request #2111 from square/jw/route
    
    Drop 'get' prefixed on Route value type.

commit 5f22afe9e55ad5ca47513e66e587178155a219ff
Merge: 828206c b0f2dbb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 15 00:52:27 2015 -0500

    Merge pull request #2110 from square/jw/unused
    
    Unused method argument.

commit 71ae4df298f42039579fd6e3c6d9d9060ac91214
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Dec 15 00:45:12 2015 -0500

    Drop 'get' prefixed on Route value type.

commit 828206ccc34d547ba75ee7e26143d76c4329a643
Merge: ee3114d c07f55a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 15 00:44:26 2015 -0500

    Merge pull request #2109 from square/jw/gets
    
    Drop 'get' prefix on Challenge value type.

commit b0f2dbb3cb16caae9236eabb29935e5880d2172b
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Dec 15 00:39:45 2015 -0500

    Unused method argument.

commit c07f55ac92d1e931260711edae987b51bee0be3d
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Dec 15 00:37:36 2015 -0500

    Drop 'get' prefix on Challenge value type.

commit c642bea938f4f4feae148d870a1bdd393c787d8e
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Dec 15 00:33:09 2015 -0500

    Remove Request#urlString(), just use url().toString().

commit dcb3c1443587cde3bc8b791a791eeb23e5ef7fe1
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Dec 14 23:45:19 2015 -0500

    Remove IOException from source() and streams.

commit ee3114d07c9ca89a00f4c1028b70fc2fab184301
Merge: 4b25c2c 5bec10d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 14 23:05:40 2015 -0500

    Merge pull request #2104 from square/jw/push-method-names
    
    Drop 'get' prefix on PushPromise.

commit 5bec10d28ef6732c76c518473ea532ff016c2a80
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Dec 14 22:57:42 2015 -0500

    Drop 'get' prefix on PushPromise.

commit 4b25c2cf55ef3cb9d25e37c7578a9b030fd63d9e
Merge: d512ec4 f8923a4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 14 22:57:24 2015 -0500

    Merge pull request #2103 from square/jw/deprecate-apache-shim
    
    Deprecate the Apache shim.

commit f8923a4766daad1561e3621f3a06ae0381093203
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Dec 14 22:42:32 2015 -0500

    Deprecate the Apache shim.

commit 6711a2b670d3ed7653ff68df83da79fd6ce5bde7
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Dec 14 21:13:30 2015 -0500

    Convert form-encoding body to model-based version.
    
    Update the Multipart version as well to match some conventions.

commit d512ec431b4c042c52142038f19a5e8b0324f261
Merge: ffac755 1657749
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 14 21:32:14 2015 -0500

    Merge pull request #2102 from square/jwilson_1214_hammerdrop
    
    Deprecate OkUrlFactory.

commit 165774973f69507e57f00c2f1f587bbff7720f90
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 14 21:22:00 2015 -0500

    Deprecate OkUrlFactory.

commit ffac755d87132d6450a9e1d6d1efbc68c34f4655
Merge: 193c815 0156770
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 14 21:00:21 2015 -0500

    Merge pull request #2100 from square/jwilson_1214_no_resource_leaks
    
    We don't have resource leaks in interceptor crashes anymore.

commit 01567705282a4edba960d2a71be64762a59398f3
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 14 20:54:49 2015 -0500

    We don't have resource leaks in interceptor crashes anymore.
    
    Yay stream allocations.
    
    Closes: https://github.com/square/okhttp/issues/1502

commit 193c8151136d1080cbc90be38d10490eb0e5e627
Merge: d6c21d1 0b7b793
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 14 20:07:03 2015 -0500

    Merge branch 'nfuller-FixFlakesOnDisconnect'
    
    * nfuller-FixFlakesOnDisconnect:
      Reduce flakiness and document reasons for flakiness

commit 0b7b793103f375dd04559b2ddfeb34d1140a2b6a
Merge: d6c21d1 432ca1e
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 14 19:50:43 2015 -0500

    Merge branch 'FixFlakesOnDisconnect' of https://github.com/nfuller/okhttp into nfuller-FixFlakesOnDisconnect
    
    * 'FixFlakesOnDisconnect' of https://github.com/nfuller/okhttp:
      Reduce flakiness and document reasons for flakiness
    
    Conflicts:
    	mockwebserver/src/main/java/com/squareup/okhttp/mockwebserver/MockWebServer.java
    	okhttp-tests/src/test/java/com/squareup/okhttp/URLConnectionTest.java

commit d6c21d100a1daa41244550010ccfa223a4545001
Merge: 062bb14 8e4394c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 14 19:32:44 2015 -0500

    Merge pull request #2094 from square/jwilson_1213_ciphersuite
    
    Use the cipher suite enum rather than the string.

commit 8e4394c022aa2ec6fc3c38160fc8b669e3bf3e78
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 13 22:16:26 2015 -0500

    Use the cipher suite enum rather than the string.

commit 062bb14365fd45189e0c535283f35ccf9837710e
Author: Adam Stroud <adam.stroud@gmail.com>
Date:   Sat Dec 12 01:38:23 2015 -0500

    Add URL to HTTP response logging
    
    Add the URL to the HTTP response when it is logged in the same manner
    that the URL is added to the request logging. The added logging adds
    some additional clarity when reading logs that contain many
    request/response pairs.

commit 8033d7b73a2433fd91c1e13c7786b65b49279bc4
Merge: f352965 93d547d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 14 15:25:28 2015 -0500

    Merge pull request #2089 from square/jw/earl
    
    Make HttpUrl the blessed URL method of Request.

commit 93d547dcdaecddfa456aee0571131db2342e5abb
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Dec 13 21:26:41 2015 -0500

    Make HttpUrl the blessed URL method of Request.

commit f3529652aa4e130840e48e2081cdeebbd6c6fb91
Merge: a12609b 68e3fbb
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 14 14:17:14 2015 -0500

    Merge pull request #2095 from square/jwilson_1213_fix_some_breaks
    
    Fix some breaks calling obsolete APIs.

commit a12609b4509e08347b9e3b1923882fcea6e6da0e
Merge: 1f3d559 0525f80
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 14 06:43:39 2015 -0500

    Merge pull request #2097 from jonan/patch-1
    
    Fix typo in CHANGELOG.md

commit 0525f80aa5e9809db8756f8aa31c51cada80144b
Author: Jon Ander Peñalba <jonan88@gmail.com>
Date:   Mon Dec 14 11:10:20 2015 +0100

    Fix typo in CHANGELOG.md

commit 68e3fbb0a3da00327ad7e30763d5f418d1eae93a
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 13 22:32:48 2015 -0500

    Fix some breaks calling obsolete APIs.

commit 1f3d5595f486c8a19532b98944d7d8b23516a034
Merge: ffa06e4 1bf100d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Dec 13 21:51:26 2015 -0500

    Merge pull request #2092 from square/jw/deprecated-mws
    
    Remove deprecated MWS method. Use url() instead.

commit ffa06e4ced4a5c2829562146bcfd1d4bfa2620a7
Merge: 4350e59 df41f9b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Dec 13 21:51:15 2015 -0500

    Merge pull request #2091 from square/jw/deprecated-okhttp
    
    Remove some older, deprecated APIs.

commit 4350e592f3d28e4d554a651075548141ff9ba409
Merge: 090609d fa5ad7a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Dec 13 21:51:03 2015 -0500

    Merge pull request #2090 from square/jw/whats-this-whats-this-theres-white-things-in-the-air
    
    Add missing 'this' returns from setters.

commit df41f9b5d27c19d29cd086d6334cdeba739edf3d
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Dec 13 21:33:47 2015 -0500

    Remove some older, deprecated APIs.

commit 1bf100de8a1a10d19285fb4a594d726d1eaeea7c
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Dec 13 21:33:17 2015 -0500

    Remove deprecated MWS method. Use url() instead.

commit fa5ad7ac5af9c40093810968391f904c235b2198
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Dec 13 21:31:25 2015 -0500

    Add missing 'this' returns from setters.

commit 090609d4dc2169eaddae31a4b9370737d5b18c78
Merge: 53d50ad dc05078
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Dec 13 21:28:11 2015 -0500

    Merge pull request #2082 from square/jw/multipart
    
    Promote Multipart to a top-level type with a nested builder.

commit 53d50ad711ce8f75ad687c787677ae93b27e66e5
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 13 20:45:31 2015 -0500

    OkHttp 2.7.0 is released.

commit b809280b16622c6dd6abe845bb7c2372c703ac39
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 13 20:35:30 2015 -0500

    [maven-release-plugin] prepare for next development iteration

commit a36b1fb73c1b37a1e0f4bff0b5627d7b1198ce1c
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 13 20:35:26 2015 -0500

    [maven-release-plugin] prepare release parent-2.7.0

commit 768964c996584db25a7d92c401b33c728ded147a
Merge: 78d24df 45260b5
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Dec 13 20:08:42 2015 -0500

    Merge pull request #2088 from square/jwilson_1213_dont_leak
    
    Don't leak connections when HttpURLConnection crashes.

commit 78d24df1f347aca96da4bcf22091937b9d748e63
Merge: cc1add8 390d0ae
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Dec 13 20:08:05 2015 -0500

    Merge pull request #2086 from square/jwilson_1213_allocations_package_obsolete
    
    The allocations package is obsolete.

commit cc1add87370b8599472fd61eda9cf37781e46806
Merge: 5fb2e48 c099f69
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Dec 13 20:07:27 2015 -0500

    Merge pull request #2087 from square/jwilson_1213_apis
    
    Hide overly-visible APIs in ConnectionPool.

commit 45260b51b1948abe139c568e2c400955870b9339
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 13 10:07:42 2015 -0500

    Don't leak connections when HttpURLConnection crashes.

commit c099f69d0b7198a40e4a6373ae564b65d04363ef
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 13 09:18:55 2015 -0500

    Hide overly-visible APIs in ConnectionPool.

commit 390d0ae2e72d68a3c5e63687c12bc06f321b16b8
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 13 08:46:16 2015 -0500

    The allocations package is obsolete.
    
    Ideas from this became our StreamAllocation and RealConnection class.

commit 5fb2e48653c36711a6ecb90948d9f927f1dbf442
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 12 15:07:09 2015 -0500

    Update changelog for 2.7.0.

commit 948031850751ac13463389fcef297bf1a63899f6
Merge: e7b55fd 2d73da1
Author: jwilson <jwilson@squareup.com>
Date:   Fri Dec 11 21:09:10 2015 -0500

    Merge branch 'rburgst-master'
    
    * rburgst-master:
      fix #1919: PROPFIND request should not redirect to GET request

commit 2d73da131dfa77de81ff8a54831c7385a0ce2d72
Author: Rainer Burgstaller <rainer.burgstaller@e-mundo.de>
Date:   Wed Dec 9 09:22:18 2015 +0100

    fix #1919: PROPFIND request should not redirect to GET request

commit dc05078fe773100d1be24f057ade6c4411609e3d
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Dec 10 22:10:58 2015 -0500

    Promote Multipart to a top-level type with a nested builder.
    
    This creates a model-like API in which individual parts can be read. It also offers the posibility of using this model to parse multipart in the future.

commit e7b55fd6fe503017ef026b2f457f3629795995a9
Merge: 860d3a5 479ea36
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Dec 10 00:43:07 2015 -0500

    Merge pull request #2080 from square/jwilson_1210_stream_leaks
    
    Fix some stream leaks.

commit 479ea36f8b3d54c023e2c205f7c9bc9deb2b1c89
Author: jwilson <jwilson@squareup.com>
Date:   Thu Dec 10 00:18:04 2015 -0500

    Fix some stream leaks.
    
    There's a few places where OkHttp could leak a connection that needed to be
    closed. With our new connection pool model this is easier to find. This fixes
    two specific problems:
     - too many redirects doesn't release the last used connection
     - interceptors that throw runtime exceptions don't release the connection
    
    There are likely more situations. I have hacked together a small little test
    harness to make finding these leaks easier; that's not included in this PR.

commit 860d3a5242c1db1a6398acb024a9c22fdcb505b7
Merge: 308df82 4ae314a
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Dec 9 17:25:06 2015 -0500

    Merge pull request #2077 from square/jwilson_1208_leaked_connections
    
    Detect leaked connections.

commit 4ae314a1f21d07ee5dbad024bc098182219e9e07
Author: jwilson <jwilson@squareup.com>
Date:   Tue Dec 8 22:03:45 2015 -0500

    Detect leaked connections.
    
    This is already suggesting some bugs in OkHttp itself.

commit 308df8295ccf872ceb273874edb3831218348434
Merge: 33fe9fb 9ffc45d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 7 22:52:47 2015 -0500

    Merge pull request #2072 from square/jwilson_1207_max_idle_connections
    
    Prune connections when the max idle limit is exceeded.

commit 9ffc45dbe0b9ef80ab5cf972a176548781d2206a
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 7 22:41:36 2015 -0500

    Prune connections when the max idle limit is exceeded.

commit 33fe9fb7e40271a8266021d541b26442beae850e
Merge: 068156b f212b67
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 7 17:04:52 2015 -0500

    Merge pull request #2067 from square/jwilson_1206_restore_eviction
    
    Restore time-based eviction.

commit f212b6780e95bb84b387d3edaa9128c56f2f65b4
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 6 11:52:23 2015 -0500

    Restore time-based eviction.
    
    We still don't implement a limit on the number of open connections.
    That needs to come afterwards, and will be difficult because we'll
    need to add policy on which connections to evict.

commit 068156ba1bdadb239623915586f935f7cb093461
Merge: 496802c 38aaf7b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Dec 6 10:04:53 2015 -0500

    Merge pull request #2065 from square/jwilson_1205_listener
    
    Turn IncomingStreamHandler into FramedConnection.Listener.

commit 38aaf7bca6d998d0d1a1839d2b8816735f9b8914
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 5 12:57:46 2015 -0500

    Turn IncomingStreamHandler into FramedConnection.Listener.
    
    Add a callback invoked on settings changes. The concurrency here
    is a little awkward because the calls into the listener are not
    serialized.
    
    This is going to be used in a follow up change to keep the
    connection's allocation limit in sync.

commit 496802c75873a204d8b648ad03731354ebc5ddd2
Merge: b6d2783 c071f6f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Dec 4 22:53:32 2015 -0500

    Merge pull request #2062 from square/jwilson_1203_fancy_encoding
    
    Don't log gzipped data. It isn't human readable.

commit c071f6fef4d5d2632cd4b535c7acb6c559dcfa6c
Author: jwilson <jwilson@squareup.com>
Date:   Thu Dec 3 23:57:42 2015 -0500

    Don't log gzipped data. It isn't human readable.

commit b6d278363adfe719e0cfb920ac6f7a061191e1e4
Merge: c09c5c1 10b7716
Author: jwilson <jwilson@squareup.com>
Date:   Fri Dec 4 22:35:49 2015 -0500

    Merge branch 'chaitanyajun12-master'
    
    * chaitanyajun12-master:
      added documentation #2050

commit 10b77165b99df01b046547958acec9f814c9444a
Author: Krishna Chaitanya M <chaitanya.jun12@gmail.com>
Date:   Thu Dec 3 00:44:36 2015 +0530

    added documentation #2050

commit c09c5c1b41c5e560fff9881b6e808a9b72503c9f
Merge: b59a752 c5f58e4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 2 13:28:17 2015 -0500

    Merge pull request #2055 from square/jwilson_1201_max_concurrent_streams
    
    Honor the max concurrent streams setting.

commit c5f58e45454d1ffc621c65e377cb91345018e087
Author: jwilson <jwilson@squareup.com>
Date:   Tue Dec 1 20:29:43 2015 -0500

    Honor the max concurrent streams setting.
    
    Closes https://github.com/square/okhttp/issues/1484

commit b59a7527cabc35bb2346773a9fdcd0f9a8f862b1
Merge: bb518a9 7fc2993
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Nov 30 23:11:09 2015 -0500

    Merge pull request #2052 from square/jwilson_1130_fewer_buffers
    
    Fewer buffers in FramedConnections.

commit 7fc2993c427ef7c36430a4efa5d5c1d5dd5e0dc9
Author: jwilson <jwilson@squareup.com>
Date:   Mon Nov 30 22:57:12 2015 -0500

    Fewer buffers in FramedConnections.
    
    Previously we had a BufferedSource in the RealConnection and another
    independent BufferedSource in the FramedConnection. We only need one.

commit bb518a9aac819174d5fae240ebc40995f74ab6aa
Merge: d00778c ee87f80
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Nov 29 23:15:02 2015 -0500

    Merge pull request #2048 from square/jwilson_1129_async_cancel
    
    Change async cancel to cancel the raw socket only.

commit ee87f8036f99fdfd63f8ef145f4478907682db29
Author: jwilson <jwilson@squareup.com>
Date:   Sun Nov 29 22:58:45 2015 -0500

    Change async cancel to cancel the raw socket only.
    
    Previously we could close an SSL socket which does synchronous I/O. This
    made it unreasonable to cancel a call on a UI thread.
    
    Closes: https://github.com/square/okhttp/issues/1592

commit d00778c8cf5182fb8670bb4b939f17195103cc55
Merge: e0d34eb c358656
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Nov 28 11:54:12 2015 -0500

    Merge pull request #2045 from square/jwilson_1127_new_connections_model
    
    First draft of the new new stream allocations model.

commit c358656c8799d30fd422448153e99a5dd37e298a
Author: jwilson <jwilson@squareup.com>
Date:   Fri Nov 27 19:16:06 2015 -0500

    First draft of the new new stream allocations model.

commit e0d34ebdd7aba18149d195804075a87b97f3c02d
Merge: 2c703b7 b566d99
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Nov 26 23:28:48 2015 -0500

    Merge pull request #2043 from square/jwilson_1126_newbuilder
    
    Test interaction of Authenticator and transparent Gzip.

commit b566d998448339c02b997804cd60f2558b74f8a0
Author: jwilson <jwilson@squareup.com>
Date:   Thu Nov 26 17:10:05 2015 -0500

    Test interaction of Authenticator and transparent Gzip.

commit 2c703b7e7e40a3494924548de2aeb4c8acdda878
Merge: ed431fc e31cf46
Author: jwilson <jwilson@squareup.com>
Date:   Wed Nov 25 17:37:46 2015 -0500

    Merge "Remote DNS resolving for connections through a SOCKS proxy"
    
    * rnauber-rnauber_remoteDNSwithSOCKS:
      Use bogus pin that doesn’t throw an exception
      Log the full URL.
      Log level getter.
      Remove synthetic protocol header from native API.
      Force logging of headers from the request body.
      Support 204 and 205 'No Content' replies when application interceptor.
      Remote DNS resolving for connections through a SOCKS proxy

commit e31cf463ea62454f6b0102290f187712692a4736
Author: Cédric Luthi <cedric.luthi@gmail.com>
Date:   Wed Nov 25 20:18:04 2015 +0100

    Use bogus pin that doesn’t throw an exception
    
    "sha1/BOGUSPIN" throws an `IllegalArgumentException` because `BOGUSPIN` is not valid base64.

commit 4fdd055d174448f40cd853ddcd8dedd146d468c1
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Nov 24 22:19:27 2015 -0500

    Log the full URL.

commit 1715ebeee5ef2c88437849cfa2a3793b815b8a29
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Nov 24 22:14:12 2015 -0500

    Log level getter.

commit f1d5159b6b61806ae742b77fa602b4ef8197101e
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Nov 24 21:59:15 2015 -0500

    Remove synthetic protocol header from native API.
    
    Also formalize HttpURLConnection-only 'Response-Source' synthetic header to be on par with the protocol header (which is retained for this legacy interface).

commit e745e86571628cd222d7dc279fa71d928480f927
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Nov 24 20:45:51 2015 -0500

    Force logging of headers from the request body.

commit e960f78ce685bc67946816867ee4ac545086e328
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Nov 24 17:05:46 2015 -0500

    Support 204 and 205 'No Content' replies when application interceptor.

commit ed431fcdf2a6dac4a1d0d491b41d7eca01c7d243
Merge: f8bb4f1 b1a6ba6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Nov 25 14:23:11 2015 -0500

    Merge pull request #2042 from 0xced/fix-bogus-pin-documentation
    
    Use bogus pin that doesn’t throw an exception

commit b1a6ba667a02c8454e0f6d242574fc15785f59c7
Author: Cédric Luthi <cedric.luthi@gmail.com>
Date:   Wed Nov 25 20:18:04 2015 +0100

    Use bogus pin that doesn’t throw an exception
    
    "sha1/BOGUSPIN" throws an `IllegalArgumentException` because `BOGUSPIN` is not valid base64.

commit f8bb4f14200315069b50ff8fc95c1666a2f3e2ad
Merge: 90f8429 0fae6bb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Nov 24 22:43:53 2015 -0500

    Merge pull request #2038 from square/jw/getter
    
    Log level getter.

commit 90f84298f0bd1a35cc291824299efca08f23e3d4
Merge: cc829c1 ebb0003
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Nov 24 22:32:54 2015 -0500

    Merge pull request #2039 from square/jw/log-full-url
    
    Log the full URL.

commit ebb000396897ac38f41c7037aaf236b1005e837e
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Nov 24 22:19:27 2015 -0500

    Log the full URL.

commit 0fae6bbb507082a3e525b52920b2f4aba32fba81
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Nov 24 22:14:12 2015 -0500

    Log level getter.

commit cc829c1fa9ee891bb907bbb58b0fa81dad20290d
Merge: 3f2b1a4 6fff68b
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Nov 24 22:09:39 2015 -0500

    Merge pull request #2037 from square/jw/remove-synthetic-protocol-header
    
    Remove synthetic protocol header from native API.

commit 6fff68b1e9be384ad134812d3e14af5ae7fef83f
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Nov 24 21:59:15 2015 -0500

    Remove synthetic protocol header from native API.
    
    Also formalize HttpURLConnection-only 'Response-Source' synthetic header to be on par with the protocol header (which is retained for this legacy interface).

commit 3f2b1a469f68122f6b4de1c664c185241f6fc85a
Merge: 810c825 8396d21
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Nov 24 20:54:29 2015 -0500

    Merge pull request #2036 from square/jw/always-log-body-headers
    
    Force logging of headers from the request body.

commit 8396d21dfa874f84067e01097df2b0db04ba8f0c
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Nov 24 20:45:51 2015 -0500

    Force logging of headers from the request body.

commit 810c8255fa22e834cdfef07e9712db8f70048a07
Merge: 57d7367 b93104c
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Nov 24 20:38:08 2015 -0500

    Merge pull request #2033 from square/jw/no-content
    
    Support 204 and 205 'No Content' replies when application interceptor.

commit b93104c9e6869443ad15c9bc9df338944dfee84a
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Nov 24 17:05:46 2015 -0500

    Support 204 and 205 'No Content' replies when application interceptor.

commit c4850974767be72e16d06ae19c303eccd4e13960
Author: olg <x>
Date:   Tue Nov 24 22:55:09 2015 +0100

    Remote DNS resolving for connections through a SOCKS proxy
    
    This small patch ensures that a connection through a SOCKS proxy will have its hostname resolved through the proxy as well. It includes a test case for that behaviour.

commit 57d7367bba1c40d54e45bf782e2dedc07895836f
Merge: 33dd691 4262a05
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Nov 23 22:22:10 2015 -0500

    Merge pull request #2030 from square/jwilson_1023_connection_pool_tests
    
    Write some new connection pool tests.

commit 4262a05f8e858ac9c39599b2e1dfc53c03020cd2
Author: jwilson <jwilson@squareup.com>
Date:   Mon Nov 23 19:30:39 2015 -0500

    Write some new connection pool tests.
    
    These use the Call APIs. They're high-level so they won't break with the
    implementation rewrite.

commit 33dd69197ed581dc7afdfecad75ac116269953cd
Merge: 497f77b 4c491cc
Author: jwilson <jwilson@squareup.com>
Date:   Sun Nov 22 23:36:16 2015 -0500

    Merge branch 'framiere-patch'
    
    * framiere-patch:
      cosmetics

commit 4c491ccc108f850d92b6c249d6c90cd6dfec4289
Author: Florent Ramière <florent@ramiere.com>
Date:   Sun Nov 22 23:41:08 2015 +0100

    cosmetics

commit 497f77be59d45da4b40f8ebf4b5cae75daf4e1b8
Merge: ad02ea2 ee1dee1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 22 22:10:27 2015 -0500

    Merge pull request #2026 from artem-zinnatullin/http-logging-interceptor-setleve-null
    
    Add null check to HttpLoggingInterceptor.setLevel()

commit ee1dee1322da49e14672306846d477eefe5ae41d
Author: Artem Zinnatullin <artem.zinnatullin@gmail.com>
Date:   Mon Nov 23 05:35:43 2015 +0300

    Add null check to HttpLoggingInterceptor.setLevel()

commit ad02ea22809ffd84444155e7e5f583920ee398a9
Merge: 1cb70c9 c664d18
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 22 16:59:25 2015 -0500

    Merge pull request #2024 from artem-zinnatullin/logging-interceptor-log-level
    
    Return this from HttpLoggingInterceptor.setLevel()

commit c664d1864b466a9bced4313151b459a37168d65f
Author: Artem Zinnatullin <artem.zinnatullin@gmail.com>
Date:   Mon Nov 23 00:29:06 2015 +0300

    Return this from HttpLoggingInterceptor.setLevel()

commit 1cb70c9efc8c56c1f5120b370d7e0384dc25db3d
Merge: a4c443b cc216c6
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Nov 22 13:35:07 2015 -0500

    Merge pull request #2022 from square/jwilson_1122_is_executed
    
    Add Call.isExecuted().

commit a4c443bdddcf75ad07cfbdcba3c96ffec66602a4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 22 12:58:44 2015 -0500

    Bump to 2.6.0

commit 94ca8566b29d3bd0d274da3db6b6dbaf360193e5
Author: jwilson <jwilson@squareup.com>
Date:   Sun Nov 22 12:30:35 2015 -0500

    [maven-release-plugin] prepare for next development iteration

commit d0a381edc1a20d8d3e17bde0a6eda598334162cc
Author: jwilson <jwilson@squareup.com>
Date:   Sun Nov 22 12:30:31 2015 -0500

    [maven-release-plugin] prepare release parent-2.6.0

commit 8724227ca9cac432b2764434f5662268934a8860
Author: jwilson <jwilson@squareup.com>
Date:   Sun Nov 22 12:26:09 2015 -0500

    Changelog for OkHttp 2.6.0.

commit cc216c6f731f4f08ac29e5619943f502c50bfafd
Author: jwilson <jwilson@squareup.com>
Date:   Sun Nov 22 11:11:50 2015 -0500

    Add Call.isExecuted().
    
    Might be useful to expose this bookkeeping to app developers.

commit ae7c732b10324b263cd555eac3a81327a07172d1
Merge: 85310b1 bf560c1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 22 10:25:59 2015 -0500

    Merge pull request #2020 from square/jwilson_1121_http2_no_nulls
    
    Fix HTTP/2 bug where we were using SPDY/3 style header concatenation.

commit bf560c1b253c1a6d157ee4839f4bb1b31a790f48
Author: jwilson <jwilson@squareup.com>
Date:   Sat Nov 21 18:41:48 2015 -0500

    Fix HTTP/2 bug where we were using SPDY/3 style header concatenation.
    
    When multiple headers have the same value in SPDY/3, they are concantenated
    and separated by \u0000.
    
    When multiple headers have the same value in HTTP/2, they are each written
    independently.
    
    This fixes the problem and rearranges the code to share less behavior than
    previously. It gets us closer to being able to drop SPDY/3.
    
    Closes https://github.com/square/okhttp/issues/1906

commit 85310b1f88e082a244043be36aac49772677f052
Merge: f2cf770 e36d7ec
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Nov 18 23:43:45 2015 -0500

    Merge pull request #2013 from square/jwilson_1118_less_flaky
    
    Fix flakiness in CallTest.cancelTagImmediatelyAfterEnqueue()

commit e36d7ecc26be18021da3555fc8b14381df7af34d
Author: jwilson <jwilson@squareup.com>
Date:   Wed Nov 18 22:59:24 2015 -0500

    Fix flakiness in CallTest.cancelTagImmediatelyAfterEnqueue()
    
    There's a race where the HTTP engine has been created, but not yet connected
    and the cancel isn't as immediate as it could be. Fix the test by making sure
    there's a response to be retrieved.
    
    With the upcoming connection pool changes we might make the implementation
    more robust.
    
    Closes: https://github.com/square/okhttp/issues/2001

commit f2cf770162d511ff3232c61cf592f17feb2b92be
Merge: 3edddd1 529c4a3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Nov 18 00:08:33 2015 -0500

    Merge pull request #2008 from square/jwilson_1117_more_connections
    
    Stop returning HTTP/1.0 from Connection.getProtocol().

commit 529c4a36bb21b3fb7717c27f8a31c39c1b603e9d
Author: jwilson <jwilson@squareup.com>
Date:   Tue Nov 17 19:22:21 2015 -0500

    Stop returning HTTP/1.0 from Connection.getProtocol().
    
    This was updating the protocol as a side-effect of an HTTP/1.0 response.
    This made the protocol field mutable, and the code more difficult to
    trace.
    
    One consequence of this change is that OkHttp will attempt HTTP/1.1 for
    all requests, even if a server returns HTTP/1.0 from the first response.
    This is closer to our implementation anyway.

commit 3edddd11276a4f1218278479a1f93a99534db498
Merge: e57ba12 607f4f4
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Nov 16 14:18:19 2015 -0500

    Merge pull request #2004 from square/jw/options-allows-body
    
    OPTIONS allows body.

commit 607f4f432216c9e19b052237fd1401fd2aa903a8
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Nov 16 12:19:05 2015 -0500

    OPTIONS allows body.
    
    > If the OPTIONS request includes an entity-body (as indicated by the presence of Content-Length or Transfer-Encoding), then the media type MUST be indicated by a Content-Type field. Although this specification does not define any use for such a body, future extensions to HTTP might use the OPTIONS body to make more detailed queries on the server. A server that does not support such an extension MAY discard the request body.

commit e57ba121a4e345fa591718d2cd7f101b06a369ca
Merge: 5279518 d7a0930
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 15 16:24:11 2015 -0500

    Merge pull request #1999 from square/jw/consumers-close
    
    Force consumers to call WS#close on IO error.

commit 5279518f4774b80829ec0e5792f21767038244d9
Merge: 8d71cb8 457fb42
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Nov 14 23:42:43 2015 -0500

    Merge pull request #2000 from square/jwilson_1114_tunnel
    
    Don't use the request to build the proxy tunnel.

commit 457fb428a729c50c562822571ea9b13e689648f3
Author: jwilson <jwilson@squareup.com>
Date:   Sat Nov 14 22:28:47 2015 -0500

    Don't use the request to build the proxy tunnel.
    
    The tunnel is shared between requests, and it's awkward to build that with the
    first request that needs it.

commit d7a09309104f1e59e550760c08753d660acac545
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Nov 14 18:49:41 2015 -0500

    Force consumers to call WS#close on IO error.

commit 8d71cb8e37123fe787585a0d0812973cb471231e
Merge: 6d2dcf2 38df774
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Nov 14 11:09:14 2015 -0800

    Merge pull request #1996 from square/jw/fail-after-IO
    
    Break apart close states. Try to send close on IOE.

commit 38df77497a98ed67a9fc7bcea263f4641d1e615b
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Nov 14 02:04:24 2015 -0500

    Break apart close states. Try to send close on IOE.
    
    This breaks apart the states used to track sending a close message and whether or not the connection has been closed. Prior to this, certain threading orders would allow multiple calls to close() which would attempt to remove ownership of the connection, the second of which would fail.

commit 6d2dcf2cc543d15cad69d2873760f11037604c8f
Merge: cc821ff 0b1d20c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Nov 13 23:18:42 2015 -0800

    Merge pull request #1995 from square/jwilson_1113_plus_is_space
    
    Permit space to be encoded as + or %20.

commit 0b1d20c47cc608aa0a68dabd4f105adb6b690afe
Author: jwilson <jwilson@squareup.com>
Date:   Fri Nov 13 22:21:13 2015 -0800

    Permit space to be encoded as + or %20.
    
    Previously we forced %20, which offended some broken web servers.
    
    Closes https://github.com/square/okhttp/issues/1920

commit cc821ff3166c709978a546961bbe5f1025a1d792
Merge: 2800d81 28dbfc6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Nov 12 07:17:11 2015 -0800

    Merge pull request #1991 from sunyal/sunyal/javadoc_fix
    
    Correct the Javadoc description

commit 28dbfc6199c559ea0218db6b011e21e8d8905991
Author: abeggs <sunyal@gmail.com>
Date:   Thu Nov 12 10:13:05 2015 -0500

    Correct the Javadoc description

commit 2800d8153e019a60e616616f6ad9d37f4458b38d
Merge: 4fd3f57 7722f32
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Nov 11 02:51:08 2015 -0500

    Merge pull request #1987 from square/jwilson_1110_filename
    
    Include a filename in the PostMultipart example.

commit 7722f32b6cce03d8c35d19ab7b5b1609bc47760f
Author: jwilson <jwilson@squareup.com>
Date:   Tue Nov 10 23:49:52 2015 -0800

    Include a filename in the PostMultipart example.
    
    Closes: https://github.com/square/okhttp/issues/1521

commit 4fd3f57b9fe72a5233f3c6cf246bf1bfab4f580e
Merge: 87592d9 49a3313
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Nov 9 08:13:23 2015 -0500

    Merge pull request #1982 from square/jwilson_1108_allocations
    
    Connection allocations model.

commit 49a331385343f3ca49d26c4ddd947546867bcd3b
Author: jwilson <jwilson@squareup.com>
Date:   Sun Nov 8 14:50:55 2015 -0500

    Connection allocations model.
    
    This is intended to replace some of the state machines in HttpConnection, HttpEngine,
    and ConnectionPool. With this we'll keep track of all streams in flight, not just
    the connections currently idle.
    
    Note that I've sketched this out into a new Connection.java class. In a follow up
    change I'll attempt to combine this with the existing Connection class.

commit 87592d9feca8da56c45ac35880948b6005dd1675
Merge: 4330e45 f92348d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Nov 8 21:15:39 2015 +0000

    Merge pull request #1980 from square/jwilson_1107_failing_test
    
    New failing test for HTTP/2 connection interference.

commit f92348de5c11bafdee25b172bf053853ad9831d4
Author: jwilson <jwilson@squareup.com>
Date:   Sat Nov 7 16:00:07 2015 -0500

    New failing test for HTTP/2 connection interference.

commit 4330e459981491414ad86ca7c0cb7f8d08a47a29
Merge: 9575e7a 8b19bc4
Author: jwilson <jwilson@squareup.com>
Date:   Fri Nov 6 20:14:45 2015 -0500

    Merge branch 'nfuller-FixWriteTimeouts'
    
    * nfuller-FixWriteTimeouts:
      Fix URLConnectionTest.writeTimeouts with large receive buffers

commit 8b19bc471f66ee45c5eed3df6817411d074aabe5
Author: Neil Fuller <nfuller@google.com>
Date:   Fri Nov 6 13:17:13 2015 +0000

    Fix URLConnectionTest.writeTimeouts with large receive buffers
    
    The test relies on small client send / server receive buffers
    to force blocking and generate a timeout.
    
    The switch to make MockWebServer a @Rule (commit
    785d9e94387f404f571775a49c3a9438508bb659) moved the
    MockWebServer.start() call earlier in the test execution.
    Setting the ServerSocketFactory became a no-op so the server
    receive buffer size was left as the default.
    
    The test became reliant on either:
    1) The default server socket receive buffer being small enough
    (e.g. less than the data being transmitted).
    2) The device being too slow to send the requested data in the
    time allowed.
    
    The test was recently made less reliable by:
    1) The okio commit
    f30955cb15eb234f874dd55819686832c960765b, which made the segment
    size bigger (increasing throughput / transfer efficiency).
    2) The OkHttp commit f30955cb15eb234f874dd55819686832c960765b,
    which reduced the amount of data being sent in the test from
    16MB to 2MB.
    3) Recent Android devices have large default buffer sizes. e.g.
    Nexus 5: 1MB, Nexus 5X: 6MB.

commit 9575e7afdb424ee465346af9f53ba96b154bac03
Merge: 3f3c764 f4feb0a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Nov 6 00:03:07 2015 -0500

    Merge pull request #1970 from square/jwilson_1104_nonascii_fragment
    
    Don't percent-encode non-ASCII characters in fragments

commit f4feb0adfcd8e209f90d4fffb6facf5c07f57110
Author: jwilson <jwilson@squareup.com>
Date:   Wed Nov 4 23:27:53 2015 -0500

    Don't percent-encode non-ASCII characters in fragments
    
    Fixes https://github.com/square/okhttp/issues/1635

commit 3f3c7640adf0a2f0f285e465b671e343b7ce4c65
Merge: 65b43ff 868ee84
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Nov 5 13:54:09 2015 +0100

    Merge pull request #1971 from square/jwilson_1105_drop_dss
    
    Drop our one remaining DSS cipher suite.

commit 868ee844458eda9ee7b1b6f9a5238b7c3f84c0e4
Author: jwilson <jwilson@squareup.com>
Date:   Thu Nov 5 01:06:10 2015 -0500

    Drop our one remaining DSS cipher suite.
    
    Tracking Chrome and Firefox, which have also dropped this cipher suite.
    
    This is the only cipher suite change since the last update. See our cipher
    suites spreadsheet for a comparison: https://goo.gl/dWXbi0
    
    Closes https://github.com/square/okhttp/issues/1476

commit 65b43ff3a6e933c0fad73f30ce5562646b8c5228
Merge: 904f761 38c6e61
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Nov 4 09:35:07 2015 -0500

    Merge pull request #1967 from square/jwilson_1103_custom_dns
    
    Make the DNS service pluggable.

commit 38c6e610f13033bc40d0307c0a2f2e86a49564b9
Author: jwilson <jwilson@squareup.com>
Date:   Tue Nov 3 21:01:42 2015 -0500

    Make the DNS service pluggable.
    
    It was already pluggable as the internal class named Network. Now it's
    exposed as a public interface called DNS.

commit 904f76114396a00f6102ae544715dd960a79818e
Merge: f203291 784fc03
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Nov 2 22:19:42 2015 -0500

    Merge pull request #1963 from square/jwilson_1102_connectionspec
    
    Make ConnectionSpec more uniform.

commit 784fc03fd41c6350943e0dcfa644d64be173dfa3
Author: jwilson <jwilson@squareup.com>
Date:   Mon Nov 2 20:18:28 2015 -0500

    Make ConnectionSpec more uniform.
    
    Closes https://github.com/square/okhttp/issues/1831

commit f20329132f9cdaeed8dabcdef05c9a3df5bdf161
Merge: 41a600e bbd028c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 1 22:22:45 2015 -0500

    Merge pull request #1960 from square/jw/disconnect-request-halfway
    
    Add policy for disconnecting request body halfway.

commit bbd028c95f2d2e54deee899519d0deeabe561e8b
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jul 19 12:11:27 2015 -0400

    Add policy for disconnecting request body halfway.

commit 41a600eee4fcbd9c50a6d92c9b50bb88369a83e3
Merge: 071efc6 080e753
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 1 12:45:49 2015 -0500

    Merge pull request #1959 from square/jwilson_1101_uri
    
    Encode enough to make URI happy.

commit 080e7536ab8c2d07db58628f75a4140012e2a581
Author: jwilson <jwilson@squareup.com>
Date:   Sun Nov 1 12:16:09 2015 -0500

    Encode enough to make URI happy.
    
    Plus a bunch of test cases around this unfortunate case.
    
    Closes https://github.com/square/okhttp/issues/1872

commit 071efc645182aee73454bbe7f5bc37a8eb8623fa
Merge: 26efb80 e4dd6cf
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Nov 1 02:38:49 2015 +0000

    Merge pull request #1956 from square/jwilson_1030_null_fragment
    
    Handle null fragments.

commit 26efb805c66555d7f0ac078502d82702a7f376d8
Merge: d34371c a84e9c8
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Nov 1 02:26:57 2015 +0000

    Merge pull request #1957 from square/jwilson_1031_interceptors_return_null
    
    Throw the right exception if an interceptor returns null.

commit d34371c34749901ed93e690b961a045ed0817e02
Merge: 876db04 bebea46
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Oct 31 17:28:24 2015 -0400

    Merge pull request #1958 from markhobson/master
    
    Log favicon request instead of using standard output

commit a84e9c83c427f0004d1ca5a8860f8c9d2379a636
Author: jwilson <jwilson@squareup.com>
Date:   Sat Oct 31 09:20:58 2015 -0400

    Throw the right exception if an interceptor returns null.
    
    Previously we were treating null as a sentinel 'canceled' value
    for application interceptors, and crashing on network interceptors.
    
    Closes https://github.com/square/okhttp/issues/1921

commit bebea4679ead5f9779ad00c3570ea68eb2a8dea7
Author: Mark Hobson <markhobson@gmail.com>
Date:   Sat Oct 31 18:58:14 2015 +0000

    Log favicon request instead of using standard output

commit e4dd6cfd63b251fba7a37e773f91c6bb4150b6bf
Author: jwilson <jwilson@squareup.com>
Date:   Fri Oct 30 20:32:20 2015 -0400

    Handle null fragments.

commit 876db048507290f20c3c0311f09bffd1db944b6d
Merge: c894fd1 347b37c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Oct 29 23:13:29 2015 -0400

    Merge pull request #1848 from yschimke/use_x-www-form-urlencoded
    
    use application/x-www-form-urlencoded in okcurl

commit c894fd10168d4fbf64979f486a820db9a35ef19b
Merge: c429ab5 2a13fe9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Oct 29 23:12:04 2015 -0400

    Merge pull request #1885 from iagreen/master.better-uri-encoding
    
    use URI constructor for encoding

commit c429ab533508edadb2592a44014c4a04622bb7f3
Merge: 403e127 d517842
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Oct 29 23:06:23 2015 -0400

    Merge pull request #1939 from nfuller/FixHttpUrlConnectionFollowRedirects
    
    Fix Http(s)URLConnectionImpl.getInstanceFollowsRedirects()

commit 403e127cf29ae1d489c2d9ed230c841086a09d4b
Merge: 9b3b86f 5c4f2f1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Oct 26 17:41:16 2015 -0400

    Merge pull request #1944 from square/jwilson_1026_update_javadoc_links
    
    Update links to Javadoc.

commit 5c4f2f1ab576117f2398fb1a1f7d91adf41e7269
Author: jwilson <jwilson@squareup.com>
Date:   Mon Oct 26 17:24:59 2015 -0400

    Update links to Javadoc.

commit 9b3b86f93717a9382cb9d31ad4134bbcdb763719
Merge: 6a820cc 0c1481a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Oct 21 08:20:03 2015 -0400

    Merge pull request #1870 from ansman/master
    
    Make AsyncCall handle interceptors that throws an IOException

commit d517842e59737b73c7d6cfe850be0db1429845af
Author: Neil Fuller <nfuller@google.com>
Date:   Tue Oct 20 20:56:07 2015 +0100

    Fix Http(s)URLConnectionImpl.getInstanceFollowsRedirects()
    
    Android bug: https://code.google.com/p/android/issues/detail?id=190998

commit 0c1481a2d3d7482a3e0c4e63f8d99ba6cea9c24b
Author: Nicklas Ansman Giertz <nicklas@ansman.se>
Date:   Thu Sep 24 11:08:43 2015 +0200

    Make AsyncCall handle interceptors that throws an IOException
    
    This closes #1801

commit 6a820cce4c655632ac78958f1c3aec8815589a6c
Merge: bd27593 75e69c3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Oct 19 19:48:58 2015 -0400

    Merge pull request #1936 from square/jw/chunked
    
    Remove the need for an explicit Content-Length header to log response body.

commit 75e69c3f493cba7f2f253ce9c69d76687f785d6b
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Oct 19 17:45:24 2015 -0400

    Remove double-clone of Buffer.

commit 8a7516cc662ecae705efaaaf4f484e98e9ecf192
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Oct 19 17:42:18 2015 -0400

    Remove the need for an explicit Content-Length header to log response body.
    
    This allows chunked responses with no specified length to be logged and have their size reported correctly.

commit bd2759303feb9914dc9aea92683a51405b6a0f46
Merge: 10cc0d8 43be47d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Oct 9 13:24:17 2015 -0400

    Merge pull request #1915 from square/jw/clever-girl
    
    Use clever buffer/clone trick for duplicate response body.

commit 43be47da698aaf431bc038449875bd258051b3af
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Oct 9 11:12:08 2015 -0400

    Use clever buffer/clone trick for duplicate response body.

commit 10cc0d81dee318beb844eeb09fc4bce3d95f556a
Merge: 0c18517 a9015eb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Oct 8 10:31:50 2015 -0400

    Merge pull request #1908 from square/jw/strict-mode
    
    Add a strict mode of sorts to InMemoryFileSystem to detect handle leaks.

commit a9015ebe7dd5bdc3d29f41edfa24edaddf316836
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Oct 7 23:41:24 2015 -0400

    Add a strict mode of sorts to InMemoryFileSystem to detect handle leaks.

commit 0c1851710e1420b551c9532f9d05b3794cd808e3
Merge: b65e9b5 410cf7d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Oct 7 07:47:36 2015 -0400

    Merge pull request #1901 from rfc2822/master
    
    Add support for WebDAV HTTP methods (RFC 4918)

commit 410cf7dd34491d81ec7311cc5116bce9351ef902
Author: Ricki Hirner <hirner@bitfire.at>
Date:   Wed Oct 7 02:22:24 2015 +0200

    Add support for WebDAV HTTP methods (RFC 4918)

commit b65e9b5ac499a28278ff54e20af817ae1a8ec5ba
Merge: a394643 af6eb78
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Oct 5 10:44:46 2015 -0400

    Merge pull request #1896 from square/jwilson_1005_getsockname
    
    Recover from one more getsockname crash.

commit af6eb7817d53b80110717982a412e7e7e5dc18a4
Author: jwilson <jwilson@squareup.com>
Date:   Mon Oct 5 09:37:24 2015 -0400

    Recover from one more getsockname crash.

commit a3946430a747a0bda6e78136ab733e796cd712e6
Merge: dedcb5d eea2336
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Sep 30 11:58:23 2015 -0400

    Merge pull request #1888 from nfuller/FixLargeMemoryTest
    
    Reduce the memory requirements of a test

commit eea233686bda74c0f2ecc7175ade62cbe48d8401
Author: Neil Fuller <nfuller@google.com>
Date:   Wed Sep 30 14:41:20 2015 +0100

    Reduce the memory requirements of a test
    
    URLConnectionTest.testWrites allocates a 16MB buffer.
    It can run in less memory (and causes problems
    on low-spec Android devices).
    
    4k is the typical smallest allowable buffer size on Linux.

commit dedcb5dc596ce108afd7b374bbeba270d9efe77c
Merge: 18c5cad 16f1d04
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Sep 28 15:09:46 2015 -0400

    Merge pull request #1883 from marenzo/patch-1
    
    api has changed, fixing the example

commit 16f1d048165d2bf0aee4833ff7d8b415f537ce64
Author: Michael Arenzon <misha9090@gmail.com>
Date:   Mon Sep 28 22:08:16 2015 +0300

    api has changed, fixing the example

commit 2a13fe9d83a596ddbfe8299dc75ab33db9130d20
Author: Isaac Green <isaac@wink.com>
Date:   Mon Sep 28 02:54:18 2015 -0400

    use URI constructor for encoding
    fixes - https://github.com/square/okhttp/issues/1872

commit 18c5cad5d2d4436de73f1959c9ce1c8dd763d9be
Merge: 8089ed1 5b23460
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Sep 27 18:36:41 2015 -0400

    Merge pull request #1878 from square/jw/autobahn-ci
    
    Add Autobahn infrastructure for future automated testing.

commit 5b23460bbbf6577f6e250eec7434d916a873582b
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Sep 27 03:39:31 2015 -0400

    Add Autobahn infrastructure for future automated testing.

commit 8089ed1d8720ee4aa3af984f7c6d86c21473ab33
Merge: 3e618b3 f04c86e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Sep 27 17:30:52 2015 -0400

    Merge pull request #1881 from square/jw/unused
    
    Remove unused field.

commit 3e618b34b92ebae79888461b93b0ac3c1c7f425f
Merge: 1e16a73 e490434
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Sep 27 17:26:40 2015 -0400

    Merge pull request #1879 from raskasa/master
    
    Fix minor grammatical error in HttpUrlConnectionImpl's Javadoc

commit 1e16a7312266919e104918e8b99fb2595123d57c
Merge: 148d2d7 b74d7a3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Sep 27 17:24:28 2015 -0400

    Merge pull request #1880 from square/jw/shutdown-reply-executors
    
    Shutdown reply executors when web socket closes.

commit f04c86e143c6f0bd07c04c81814ed1eb93ee807f
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Sep 27 17:22:46 2015 -0400

    Remove unused field.

commit b74d7a398d1a1789996f224ad492f699e9948281
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Sep 27 16:27:42 2015 -0400

    Shutdown reply executors when web socket closes.

commit e490434c7cdb0735166c05f6b283b23e5207f3fa
Author: Ras Kasa Williams <raskasa@users.noreply.github.com>
Date:   Sun Sep 27 16:37:39 2015 -0400

    Fix minor grammatical error in HttpUrlConnectionImpl's Javadoc

commit 148d2d7eda3ebc28b2150f9322677f339b630093
Merge: ee8a2e9 bdd6c6f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Sep 27 10:55:18 2015 -0400

    Merge pull request #1877 from square/jw/moar-compliance
    
    Honor (and thus fail on) reserved close codes defined in the spec.

commit bdd6c6f172a1d8ab7ccbf33bd7c878a221a7ba26
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Sep 27 01:51:07 2015 -0400

    Close cleanly on empty close payloads, but fail on payloads of size 1.

commit db971587a46a0ef6cfc5528bb54ca1de11200b40
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Sep 27 01:38:44 2015 -0400

    Honor (and thus fail on) reserved close codes defined in the spec.

commit ee8a2e9f04c5a43c637c8b5e9df3854a30fcf8c6
Merge: c6386ce bffee23
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Sep 27 00:45:53 2015 -0400

    Merge pull request #1876 from square/jw/buffer-in-ws-writer
    
    Introduce intermediate storage for frame contents.

commit bffee2336725dde0f74933d5a7d12536c9bcbd06
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Sep 26 21:51:05 2015 -0400

    Introduce intermediate storage for frame contents.
    
    This eliminates the need to always send a frame for every FrameSink#write and to always send an empty frame for FrameSink#close. Now, we only emit bytes once Okio reports complete segments.

commit c6386cec99ffc9fba569d3d77e9f2df9044089d0
Merge: ef4a8e6 40a6dc7
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Sep 26 20:18:53 2015 -0400

    Merge pull request #1875 from square/jw/body-websocket
    
    Represent WebSocket payload using RequestBody and ResponseBody.

commit 40a6dc7dd5ff6843b82f904516181182d512d0ca
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jul 18 13:51:18 2015 -0400

    Represent WebSocket payload using RequestBody and ResponseBody.

commit ef4a8e661bff9be1070c76cedb4d8853ef13c8a6
Merge: e0d9098 1f0cb4e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Sep 26 14:07:17 2015 -0400

    Merge pull request #1874 from square/jw/logger
    
    Add logging interceptor for simple request and response logging.

commit 1f0cb4e6b682a29eed8238731bdf866124a60cc0
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Sep 25 00:17:12 2015 -0400

    Add logging interceptor for simple request and response logging.

commit e0d909868154f0c1eff07b333e39cb83404d0427
Merge: 313620b 5a37e2c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 21 23:38:12 2015 -0400

    Merge pull request #1868 from square/jwilson_0921_novel_test_case
    
    Add a 3030 testcase.

commit 5a37e2c88d7d654226891a0fc45749f90c6d75da
Author: jwilson <jwilson@squareup.com>
Date:   Mon Sep 21 23:26:35 2015 -0400

    Add a 3030 testcase.
    
    Crashes Chrome.

commit 313620b5f9523da451e996d7afc85fd625d59ae7
Merge: 19455e7 8e996aa
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Sep 18 09:51:26 2015 -0400

    Merge pull request #1863 from cketti/allow_interceptor_to_change_method
    
    Allow interceptor to change method

commit 8e996aadc5d7839f249399abac657e3c9df1dc4a
Author: cketti <cketti@gmail.com>
Date:   Fri Sep 18 06:58:36 2015 +0200

    Fix bug where request body isn't sent when it should

commit bc0ca53466faa4ffa8c1d92746371651e3722f45
Author: cketti <cketti@gmail.com>
Date:   Fri Sep 18 06:26:51 2015 +0200

    Add failing test for interceptor that changes request method
    
    When an interceptor changes the request from a method that doesn't use
    a request body to a request method that requires a body, the connection
    times out because no body will be sent.

commit 19455e754f5520dce9583185cd030b5c3249a367
Merge: 40aa83e 84f359d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Sep 17 11:44:20 2015 -0400

    Merge pull request #1858 from nfuller/FixDelegatingSSLSocketFactory
    
    Fix DelegatingSSLSocketFactory for Android

commit 84f359d025d6620cf996c7e15c076e5c13dafc1d
Author: Neil Fuller <nfuller@google.com>
Date:   Thu Sep 17 09:46:39 2015 +0100

    Fix DelegatingSSLSocketFactory for Android
    
    Commit 765a965 (pr #1835) did not modify all the necessary lines
    when changing the configureSocket() method over from a
    modify-in-place to a return-modified pattern. The problem
    only shows up on Android where the behavior is required for
    TLS_FALLBACK_SCSV tests to work.

commit 40aa83e011c58d1a76b8afc13377105f01239570
Merge: 4305dc3 3f1ac2b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Sep 17 00:24:18 2015 -0400

    Merge pull request #1855 from NightlyNexus/eric/sample
    
    Close ResponseBody in sample

commit 3f1ac2b8bc9d33d5a2ff3f52c3122c7e9649ba7e
Author: Eric Cochran <Eric@NightlyNexus.com>
Date:   Wed Sep 16 17:39:41 2015 -0700

    Close ResponseBody in sample

commit 4305dc3fabeab392eb56f2db51538e06c3a54e51
Merge: 264f3b4 ddc3534
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Sep 15 07:24:40 2015 -0400

    Merge pull request #1852 from nfuller/FixMockWebServerTestOnAndroid
    
    Make the MockWebServer tests more Android compatible.

commit 264f3b491a5de39b1c3199f8cb5f796fef3ed938
Merge: 12550d9 b0664e8
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Sep 15 07:24:07 2015 -0400

    Merge pull request #1851 from nfuller/FixUnknownHostException
    
    Throw UnknownHostException not IllegalArgumentException for bad host …

commit ddc3534787a0a53f4112e238bc43f7f255f90c51
Author: Neil Fuller <nfuller@google.com>
Date:   Tue Sep 15 10:50:54 2015 +0100

    Make the MockWebServer tests more Android compatible.
    
    There are a few cases in OkHttp where API calls don't exist on
    Android, but this is one that we can work around with any loss
    of understanding.
    
    The same test also behaves differently on Android due to
    differences between the OpenJDK and Android's
    HttpURLConnection implementation.
    
    See issue #1824.

commit b0664e80edfc58e9a66051b803560f3102aaf0a0
Author: Neil Fuller <nfuller@google.com>
Date:   Mon Sep 7 12:56:24 2015 +0100

    Throw UnknownHostException not IllegalArgumentException for bad host chars
    
    Before this change HttpURLConnection would parse the bad ASCII
    characters like \u0001, but fail when setting them in the host
    header.
    
    After this change HttpURLConnection throws UnknownHostException.
    Earlier versions of OkHttp would escape the bad characters, but
    this behavior has not been retained.
    
    Fix for issue #1833.
    
    This change involves a behavior change for HttpUrl, and consequently
    HttpURLConnectionImpl.

commit 12550d954a1fb3f97c23b1c95bd43a469cc72d93
Merge: 3d6989f 9b6cdf3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Sep 13 15:41:21 2015 -0400

    Merge pull request #1849 from felipecsl/felipe/scheme-digits
    
    Consider digits in HttpUrl scheme as valid

commit 9b6cdf311a017dc6b6977cdd7a39da7a5680f213
Author: Felipe Lima <felipe.lima@gmail.com>
Date:   Sun Sep 13 10:52:47 2015 -0700

    Consider digits in HttpUrl scheme as valid

commit 347b37cbcfc6d9245d10fa635f3d42ed0779e5be
Author: Yuri Schimke <yschimke@twitter.com>
Date:   Fri Sep 11 17:43:33 2015 -0700

    fix tests

commit 8668b2ba3b9dfa65bdd94d5038fac3c56bdc7c79
Author: Yuri Schimke <yschimke@twitter.com>
Date:   Fri Sep 11 09:51:58 2015 -0700

    use application/x-www-form-urlencoded in okcurl

commit 3d6989f367126a396f6e9b4657bfc7b1f55989e9
Merge: f4b96d4 597c279
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Sep 9 11:26:23 2015 -0400

    Merge pull request #1845 from iagreen/query-param-encoding
    
    Fix encoding set for query parameters

commit 597c279dfe51daf30457da85cc033feb34325286
Author: Isaac Green <isaac@wink.com>
Date:   Wed Sep 9 08:47:09 2015 -0400

    only encode URI problem chars when actually converting to URI

commit 651c06fa9f65963cdfd9f59da905f2171fb37f42
Author: Isaac Green <isaac@wink.com>
Date:   Wed Sep 9 01:47:22 2015 -0400

    Fix encoding set for query parameters

commit f4b96d498a5f0c9c5903894e5f52c726beff06d5
Merge: 5dbcee9 92e64f0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 7 20:09:47 2015 -0400

    Merge pull request #1793 from nfuller/FixInterruption
    
    Partially revert connection timeout behavior

commit 5dbcee9258ea31933865783802d1ee271404e75d
Merge: 5b60dbc 765a965
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 7 20:09:09 2015 -0400

    Merge pull request #1835 from nfuller/RefactorDelegates
    
    Test code refactoring

commit 765a9659afab41bb61731390f3abd10d3e2d8711
Author: Neil Fuller <nfuller@google.com>
Date:   Thu Aug 6 17:23:12 2015 +0100

    Test code refactoring
    
    Modify the various Delegating*SocketFactory implementations
    to return a *Socket from configureSocket() rather than assume
    configuration just modifies the object supplied. Improves
    flexibility and reduces the need to override multiple methods
    in some places.

commit 92e64f0279f1ce10ddd280fe048a92f6a959203d
Author: Neil Fuller <nfuller@google.com>
Date:   Thu Aug 6 17:23:12 2015 +0100

    Partially revert connection timeout behavior
    
    Related to issue #1790.
    
    If there is a *connection* timeout the next route should
    be tried. Timeouts during a request/response should
    probably not be retried.
    
    The timeout/interrupt behavior was changed in PR #1257
    for issue #1146. This modified both connection and
    request/response behavior. The issue reported was actually
    about the use of Thread.interrupt(), not timeouts, but the
    behavior change modified both behavior for interrupt and
    timeout.
    
    PR #1388 split the handling of exceptions so that separate
    code now handles connection errors from that which handles
    request/response errors. It faithfully kept the behavior
    from PR #1257.
    
    The modification of the timeout behavior during *connection*
    caused problems on Android. Now that the two types of error
    handling are split it's possible to deal with them
    differently and return the connection behavior to trying
    the next route. This does not modify behavior during
    request/response.

commit 5b60dbc06fc17d7198858b88c21c1bc720bac9e3
Merge: e3b52db 61fbdb0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Sep 2 12:54:04 2015 -0400

    Merge pull request #1834 from snodnipper/master
    
    minor documentation update

commit 61fbdb04d49e2faac57d094eca9ab0ff40bba08f
Author: Ollie Snowden <oliversnowden@snodnipper.co.uk>
Date:   Wed Sep 2 17:04:09 2015 +0100

    minor documentation update
    
    remove reference to deprecated method

commit e3b52db778357e61e2b3e3f12c7a586fd9951419
Merge: bf09b3d 1733adf
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Aug 29 08:09:28 2015 -0400

    Merge pull request #1829 from mgp/patch-2
    
    Change ambiguous wording for timeouts

commit 1733adf99ffc8081554d8aae91e04ff772dda386
Author: Michael Parker <michael.g.parker@gmail.com>
Date:   Fri Aug 28 23:31:14 2015 -0700

    Change ambiguous wording for timeouts
    
    The previous wording made it sound like any connection that was ongoing
    for more than 10 seconds (e.g. a download of a large file) would be
    disconnected.

commit bf09b3dca126178397e6bf04f85bfbd07806ae1b
Merge: 7b77467 067aa1f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Aug 28 21:53:07 2015 -0400

    Merge pull request #1828 from nfuller/FixUnknownHostException
    
    Throw UnknownHostException again from HttpURLConnection

commit 067aa1f4495f9c93bafca183a6d655fa81b139d6
Author: Neil Fuller <nfuller@google.com>
Date:   Fri Aug 28 17:37:35 2015 +0100

    Throw UnknownHostException again from HttpURLConnection
    
    This is to address issue #1827.

commit 7b77467ab76d4d1abac141b011e6994c967d7c49
Merge: aacd028 1529e68
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Aug 26 12:16:57 2015 -0400

    Merge pull request #1821 from raskasa/master
    
    Fix minor grammatical error in Javadoc for Cache.initialize().

commit 1529e68b8725bafca0c4578d304d4228a045a845
Author: Ras Kasa Williams <raskasa@users.noreply.github.com>
Date:   Wed Aug 26 10:29:54 2015 -0400

    Fix minor grammatical error in Javadoc for Cache.initialize().

commit aacd0289386a4cd0599d3e63ccc7e0cadadf909c
Author: jwilson <jwilson@squareup.com>
Date:   Tue Aug 25 23:00:20 2015 -0400

    Even more changelog for 2.5.0.

commit 22c6eb7ecb4a3e6115f70f5f3c1c5c4e0d49b9ab
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Aug 25 21:21:40 2015 -0400

    2.5.0 is latest.

commit 8efaead13ddd57896733d8df03c3b326aa50440a
Author: jwilson <jwilson@squareup.com>
Date:   Tue Aug 25 21:11:25 2015 -0400

    [maven-release-plugin] prepare for next development iteration

commit f36bed41a87296d8cd641b5c0602fcb860fe7043
Author: jwilson <jwilson@squareup.com>
Date:   Tue Aug 25 21:11:22 2015 -0400

    [maven-release-plugin] prepare release parent-2.5.0

commit 878fe21642b506c7a842a775b160705ebfc03957
Merge: 035e3e5 78d3d8e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Aug 25 21:04:34 2015 -0400

    Merge pull request #1819 from square/jwilson_0825_okio_bump
    
    Require Okio 1.6.0.

commit 035e3e512afa8d61d61ff4d31a56a896e4235d0b
Author: jwilson <jwilson@squareup.com>
Date:   Tue Aug 25 20:56:23 2015 -0400

    Update changelog for 2.5.0.

commit 78d3d8e69304f8c39bc39bed577f64bc852cf5b2
Author: jwilson <jwilson@squareup.com>
Date:   Tue Aug 25 20:55:20 2015 -0400

    Require Okio 1.6.0.

commit 3435a805d0ca387c5f94852fde2fce8616216add
Merge: e364ccf ebaaf10
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Aug 25 20:13:47 2015 -0400

    Merge pull request #1817 from square/jwilson_0824_ebadf
    
    Recover from Android 4.2.2 EBADF crashes.

commit ebaaf10ec1f861b2d4b455e01d3118568f4c6f51
Author: jwilson <jwilson@squareup.com>
Date:   Mon Aug 24 22:43:38 2015 -0400

    Recover from Android 4.2.2 EBADF crashes.
    
    Originally submitted by @pguilbot.
    
    See also https://github.com/square/okhttp/issues/1684

commit e364ccf27c5ac08b52760c57d24ae9e7a71e7356
Merge: ff60df8 dd8437b
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Aug 10 00:25:25 2015 -0400

    Merge pull request #1799 from square/jwilson_0810_ise
    
    Don't throw IllegalStateException after an IOException.

commit dd8437b0a9daa2b8384c35be72459527b8134b62
Author: jwilson <jwilson@squareup.com>
Date:   Mon Aug 10 00:08:29 2015 -0400

    Don't throw IllegalStateException after an IOException.
    
    We were a little too aggressive in checking our preconditions. If a previous
    write failed, we don't want the following write to crash. (It'll throw an
    IOException anyway.)

commit ff60df839b488b84f4505a0ab4e1db5e03efd707
Merge: 79b0a7c 5bdcda6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Aug 7 16:02:41 2015 -0400

    Merge pull request #1789 from MichaelEvans/changing_scheme_fixes_default_ports
    
    Changing the scheme will update the default port

commit 5bdcda66975bbaf04562b37ab5205cd741781ae2
Author: Michael Evans <michaelcevans10@gmail.com>
Date:   Wed Aug 5 01:42:28 2015 -0400

    Changing the scheme will update the default port

commit 79b0a7cb91db1a89bfb7e593632d8130be22742b
Merge: e19b791 f698a38
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Aug 6 17:47:06 2015 -0400

    Merge pull request #1794 from airbnb/airbnb/cancel-npe
    
    Fixes #1787

commit f698a38d42ade177c7a15218edc51762003836f7
Author: Felipe Lima <felipe.lima@gmail.com>
Date:   Thu Aug 6 13:59:34 2015 -0700

    Fixes #1787

commit e19b7913eb0ec73a24872c0abce85896728a9648
Merge: bf69c55 0e7524d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Aug 3 01:32:13 2015 -0400

    Merge pull request #1786 from square/jwilson_0803_default_user_agent
    
    Make sure the default user agent is ASCII.

commit 0e7524da21b756d34e20fc80ef974f66a06fd12b
Author: jwilson <jwilson@squareup.com>
Date:   Mon Aug 3 01:12:46 2015 -0400

    Make sure the default user agent is ASCII.
    
    See https://github.com/square/okhttp/issues/891

commit bf69c55eb4c1c0c93d1477a31dfb2c45359fba87
Merge: 7cf6363 a57aa43
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Aug 3 01:23:06 2015 -0400

    Merge pull request #1785 from square/jwilson_0803_strict_headers
    
    Be strict on invalid characters in request headers.

commit a57aa43c57819e06fede3f89a653eb6f059449a8
Author: jwilson <jwilson@squareup.com>
Date:   Mon Aug 3 00:43:20 2015 -0400

    Be strict on invalid characters in request headers.
    
    This includes potential security problems (newline characters) as well as
    simple non-ASCII characters including international characters and emoji.
    
    Closes https://github.com/square/okhttp/issues/891

commit 7cf6363662c7793c7694c8da0641be0508e04241
Merge: a52c510 4c90a2e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Aug 2 21:41:59 2015 -0400

    Merge pull request #1784 from square/jwilson_0802_use_httpurl_internally
    
    Use HttpUrl internally.

commit 4c90a2e04a83646597a506a80b5a885d5c515bf0
Author: jwilson <jwilson@squareup.com>
Date:   Sun Aug 2 13:24:09 2015 -0700

    Use HttpUrl internally.

commit a52c510810f896fcafa78033b29148b49c7db7ca
Merge: eb4a0f6 b42e73f
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Aug 2 01:12:07 2015 -0400

    Merge pull request #1782 from square/jwilson_0801_fix_cancel
    
    Make call canceling more reliable.

commit eb4a0f65e55f70c3c4296fa159a9569ef0429aad
Merge: 1e5f3a9 a8949b1
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Aug 2 00:13:58 2015 -0400

    Merge pull request #1783 from square/jwilson_0801_ipv6_to_string
    
    IPv6 canonical string.

commit a8949b129df558bc90672606bcbcd3cf6d9d4912
Author: jwilson <jwilson@squareup.com>
Date:   Sat Aug 1 21:04:54 2015 -0700

    IPv6 canonical string.
    
    Closes https://github.com/square/okhttp/issues/1636

commit b42e73f497eafe147667117202267ec756adff26
Author: jwilson <jwilson@squareup.com>
Date:   Sat Aug 1 16:54:13 2015 -0700

    Make call canceling more reliable.
    
    We had a bug where the socket-being-connected wasn't being closed when the
    application used Call.cancel(). The problem is that the SocketConnector model
    assumes the Connection doesn't want a Socket instance until it's fully
    connected.
    
    This moves the SocketConnector code back into Connection, removes a lot of
    nested try/catch blocks, and assigns a Socket instance as soon as its created.
    
    This also likely fixes some bugs where sockets weren't being closed when
    an IOException or RouteException was thrown during connection. Now we always
    close at the top level of connect() unless the connection is successful.
    
    https://github.com/square/okhttp/issues/1779

commit 1e5f3a967977db513585ed8f350a65ab3175e9ce
Merge: ad4b328 a560f72
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Aug 1 15:13:10 2015 -0400

    Merge pull request #1781 from square/jwilson_0801_cache_filesystem
    
    Expose internal APIs for pluggable file systems.

commit a560f721937f7f7299167a4d1c3f3ca87998635b
Author: jwilson <jwilson@squareup.com>
Date:   Sat Aug 1 11:43:51 2015 -0700

    Expose internal APIs for pluggable file systems.
    
    We aren't yet ready to make FileSystem a public type, but I don't mind
    making it _almost_ available via an internal API for those brave enough
    to try that.
    
    Also migrate all of our tests to use the in memory file system. It's simpler.
    
    https://github.com/square/okhttp/issues/1459

commit ad4b32868b4ff3e6ba7c9982cec4358037041b35
Merge: 291870e 8f5e344
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jul 24 11:40:59 2015 -0700

    Merge pull request #1765 from square/jw/make-mws-rule-just-a-mws-instance
    
    Fold MockWebServerRule into MockWebServer.

commit 8f5e344aba7b734efa61977651838a88d288a187
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jul 24 12:08:21 2015 -0400

    Fold MockWebServerRule into MockWebServer.
    
    This avoid needing to duplicate the methods on the rule which historically was a subset of everything.
    
    JUnit is now a required dependency.

commit 291870e5a2c1dfd7c2ce9dbe64735ad715e79af5
Merge: 58fc2bc 6e6c3e9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jul 22 00:53:38 2015 -0700

    Merge pull request #1760 from halizton/make_cache_init_public
    
    make the DiskLruCache's initialize() public through the Cache interface

commit 6e6c3e939c9203ad29daa554aa92807eccc7ce7b
Author: Lin Wang <linwang@pinterest.com>
Date:   Wed Jul 22 00:27:09 2015 -0700

    Squashed commit of the following:
    
    make the DiskLruCache's initialize() public through the Cache interface
    
    The DiskLruCache’s cache does lazy initialization. The time spent in
    initialization varies depending on the actual cache size and journal
    file size.
    
    On very low end device, the initialization time could be as long as
    1000 ms once the cache reaches 100M for example on a 4.0 device. This
    has significant performance impact on the very 1st cache hit.
    
    So the proposed solution is to give the developer an opportunity to
    explicitly do the initialization early on and in a back ground thread.
    Without this change, the developer would have to call any method from
    the Cache class to warm up the cache implicitly.

commit 58fc2bc9ceb8891e0cf4a11d522f8afad5908a48
Merge: 64505fd eeec4b8
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jul 21 22:46:59 2015 -0700

    Merge pull request #1759 from square/jw/reuse-behavior-from-core
    
    Use the same logic for permitting request body as client.

commit 64505fd32561616aa4cd8b3206b5d6832871fe07
Merge: e52e2b0 dda7ce4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jul 21 22:46:18 2015 -0700

    Merge pull request #1758 from square/jw/only-disconnect-responses
    
    Only disconnect response transfers with disconnect policy.

commit eeec4b8db83014a64aba85a13af2ad8b1eb954a7
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Jul 21 12:19:29 2015 -0400

    Use the same logic for permitting request body as client.

commit dda7ce465d2e04ed5becf6b67e0d56d7336525ac
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Jul 21 11:52:38 2015 -0400

    Only disconnect response transfers with disconnect policy.

commit e52e2b07dacccd704b3b0dd68e240f545a23d8fb
Merge: 70657bc 5243616
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon Jun 29 18:03:46 2015 -0400

    Merge pull request #1737 from mgp/patch-1
    
    Use method start instead of play in example

commit 524361641cb80d8aec1687066272e910aaef3f17
Author: Michael Parker <michael.g.parker@gmail.com>
Date:   Mon Jun 29 14:13:27 2015 -0700

    Use method start instead of play in example
    
    Method play is deprecated in favor of start.

commit 70657bc5b989ab04240c92397e5afd0dfc52cf4c
Merge: d68430b c8c790a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 27 10:06:12 2015 -0400

    Merge pull request #1731 from raskasa/master
    
    Fix small typos in the ChangeLog

commit c8c790a6c8862778cbf8f140b19944732316f0e7
Author: raskasa <raskasa@mac>
Date:   Fri Jun 26 21:49:09 2015 -0400

    fix small types in the changelog

commit d68430b8dd5d1d6f564868b35d585a2a80da326b
Merge: f0df400 7d59c08
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jun 22 18:50:41 2015 -0400

    Merge pull request #1723 from square/jw/bump-okio
    
    Bump Okio to 1.5.0.

commit 7d59c083c1c03f7843683d9ba05508ff853b9fc7
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Jun 22 10:32:11 2015 -0400

    Bump Okio to 1.5.0.

commit f0df400273674d4056480381741950da2c849266
Merge: 832038b 0de14e9
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Jun 21 20:55:40 2015 -0400

    Merge pull request #1720 from square/jwilson_0621_sane_timeouts
    
    Set default timeouts to ten seconds.

commit 0de14e992c228fd9de9fe78417788131bee00902
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 21 18:00:20 2015 -0400

    Set default timeouts to ten seconds.
    
    Closes https://github.com/square/okhttp/issues/1719

commit 832038bdc25e38c7e9cfebff1bc81488fd819056
Merge: 77fb83f b28127c
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Jun 21 12:22:28 2015 -0400

    Merge pull request #1718 from square/jwilson_0621_chunks
    
    More tests on truncated response bodies.

commit b28127c8a4883e774d69b08ebf2c203721644a15
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 21 11:35:29 2015 -0400

    More tests on truncated response bodies.
    
    Change the exception on a truncated chunked body.

commit 77fb83fc9f8703c484b10e7ede605983d327a06b
Merge: cd3a9c3 282b418
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jun 21 11:36:15 2015 -0400

    Merge pull request #1716 from square/jw/kill-halfway
    
    Add socket policy to disconnect mid-response.

commit cd3a9c3a7d4a5047c0caef68a1b7bf2cba960666
Merge: 062435c 4c50994
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jun 21 11:17:19 2015 -0400

    Merge pull request #1715 from square/jw/mws-http-url
    
    Add HttpUrl methods to MWS and update non-HUC usages.

commit 4c509940292139e9dd8c8bbf447d523d140fe0b1
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jun 21 03:13:35 2015 -0400

    Add HttpUrl methods to MWS and update non-HUC usages.

commit 282b4184f719efa6fba0b0bb15ca90352ab687d5
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jun 21 03:37:47 2015 -0400

    Add socket policy to disconnect mid-response.

commit 062435c45f56c795fd2d731b082c3784b014a38d
Merge: cf4b019 33c5211
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Jun 20 23:15:59 2015 -0400

    Merge pull request #1714 from square/jwilson_0620_form_encoding
    
    Fix FormEncodingBuilder to be consistent with browsers.

commit 33c52112cd015c1b1a8ba689e3144faf286066b7
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 20 20:07:34 2015 -0400

    Fix FormEncodingBuilder to be consistent with browsers.
    
    Right now we're using the same encode set as the URL query; that's a mistake.

commit cf4b0192adeadc7d867a69156e25d2c86ca789e7
Merge: 037deb8 3bee7ac
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Jun 20 11:33:53 2015 -0400

    Merge pull request #1713 from square/jwilson_0620_test_1712
    
    Test that conditional misses update the cache.

commit 3bee7aca20ddde7137c874ab918d2dc603d3026e
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 20 10:49:38 2015 -0400

    Test that conditional misses update the cache.
    
    Closes https://github.com/square/okhttp/issues/1712

commit 037deb8844e9a1f24a541b99a9bd2122690b9524
Merge: b262f2a c753d2e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jun 18 11:56:27 2015 -0400

    Merge pull request #1708 from square/jw/framed
    
    Rename 'spdy' references to 'framed' where appropriate.

commit c753d2e41ba667f9b5a31451a16ecbaecdc65d80
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Jun 17 18:37:11 2015 -0400

    Rename 'spdy' references to 'framed' where appropriate.

commit b262f2a03001cd990568b929b2739dd3c7adb75f
Merge: 65b703f c16d7cc
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jun 16 12:46:32 2015 -0400

    Merge pull request #1705 from Wopple/master-wopple
    
    Relaxed FormEncodingBuilder to allow building empty forms.

commit c16d7cca93797a4eadbbf7892f0a15784e20bd88
Author: Daniel Tashjian <thewopple@gmail.com>
Date:   Tue Jun 16 11:19:54 2015 -0400

    Relaxed FormEncodingBuilder to allow building empty forms.

commit 65b703f9a6f3a316e88791b6d7792300164352a8
Merge: 97262e5 5af1d7f
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jun 12 10:40:25 2015 -0400

    Merge branch 'nfuller-Issue1676't push origin master
    
    * nfuller-Issue1676:
      Modify timeout exception / update test expectations

commit 5af1d7f449509597f16bebbf0ef6c68d7c924398
Author: Neil Fuller <nfuller@google.com>
Date:   Wed May 27 10:50:24 2015 +0100

    Modify timeout exception / update test expectations
    
    Related to issue #1676.
    Depends on https://github.com/square/okio/pull/154
    
    URLConnection should throw SocketTimeoutException for timeouts
    not InterruptedIOException.

commit 97262e523d16ea2ee9060c25d720cab593bf5641
Merge: 8072cc8 bd3e10d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jun 4 21:27:50 2015 -0400

    Merge pull request #1687 from peknudsen/CallConstructorPrivateToProtected
    
    Revert Call to a protected class instead of package-private

commit bd3e10df08d508484713ad9000ebdf5ec8c9de3b
Author: Paul Knudsen <pknudsen@newrelic.com>
Date:   Thu Jun 4 12:58:07 2015 -0700

    Revert Call to a protected class instead of private

commit 8072cc86f44192570f85db08d53344eec16c3c8b
Merge: bc2aad3 0ac2471
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon May 25 16:13:13 2015 -0700

    Merge pull request #1674 from square/jwilson_0525_url_doc_bugs
    
    Better docs on new URL exceptions.

commit 0ac2471d0678dfa9d535fbb13a546134dc2b3089
Author: jwilson <jwilson@squareup.com>
Date:   Mon May 25 15:03:05 2015 -0700

    Better docs on new URL exceptions.
    
    Closes https://github.com/square/okhttp/issues/1673

commit bc2aad3b84ddf35c07905a07521958f24b80f2a0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 25 06:14:53 2015 -0700

    Update README.md

commit d6be7545e6237218b07649b80d6c80de89b61e6a
Author: jwilson <jwilson@squareup.com>
Date:   Fri May 22 19:47:49 2015 -0400

    [maven-release-plugin] prepare for next development iteration

commit 7298bee253df7a9b8bf3cf4438aa077a28502c01
Author: jwilson <jwilson@squareup.com>
Date:   Fri May 22 19:47:47 2015 -0400

    [maven-release-plugin] prepare release parent-2.4.0

commit 1a95e1695ee89ec606a0632c406e4f2637530cab
Author: jwilson <jwilson@squareup.com>
Date:   Fri May 22 19:36:55 2015 -0400

    Update changelog for 2.4.0.

commit 209560822c07e795b091cda44007f60edcaee0b1
Merge: f1d137e 0b9bef7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 22 18:02:59 2015 -0400

    Merge pull request #1665 from square/jw/no-body-for-you
    
    Forbid response bodies on HTTP 204 and 205 responses.

commit f1d137e026b217fefb099abb32db5188c09d2afa
Merge: ce09d95 2cde676
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Fri May 22 17:32:00 2015 -0400

    Merge pull request #1669 from square/jw/unblock
    
    Call onOpen on the reader thread and force writing on another thread.

commit 2cde6765c660fb44a2601062e2286bccecee2ada
Author: Jake Wharton <jw@squareup.com>
Date:   Thu May 21 23:50:07 2015 -0400

    Call onOpen on the reader thread and force writing on another thread.

commit ce09d95757a023e4e6fb72e6ee25818574c8c647
Merge: aac8462 8e25853
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu May 21 11:36:16 2015 -0400

    Merge pull request #1668 from square/jw/ws-response
    
    Add optional Response to WS failure callback.

commit 8e2585375589d054783f74414af286fb32212efa
Author: Jake Wharton <jw@squareup.com>
Date:   Thu May 21 00:53:49 2015 -0400

    Add optional Response to WS failure callback.
    
    This also removes the explicit Request from WS open callback. It can be accessed by calling 'request()' on the supplied Response.

commit 0b9bef71b1531b7cdbdc5a065b286b654792c248
Author: Jake Wharton <jw@squareup.com>
Date:   Wed May 20 00:31:19 2015 -0400

    Forbid response bodies on HTTP 204 and 205 responses.

commit aac8462fb28d4cb051eaca10d65bc9febf3e2474
Merge: 0d8cef3 805076f
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon May 18 20:48:06 2015 -0400

    Merge pull request #1663 from square/jwilson_0518_wss_urls
    
    Accept ws: URLs in Request.Builder.

commit 805076f68a63858da8d8dfac2ec0e203636272f0
Author: jwilson <jwilson@squareup.com>
Date:   Mon May 18 20:31:23 2015 -0400

    Accept ws: URLs in Request.Builder.
    
    I contemplated supporting them in HttpUrl, but then realized I'd
    either need to document that behavior (which is weird behavior)
    or return ws from the scheme (which seems arbitrary.)
    
    Doing it in Request seems less bad: we support websockets requests.

commit 0d8cef388b4ed6df945199fb62e948fe9d9161e4
Merge: 1276752 7f6df40
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 18 20:33:25 2015 -0400

    Merge pull request #1662 from square/jwilson_0518_pong
    
    Fix flaky test Spdy3ConnectionTest.receiveGoAway().

commit 7f6df401808d904d7065b4e83c8c4c4399079d8a
Author: jwilson <jwilson@squareup.com>
Date:   Mon May 18 19:55:48 2015 -0400

    Fix flaky test Spdy3ConnectionTest.receiveGoAway().
    
    Closes https://github.com/square/okhttp/issues/1660

commit 1276752a055d3e0cb34e71545c105252cefc1448
Merge: 70912ad 8fe27a5
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun May 17 20:18:33 2015 -0400

    Merge pull request #1659 from square/jwilson_0517_crash_on_runtime_exception
    
    Crash on unexpected RuntimeExceptions.

commit 8fe27a50c2c88d382e6dc6600836bcc57fc7b0cf
Author: jwilson <jwilson@squareup.com>
Date:   Sun May 17 18:05:37 2015 -0400

    Crash on unexpected RuntimeExceptions.
    
    Currently we're sweeping these under the rug.

commit 70912ada61b9a272df737a691584ba31a6330ae6
Merge: 3057988 d2d8288
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 17 17:54:36 2015 -0400

    Merge pull request #1658 from square/jwilson_0517_mockspdypeer_close_race
    
    Fix a race closing MockSpdyPeer.

commit d2d8288bb0aded0a0a6fae9e38818744378fbe45
Author: jwilson <jwilson@squareup.com>
Date:   Sun May 17 17:36:10 2015 -0400

    Fix a race closing MockSpdyPeer.
    
    It would have crashed if close() was called before readAndWriteFrames() started.
    That's fixed now.

commit 30579882a865af6b12f9028f34428eefe6d1204b
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 16 21:36:52 2015 -0400

    Small Javadoc fixes.

commit 646c3d5b2192282a0bbbcdfaca2ff88f1918900d
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 16 18:49:46 2015 -0400

    Updated changelog for 2.4.0-RC1.

commit a96c439a9114ba2ea6086bd49c22587da3674c58
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 16 17:03:20 2015 -0400

    [maven-release-plugin] prepare for next development iteration

commit 5cc7dba3ad1597f5ca7f5380a4845d0385fa497f
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 16 17:03:16 2015 -0400

    [maven-release-plugin] prepare release parent-2.4.0-RC1

commit a5e4b2fcaf91ad46054d0bfb2f87ac850560146d
Merge: 0a64a94 4df674f
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat May 16 15:01:48 2015 -0400

    Merge pull request #1654 from square/jwilson_0516_dont_share_timeouts
    
    Don't share timeouts between pooled connections.

commit 4df674f8c5e2c07d881b4f2780922c7d15940814
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 16 10:35:59 2015 -0400

    Don't share timeouts between pooled connections.
    
    This was causing crashes.
    
    Closes https://github.com/square/okio/issues/133

commit 0a64a94749bf0ee533e2262a3e2d09286ff439b1
Merge: 413f53e 26401d8
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat May 16 14:48:23 2015 -0400

    Merge pull request #1655 from square/jwilson_0516_okio_14
    
    Use Okio 1.4.0 final.

commit 26401d816215e1050b8c1cc070ddc7f6210df523
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 16 14:30:03 2015 -0400

    Use Okio 1.4.0 final.

commit 413f53e19536f7fb568389d63343da79b1a630ca
Merge: e0f8b90 3103cb1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 15 21:19:36 2015 -0400

    Merge pull request #1650 from square/jwilson_0514_add_encoded
    
    New FormEncodingBuilder.addEncoded() API.

commit 3103cb1dbc515dbdfd60996d97a0edd35462485a
Author: jwilson <jwilson@squareup.com>
Date:   Thu May 14 22:53:01 2015 -0400

    New FormEncodingBuilder.addEncoded() API.
    
    This is a behavior change: previously we'd encode '+' as plus
    and encode characters that don't need it, including ','. Now
    we use the same rules as HttpUrl.

commit e0f8b9087ab686fed6715efa2203df7ad796c751
Merge: 343227e 65a64c5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu May 14 22:53:46 2015 -0400

    Merge pull request #1649 from square/jwilson_0514_set_path_segment
    
    APIs to set and remove path segments.

commit 65a64c54072ea9a169098ff087cccfe726de03d5
Author: jwilson <jwilson@squareup.com>
Date:   Thu May 14 20:22:21 2015 -0400

    APIs to set and remove path segments.

commit 343227ee4b89db48a184e39ec738e16e6c9c7bf8
Merge: c08da4a cc82a31
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Thu May 14 18:45:37 2015 -0400

    Merge pull request #1648 from square/jwilson_0514_encoded_form
    
    Store the decoded components in HttpURL, and encoded in HttpUrl.Builder.

commit cc82a311d55e09cb44c61f989294cf8fb3547a72
Author: jwilson <jwilson@squareup.com>
Date:   Thu May 14 17:17:52 2015 -0400

    Store the decoded components in HttpURL, and encoded in HttpUrl.Builder.
    
    I may follow up by computing both on-demand.

commit c08da4aa82314e781eeec6354cb0802b39973460
Merge: a436add ebbe554
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed May 13 00:05:11 2015 -0400

    Merge pull request #1634 from square/jwilson_0512_encoding
    
    Javadoc HttpUrl encoding.

commit ebbe554e356d6bf2c61cfa8ba73c6779ef59fb00
Author: jwilson <jwilson@squareup.com>
Date:   Tue May 12 23:49:55 2015 -0400

    Javadoc HttpUrl encoding.
    
    Closes https://github.com/square/okhttp/issues/1486

commit a436addd7080edf80a3d34ec6c7a796cd61b31a0
Merge: 3025bba 994b8a3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue May 12 22:18:56 2015 -0400

    Merge pull request #1633 from square/jwilson_0512_compose_whitespace
    
    Encode whitespace as a component.

commit 994b8a387eda5b674392306e0c7ce8477b145181
Author: jwilson <jwilson@squareup.com>
Date:   Tue May 12 20:32:44 2015 -0400

    Encode whitespace as a component.

commit 3025bbaf926a6b95df26fcbb1d97df589141dd68
Merge: db7d647 2b236fd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue May 12 13:58:48 2015 -0400

    Merge pull request #1631 from square/jwilson_0512_use_httpurl
    
    Use HttpUrl in Request.

commit 2b236fd66abbfffeb1c07a22dde5dcb8d3a2032c
Author: jwilson <jwilson@squareup.com>
Date:   Tue May 12 09:07:18 2015 -0400

    Use HttpUrl in Request.

commit db7d6477eefb51b458c3abe13546fe0f1f035a20
Merge: 8161318 c449826
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Tue May 12 10:19:00 2015 -0400

    Merge pull request #1630 from square/jwilson_0512_query_plus
    
    Always encode space as %20.

commit c4498267504fef9d5c27a6442d8263b47372c50d
Author: jwilson <jwilson@squareup.com>
Date:   Tue May 12 08:38:20 2015 -0400

    Always encode space as %20.
    
    In queries this means transcoding '+' to '%2B' also.

commit 8161318f2f8e3defaa7a41771a4ef6e9e4017221
Merge: 5a9c9a1 5df4674
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon May 11 21:58:36 2015 -0400

    Merge pull request #1629 from square/jwilson_0511_rename_apis
    
    Rename username to encodedUsername and decodeUsername to username

commit 5df46746c1640125fea7e38c29481babeba63743
Author: jwilson <jwilson@squareup.com>
Date:   Mon May 11 21:40:59 2015 -0400

    Rename username() to encodedUsername() and decodeUsername() to username().
    
    Basically the decoded form now gets the shorter name.

commit 5a9c9a1687d6469092d86b776ecacb74964319e0
Merge: 039614b 53ebedf
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 11 21:23:03 2015 -0400

    Merge pull request #1625 from square/jwilson_0511_query_parameters
    
    Implement query parameter management.

commit 53ebedf932b71bed7b05220e31b24388301168a4
Author: jwilson <jwilson@squareup.com>
Date:   Sun May 10 17:54:32 2015 -0400

    Implement query parameter management.
    
    The tricky part of this is '+' and ' ' management.

commit 039614b11c0247d5a035a2f429a8a800e6bb6f11
Merge: a44194d 1109477
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 11 20:56:36 2015 -0400

    Merge pull request #1624 from square/jwilson_0510_java_dot_net
    
    Compare and contrast with java.net.URL, java.net.URI.

commit 1109477958858846c091c8a449511ee6ac1def5a
Author: jwilson <jwilson@squareup.com>
Date:   Mon May 11 01:27:56 2015 -0400

    Compare and contrast with java.net.URL, java.net.URI.
    
    Also offer adapter methods back and forth.

commit a44194de5359d243e1ced4a9f742c5853567d1f6
Merge: 951c649 b4e78ab
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon May 11 15:45:43 2015 -0400

    Merge pull request #1618 from square/jwilson_0509_ipv6_parsing
    
    Do IPv6 parsing natively.

commit 951c6495bc7eb13921fb5934bd3943c0fd6e03bf
Merge: f4c1047 651cdc8
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon May 11 13:57:33 2015 -0400

    Merge pull request #1627 from alokmenghrajani/alok/bugbounty
    
    Includes this repo in our open source bug bounty program.

commit 651cdc83204deeeb60493146461d1997f8dc9186
Author: Alok Menghrajani <alok@squareup.com>
Date:   Mon May 11 10:38:02 2015 -0700

    Includes this repo in our open source bug bounty program.

commit f4c10476bf70ca08847ad7d1034e2e0b8b19eb5d
Merge: a638058 616aafc
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 11 08:52:48 2015 -0400

    Merge pull request #1626 from unguiculus/socketfactory_javadoc
    
    Enhance Javadocs on OkHttpClient.setSocketFactory

commit 616aafcd496569fbbb5d0be710d3b332e92bcf61
Author: Reinhard Naegele <reinhard.naegele@mgm-tp.com>
Date:   Mon May 11 11:12:41 2015 +0200

    Enhance Javadocs on OkHttpClient.setSocketFactory

commit a63805821eef610e7a2e8e979aab262483f599e8
Merge: a33f3d4 fada82c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 10 23:13:44 2015 -0400

    Merge pull request #1621 from square/jwilson_0510_decompose
    
    Use lists to model paths and queries.

commit fada82ca036bad8962f911d83fc325e6f48e363b
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 9 21:24:26 2015 -0400

    Use lists to model paths and queries.
    
    This is actually a little trickier than strings, partly because
    we now need code to go in both directions, and partly because
    paths that end with '/' are an important but awkward special
    case.
    
    The goal is that this will make accessing query parameters much
    easier.

commit a33f3d4e9b7b716888726a4df8c6a412426cc449
Merge: 3c27838 345600e
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun May 10 22:31:51 2015 -0400

    Merge pull request #1623 from square/jwilson_0510_components_docs
    
    Docs on URL components.

commit 345600e1a3d926fbe0d0de11cd156573999ae750
Author: jwilson <jwilson@squareup.com>
Date:   Sun May 10 21:16:52 2015 -0400

    Docs on URL components.

commit 3c27838cde4da2182c3538ced4fdfb210b3081b1
Merge: bc2b45b 9235529
Author: jwilson <jwilson@squareup.com>
Date:   Sun May 10 10:56:36 2015 -0400

    Merge branch 'nfukuzt push origin masteraki-allow_empty_body'
    
    * nfukuzaki-allow_empty_body:
      Allow an empty PUT and POST to keep compatibility

commit 9235529746e208713732f7eb4dbbebc8b169d5dc
Author: Noriyoshi Fukuzaki <noriyoshi.fukuzaki@kii.com>
Date:   Sun May 10 10:55:07 2015 -0400

    Allow an empty PUT and POST to keep compatibility
    
    commit d36da22271054ea84b5f6a5b182042a3476696bc
    Author: Noriyoshi Fukuzaki <noriyoshi.fukuzaki@kii.com>
    Date:   Fri May 1 13:14:39 2015 +0900
    
        reverted a code formatting
    
    commit 80c7e2da23cdc9be90ff208f609c5ba5f0a5a394
    Author: Noriyoshi Fukuzaki <noriyoshi.fukuzaki@kii.com>
    Date:   Sat Apr 25 21:22:43 2015 +0900
    
        added assertion code
    
    commit 198f55778241f20b0e3de2f4d56e8aea38c4c934
    Author: Noriyoshi Fukuzaki <noriyoshi.fukuzaki@kii.com>
    Date:   Fri Apr 24 16:38:47 2015 +0900
    
        Allow an empty PUT and POST to keep compatibility

commit bc2b45bc93cbe2f280ef3af5851e02b3d2d89e9f
Author: Hugo Gresse <hugo.gresse@gmail.com>
Date:   Sun May 10 10:52:00 2015 -0400

    Update MockWebServer README with gradle and fix code.
    
    commit 8b19e590642290938f42871ecedbc9b6a6cba679
    Author: Hugo Gresse <hugo.gresse@gmail.com>
    Date:   Wed Apr 29 09:11:58 2015 +0200
    
        Change MockWebServer readme start() to play()
    
    commit fb165671ca3a958d1dd2c8a431e20d9f3e0db6a7
    Author: Hugo Gresse <hugo.gresse@gmail.com>
    Date:   Mon Apr 27 21:33:54 2015 +0200
    
        Change MockWebServer readme to not imply endorsement of Gradle
    
    commit 9d7b044141970aba3a6c2384184938570ce8c728
    Author: Hugo Gresse <hugo.gresse@gmail.com>
    Date:   Mon Apr 27 17:22:45 2015 +0200
    
        Update MockWebServer README with gradle and fix code
    
        Add gradle as the recommanded download mode and remove unnecessary ")" for dispatcher example

commit 83f1c2ddfe7f2d4fc0b54740f9bc083fa8fec0d7
Merge: 087560e 9896c2f
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat May 9 22:22:08 2015 -0400

    Merge pull request #1619 from square/jwilson_0505_compose
    
    Compose URLs from parts.

commit 9896c2f10ba1e74bb2bccd9699b87e78b60c8991
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 9 13:15:52 2015 -0400

    Compose URLs from parts.

commit b4e78aba9a4584c49dc70008796dfe5b3c29d8a6
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 9 10:12:11 2015 -0400

    Do IPv6 parsing natively.
    
    Avoid any risk of doing DNS during HTTP URL parsing.

commit 087560ee25a3c0f61680539b74c842c902eebf1e
Merge: abbc724 68c41f1
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat May 9 00:31:46 2015 -0400

    Merge pull request #1617 from square/jwilson_0508_test_cleanup
    
    Cleanup some HttpUrl tests.

commit 68c41f169abafd409b95dfa36ca642c4972eb915
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 9 00:23:29 2015 -0400

    Cleanup some HttpUrl tests.
    
    We don't need to compare our results against major browsers anymore;
    we're passing more than they are.
    
    The list of failing tests is still too large, but should be easy to
    churn through.

commit abbc724a97f99bd9ac960b6e5ed704a0e6e9efca
Merge: ddcfbd7 16d7926
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 8 23:24:03 2015 -0400

    Merge pull request #1614 from square/jwilson_0508_ipv6
    
    Parse IPv6 addresses.

commit 16d7926ad4261e755b33cd2fb244933789d5d82d
Author: jwilson <jwilson@squareup.com>
Date:   Fri May 8 21:19:29 2015 -0400

    Parse IPv6 addresses.
    
    This leans on InetAddress to do the work. It's not perfect, but it's
    also not a lot of code. https://github.com/square/okhttp/issues/1613

commit ddcfbd78c7525e72b3b9889424ef8fcb2ec15b17
Merge: 78e45b3 28434ce
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed May 6 16:41:48 2015 -0400

    Merge pull request #1598 from artem-zinnatullin/certificate-pinner-wildcard-test
    
    Wildcard hostnames support for CertificatePinner

commit 28434ce17d1b0bfb7f398d047e825f0f76b6e403
Author: Artem Zinnatullin <artem.zinnatullin@gmail.com>
Date:   Fri May 1 19:47:25 2015 +0300

    Add wildcard hostnames support in CertificatePinner

commit 78e45b30180b183812a0ef38b12b719869880cd2
Merge: f9c833b cef0ee5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue May 5 23:35:28 2015 -0400

    Merge pull request #1607 from StephenBarlow/stephenbarlow/headers-tomultimap
    
    Add toMultimap() method to Headers class

commit cef0ee5dc3212325edc8bd14e9c67a109b7e7884
Author: Stephen Barlow <barlow@squareup.com>
Date:   Tue May 5 17:18:59 2015 -0700

    Add toMultimap() method to Headers class

commit f9c833b6b1ce08edd7d2bf76d65fcee1102c5c0d
Merge: b76b690 ce7b990
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue May 5 13:09:29 2015 -0400

    Merge pull request #1606 from nfuller/AddSuppressionFixes
    
    Follow up fixes for #1596

commit ce7b990ada62aa9fc5087629333ec1754f86d936
Author: Neil Fuller <nfuller@google.com>
Date:   Tue May 5 16:06:34 2015 +0100

    Follow up fixes for #1596
    
    Small test and doc fixes.

commit b76b6903ef05546c5aef249ea6b2b679bc43094b
Merge: 57ca6fc 71ead19
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue May 5 11:05:18 2015 -0400

    Merge pull request #1596 from nfuller/AddSuppression
    
    Keep track of failures during negotiation for debugging

commit 71ead1911be28c1cae1eef765abf23724b776981
Author: Neil Fuller <nfuller@google.com>
Date:   Fri May 1 14:10:41 2015 +0100

    Keep track of failures during negotiation for debugging

commit 57ca6fc26c9d29dc11f2606f27f3671631753c9b
Merge: 311c566 af67145
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Tue May 5 00:42:31 2015 -0400

    Merge pull request #1604 from square/jwilson_0505_closer_to_ipv6_and_idn
    
    Get closer to IDN and IPv6 parsing.

commit af671456b9d5566b49026ad2f067e5c4f3f0fe01
Author: jwilson <jwilson@squareup.com>
Date:   Tue May 5 00:31:29 2015 -0400

    Get closer to IDN and IPv6 parsing.
    
    Without actually implementing it.

commit 311c566c299f91453f99f1ec73a63ea6b5671aea
Merge: c925d3d 4a27e91
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon May 4 19:48:04 2015 -0400

    Merge pull request #1603 from square/jwilson_0504_decode
    
    Decode paths, usernames and passwords.

commit 4a27e9179f17ce91df3a6b8518578f82cf1c8c86
Author: jwilson <jwilson@squareup.com>
Date:   Mon May 4 18:46:27 2015 -0400

    Decode paths, usernames and passwords.
    
    A building block towards encoding hostnames.

commit c925d3db6d372dfef67c56478703a82ca6c21a63
Merge: 7ad0a8d 70cf626
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 4 14:58:37 2015 -0400

    Merge pull request #1602 from square/jwilson_0304_percent_encoding
    
    Implement percent encoding.

commit 70cf626bb5492e6f3ca67c22fdee0618e7fbf4a1
Author: jwilson <jwilson@squareup.com>
Date:   Mon May 4 00:58:31 2015 -0400

    Implement percent encoding.
    
    This works for all URL components except for host names. Those are
    subject to other types of encoding.

commit 7ad0a8dcb59b12fb4d1853200d518223f328d0b1
Merge: 6b06059 d3c57bd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 3 22:13:01 2015 -0400

    Merge pull request #1601 from square/jwilson_0503_httpurl
    
    HttpURL parsing.

commit d3c57bd4f38d5d3944da88266dd9b474a84d802b
Author: jwilson <jwilson@squareup.com>
Date:   Sun May 3 21:01:26 2015 -0400

    HttpURL parsing.
    
    This includes everything but character encoding. The implementation
    is built around one oversized method that runs top to bottom; I found
    this was easier to follow than the switch statement recommended by the
    URL standard.

commit 6b06059b273c4b5975feab66bc66ba645a119e83
Merge: c8bd6f8 d5184eb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 3 10:51:31 2015 -0400

    Merge pull request #1600 from square/jwilson_0502_web_platform_tests_ha
    
    Build a harness for web platform tests.

commit d5184eb9201af0744c8706ede05a6f03a37dfb5f
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 2 14:51:59 2015 -0400

    Build a harness for web platform tests.
    
    This imports results from a few major browsers so we don't waste time
    trying to pass tests that we shouldn't necessarily pass.

commit c8bd6f834d848c0a51245e263f81a7b2f6c7c11c
Merge: cf8dd66 4e08085
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 1 10:54:41 2015 -0400

    Merge pull request #1555 from nfuller/AggressiveUncaughtExceptionHandler
    
    Install an UncaughtExceptionHandler during tests

commit cf8dd66b10d5b84063b70686dff8980de888b6e6
Merge: e2b324d 1ac039d
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Thu Apr 30 23:25:11 2015 -0400

    Merge pull request #1595 from square/jwilson_0430_testing_httpurl
    
    Some initial URL test cases.

commit 1ac039d07d958e6c5c55caea0e13198bce5a10ae
Author: jwilson <jwilson@squareup.com>
Date:   Thu Apr 30 22:31:38 2015 -0400

    Some initial URL test cases.
    
    It turns out that even the spec that tries to describe how browsers actually
    work doesn't completely accomplish that. So I'm trying to reconcile differences
    between Firefox, Chrome and the WHATWG spec. In some cases I get three different
    behaviors.
    
    This adds tests for some interesting cases.

commit e2b324d631197832c104ea111c9a08cd59f1c63e
Merge: b43f442 b7baf23
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 30 12:19:58 2015 -0400

    Merge pull request #1590 from nfuller/AndroidResponseCacheIssues
    
    Fix for issue #1589: Vary caching on Android

commit b7baf23d86305762ea4e42adc4054c0840eca5ca
Author: Neil Fuller <nfuller@google.com>
Date:   Mon Apr 27 20:02:36 2015 +0100

    Fix for issue #1589: Vary caching on Android
    
    Keep the embedded OkHttp on Android working with Vary headers:
    
    Vary headers were broken with android.net.http.HttpResponseCache:
    the OkHttp caching requires a networkResponse to check the vary
    headers and it was not being provided, leading to a
    NullPointerException. Further changes were needed to actually
    retain the request headers needed for the vary check itself.
    
    Support for other stacks using the RequestCache has been
    dropped for requests that include Vary headers.
    
    To avoid regressions the existing ResponseCacheTest has been
    changed to use the real cache. Previously, the use of
    InMemoryResponseCache was hiding the Vary problem.
    
    The ResponseCacheTest is now run with an AndroidShimResponseCache
    to prove the tests work with real cases. The case without the shim
    is covered with the CacheTest. ResponseCacheTest has been updated
    to include many tests from CacheTest that were missing.
    
    Switching the test to a real cache revealed a problem in the
    JavaApiConverter and bad headers, which has been fixed by
    making Headers.Builder.addLenient(String, String) accessible.

commit b43f442c3dde4c2525b1627876d92ef937b62d9a
Merge: 0379e00 0df45c5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Apr 29 00:07:04 2015 -0400

    Merge pull request #1591 from artem-zinnatullin/certificate-pinner-javadoc-self-signed-certificates
    
    Add Javadoc about self-signed certificates

commit 0df45c5c4cc5909b898502d78e1e7fda5766fa69
Author: Artem Zinnatullin <artem.zinnatullin@gmail.com>
Date:   Tue Apr 28 21:34:37 2015 +0300

    Add Javadoc about self-signed certificates

commit 0379e00adf6733fde2a62855ded82fbccf4a1263
Merge: bf21cf5 2a39c0d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Apr 24 11:31:37 2015 -0400

    Merge pull request #1580 from circlespainter/master
    
    Make 'OkHttpClient' and 'Call' non-final again for Quasar integration

commit 2a39c0d282c8254be638b35412cd32aa87564656
Author: circlespainter <fabio@paralleluniverse.co>
Date:   Fri Apr 24 10:17:30 2015 +0300

    Make 'OkHttpClient' and 'Call' non-final again for Quasar integration

commit bf21cf5474b82b75fd7d75a0357fa02129db3b0c
Merge: ca16a5b 3bcfadd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Apr 22 00:23:58 2015 -0400

    Merge pull request #1578 from square/jwilson_0421_httpurl_api
    
    HttpUrl initial API.

commit 3bcfadd215a29eddfbe56746e9894b6deaa1e24d
Author: jwilson <jwilson@squareup.com>
Date:   Tue Apr 21 23:43:09 2015 -0400

    HttpUrl initial API.
    
    This is very early and subject to change. I'd like to evaluate the API first
    because it's difficult to do properly and because if it's done right, the
    implementation should be mostly mechanical once this is set.

commit ca16a5b6542243759796a58c0e7d4a0698eef8e9
Merge: a722662 b0b000e
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon Apr 20 22:26:13 2015 -0400

    Merge pull request #1575 from square/jw/websocket-updates
    
    Do not rebuffer socket streams for web sockets, other fixes.

commit b0b000e29668517d21c37c696100bc8331117516
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Apr 20 14:31:19 2015 -0400

    Do not rebuffer socket streams for web sockets, other fixes.
    
    * Ensure onOpen is called before the reader thread starts.
    * Allow close reason without code.
    * Use ProtocolException for protocol errors to ensure a close response is written.

commit a7226623707192f1243a1d44e29e00f9c1209870
Merge: 43c503f d18d8ce
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 19 19:39:32 2015 -0400

    Merge pull request #1571 from square/jw/state-on-the-reader
    
    Update reader state on the reader thread.

commit d18d8ce08a273bb73d8fe2bdbc99dfa95226ca54
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Apr 19 16:47:24 2015 -0400

    Update reader state on the reader thread.
    
    This causes the read loop to immedaitely break–the desired behvior after receiving a close frame–without having to wait for the runnable to execute.

commit 43c503fa61132c1449d5347c31264fe145a36b11
Merge: 215e061 a075e84
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 19 10:47:42 2015 -0400

    Merge pull request #1570 from square/jwilson_0418_connection_window
    
    Don't get stuck waiting on the connection window.

commit a075e848c9f633ca673e47d4230b2220a9ed8dea
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 18 22:29:24 2015 -0400

    Don't get stuck waiting on the connection window.
    
    We weren't applying the stream's timeout to writes to the underlying
    connection. This was just a dumb bug.
    
    When the stream does time out waiting on a write that's blocked inside
    the connection awaiting write window, we need to break out.
    
    Closes https://github.com/square/okhttp/issues/1560

commit 215e0616633294f7efa07b1b5c2e1020b3f59872
Merge: 80f225f b814bc6
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Apr 18 22:03:28 2015 -0400

    Merge pull request #1569 from square/jwilson_0418_proceed_no_return_null
    
    Don't return null on call.proceed().

commit b814bc61eaddf6e9a4872ed385649540ef2083d9
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 18 21:34:16 2015 -0400

    Don't return null on call.proceed().
    
    Closes https://github.com/square/okhttp/issues/1512

commit 80f225f01eaa5a77e252573435b294895580d06a
Merge: 6ebe652 9b8ea97
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Apr 17 10:39:58 2015 -0400

    Merge pull request #1566 from square/jw/test-case-insensitivity
    
    Add a test for case insensitive content type matching.

commit 9b8ea972bf7f4ecf6e9cf167ffc5a1fd775f7638
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Apr 17 10:30:39 2015 -0400

    Add a test for case insensitive content type matching.

commit 6ebe652ffe047767ce3f42aa6dd15b2a6d4a6683
Merge: cc10ba1 8bce689
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Apr 17 08:51:38 2015 -0400

    Merge pull request #1565 from nfukuzaki/nfukuzaki/case_sensitive_bug
    
    Fixed a bug that content type is compared by case sensitive

commit 8bce6897f9f7e0b16508c462665e4f9d26d92e39
Author: Noriyoshi Fukuzaki <noriyoshi.fukuzaki@kii.com>
Date:   Fri Apr 17 15:54:10 2015 +0900

    fixed a bug that content type is compared by case sensitive

commit cc10ba1afe584c6ea8a825afd6da15499f9f43a0
Merge: 076a618 35d0922
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 16 22:16:36 2015 -0400

    Merge pull request #1564 from square/jw/byte-string-body
    
    Add convenience overload for ByteString-backed RequestBody.

commit 35d0922f46c95bd73b1d070b6963cf3512167854
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Apr 16 21:02:10 2015 -0400

    Add convenience overload for ByteString-backed RequestBody.

commit 076a618717a0431502194529d6b994804c12ec6e
Merge: 80901a6 2a4c1f2
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Thu Apr 16 20:54:49 2015 -0400

    Merge pull request #1563 from square/jw/okioize-form-encoding
    
    Switch Form URL encoding builder and body to use Okio.

commit 80901a680a341a79f4bc4523b191eeb219941cd7
Merge: ea8efdf 1abba29
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 16 20:20:51 2015 -0400

    Merge pull request #1559 from square/jwilson_0414_never_default_body
    
    Never convert null into an empty request body.

commit 1abba290f5e3e7719ad2dfead2eb45d507ed492c
Author: jwilson <jwilson@squareup.com>
Date:   Wed Apr 15 15:49:36 2015 -0400

    Never convert null into an empty request body.
    
    This is a behavior change.

commit 2a4c1f288d284d3266b5aec4decb167a3af0a976
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Apr 16 14:06:23 2015 -0400

    Switch Form URL encoding builder and body to use Okio.

commit 4e08085cc8611b4aca72a3752d983ed74d473a61
Author: Neil Fuller <nfuller@google.com>
Date:   Tue Apr 14 15:46:26 2015 +0100

    Install an UncaughtExceptionHandler during tests
    
    This is to make the tests more brittle around uncaught exceptions
    as they are on Android. No uncaught exceptions should escape.

commit fb155c47661ede5da395dfb4e620867263b8c8e7
Author: Neil Fuller <nfuller@google.com>
Date:   Tue Apr 14 10:21:29 2015 +0100

    Fix MockWebServer with SPDY on Android.
    
    Fix for issue #1552
    Related to commit f78f74f from issue #1294
    
    Before this change:
    SpdyConnection creates threads to handle the reading and writing. If
    those threads die from a RuntimeException it triggers Android's default
    UncaughtExceptionHandler, which kills the test process. Previously exceptions
    were being swallowed, but commit f78f74f caused the exceptions to be
    propagated.
    
    This change adds extra handling for RuntimeException to stop them escaping.

commit ea8efdf59eeb18a9df7019e0aa04fafffead459c
Merge: 7053d16 4f0cf03
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Apr 14 00:44:16 2015 -0400

    Merge pull request #1553 from square/kiran+kenji/add-active
    
    Expose running and queued call counts for monitoring

commit 4f0cf03bed4180e4e277a99e1194cc17b0d198d4
Author: Kiran + Kenji <kiran+kaneda@squareup.com>
Date:   Mon Apr 13 15:51:36 2015 -0700

    Expose running and queued call counts for monitoring

commit 7053d16360bb5cdebe93833a2b5f953548dc0e82
Merge: b40f99a 60f5406
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Apr 13 17:21:45 2015 -0400

    Merge pull request #1388 from nfuller/CutDownAlternativeTlsFallback1
    
    Move TLS retries / fallback into Connection.

commit b40f99a950cb407eff52537a97420bd253a64f63
Merge: 4412838 0b3b594
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Apr 8 13:47:06 2015 -0400

    Merge pull request #1548 from quinnjn/interceptor_request_not_returned_in_response
    
    Interceptor request not returned in response

commit 0b3b594e9aa167693536a2cb3493a4f64b80c0fa
Author: Quinn Neumiiller <quinnjn@gmail.com>
Date:   Wed Apr 8 08:42:21 2015 -0600

    Squashed commit of the following:
    
    commit d5f3ef15e9822c03dc0d107a9944f730c5c8d710
    Author: Quinn Neumiiller <quinnjn@gmail.com>
    Date:   Tue Apr 7 16:15:51 2015 -0600
    
        userRequest should always be sent back, networkRequest is included in networkResponse.
    
    commit bc7f5372b9ad9b68affef333ec259789cd342be0
    Author: Quinn Neumiiller <quinnjn@gmail.com>
    Date:   Mon Apr 6 20:19:27 2015 -0600
    
        Updating networkRequest when interceptors touch the request, attaching the request update to the userResponse.
    
    commit ae5b3ca59f75bc068a5cab2a68465cdef9f4f5ec
    Author: Quinn Neumiiller <quinnjn@gmail.com>
    Date:   Mon Apr 6 18:36:38 2015 -0600
    
        Add a test for interceptor requests in the response

commit 4412838406a9d5a363e099e785742ea9a4edbaf2
Merge: 8888dca 9338fa1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 2 08:40:28 2015 -0400

    Merge pull request #1532 from square/jwilson_0325_break_mocks
    
    Make OkHttpClient and Call final.

commit 8888dcafe6a7a6bfc0072522ccc88f9712edf16f
Merge: 76bc2d6 e6f42c4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 2 08:39:49 2015 -0400

    Merge pull request #1541 from lalbuquerque/master
    
    Adding more content and example to Dispatcher

commit e6f42c4263fca67c287aaae6d17d9b2f4a9ed702
Author: Lucas Albuquerque <lucas.albuquerque12@gmail.com>
Date:   Tue Mar 31 22:01:45 2015 -0300

    Adding more content and example to Dispatcher

commit 9338fa1109f2b0a4855ba4ace4ed48cb4b0e1ba9
Author: jwilson <jwilson@squareup.com>
Date:   Wed Mar 25 16:50:58 2015 -0400

    Make OkHttpClient and Call final.
    
    This will break mocks. We have a much simpler solution now, with
    interceptors. Instead of mocking the HTTP client, use interceptors
    to change its behavior.
    
    Fix a bug where interceptor lists aren't independent after cloning
    the OkHttpClient.

commit 76bc2d61e0470c5d960a779eb7627f94f476d083
Merge: fab8aa3 bb47389
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Mar 23 14:46:17 2015 -0400

    Merge pull request #1529 from nfuller/FixBadlyBehavedCache
    
    Make badly-behaving caches cause a checked exception, not NPE

commit bb47389d8578796e8a5c25463d7b59ce561b6719
Author: Neil Fuller <nfuller@google.com>
Date:   Mon Mar 23 15:25:21 2015 +0000

    Make badly-behaving caches cause a checked exception, not NPE
    
    Android bug: https://code.google.com/p/android/issues/detail?id=160522

commit fab8aa3446fd964ef6b7b87110270bea6082a1cf
Merge: ba82ecd 7cbb0cb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 22 21:30:49 2015 -0400

    Merge pull request #1527 from aried3r/ar/progress_done_fix
    
    Pass correct boolean for `done` in Progress recipe

commit 7cbb0cbdadd16b963bc8959f8ad084fc9b785eda
Author: Anton Rieder <aried3r@gmail.com>
Date:   Mon Mar 23 01:42:51 2015 +0100

    Pass correct boolean for `done`

commit ba82ecd3b539cbb4998ca4851141457db3c65322
Merge: 762fd6f c30b6e5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 22 12:37:59 2015 -0400

    Merge pull request #1526 from aried3r/ar/progress_recipe
    
    Progress recipe

commit c30b6e5410a2eb2c8db1f6f54b9b2f9797d45fa4
Author: Anton Rieder <aried3r@gmail.com>
Date:   Sun Mar 22 17:25:04 2015 +0100

    Download progress recipe

commit 762fd6f90be1912c66809da9ecb6972c8b84f7f4
Merge: 0237d3c cda9203
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Mar 19 19:05:55 2015 -0400

    Merge pull request #1519 from hiddenmin/patch-1
    
    Bump to 2.3.0

commit cda9203445092fd2888ac5982056cfda23ba16cf
Author: Amin Cheloh <hidden.min@gmail.com>
Date:   Fri Mar 20 05:18:49 2015 +0700

    Bump to 2.3.0

commit 60f5406dcc094d0431420139bd002e8bdd4ea5d5
Author: Neil Fuller <nfuller@google.com>
Date:   Tue Feb 10 18:04:10 2015 +0000

    Move TLS retries / fallback into Connection.
    
    API changes:
    1) Added: Address.getCertificatePinner()
    2) Incompatible API change: Address constructor no longer
    includes ConnectionSpecs. Removed getConnectionSpecs().
    3) Added: ConnectionSpec.isCompatible(SSLSocket)
    4) Added: TlsVersion.javaName()
    
    Implicit / semantic / internal changes:
    
    1) Connection now handles all attempts to connect via a route
    (effectively a {proxy, socket address} pair), rather than just
    one attempt. i.e. Connection now handles all the TLS negotiation
    fallbacks internally.
    
    2) Route no longer deals with TLS versions. Individual TLS
    failures are not counted against a Route. If no connection
    attempts to a route were successful the failure is counted
    against the route.
    
    3) The code makes a distinction between when various
    IOExceptions occur, with the intention making retries a bit
    smarter. It is now more obvious which exceptions happen during
    setup (RequestException), connection (RouteException),
    HTTP communication and thus which can be retried and whether
    the request might have been sent.

commit 0237d3c3f29b004f4313b2b9fd58830b29cc6311
Author: jwilson <jwilson@squareup.com>
Date:   Mon Mar 16 22:28:12 2015 -0400

    [maven-release-plugin] prepare for next development iteration

commit c49eedeba374e06bc82f5aed7c67506f65dd2482
Author: jwilson <jwilson@squareup.com>
Date:   Mon Mar 16 22:28:09 2015 -0400

    [maven-release-plugin] prepare release parent-2.3.0

commit b46e681dc817faa6cc4e7fff8ed6c3bea736a37c
Author: jwilson <jwilson@squareup.com>
Date:   Mon Mar 16 22:16:37 2015 -0400

    Update changelog for 2.3.0.

commit f8183f904a0f69a09d44697e1e3abe434fb01868
Merge: 70ab598 7f63814
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon Mar 16 11:09:10 2015 -0500

    Merge pull request #1510 from nfuller/FixOkioPom
    
    Remove -SNAPSHOT from okio version

commit 7f63814e911524112da2e732b009f2ce4272d2b0
Author: Neil Fuller <nfuller@google.com>
Date:   Mon Mar 16 16:00:35 2015 +0000

    Remove -SNAPSHOT from okio version
    
    This seems to be required for me to build successfully.

commit 70ab5986e07449f278da4f354df6f18598928fc0
Merge: 71c4c8d a75193b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 15 22:13:13 2015 -0400

    Merge pull request #1508 from square/jwilson_0315_crawler_fixes
    
    Fix some crawler bugs.

commit a75193b134dfe02652bb90dc5cb3fedc794708df
Author: jwilson <jwilson@squareup.com>
Date:   Sun Mar 15 22:02:37 2015 -0400

    Fix some crawler bugs.
    
    We were interpretting links relative to the URLs requested, rather
    than the redirect targets of those URLs.

commit 71c4c8d77bef2d28a95bf4b999631f4f8be47781
Merge: 7623d34 2e07d30
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 15 21:08:10 2015 -0400

    Merge pull request #1506 from square/jwilson_0315_custom_trust_recipe
    
    Custom trust recipe.

commit 2e07d308d2189e9ffef4fa958fa20f467ffdcfe5
Author: jwilson <jwilson@squareup.com>
Date:   Sun Mar 15 18:45:24 2015 -0400

    Custom trust recipe.
    
    To my great delight, Java and Android can read .pem files without
    the BKS or JKS store files we typically use to distribute trusted
    certificates.
    
    This recipe includes a big copy-and-pasteable method for converting
    an InputStream of PEM files into an SSLContext. The rest of it is
    warnings about how dangerous that is.
    
    Closes https://github.com/square/okhttp/issues/1336

commit 7623d34842990b40be7ff9393aeaf8b6bf929f4e
Merge: 05da8aa 9343be0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 15 20:12:46 2015 -0400

    Merge pull request #1507 from square/jwilson_0315_okio_in_cache
    
    Use Okio when reading cached certificates.

commit 9343be07fc3a7d4c5e8043a4a22f398bef563e3c
Author: jwilson <jwilson@squareup.com>
Date:   Sun Mar 15 19:05:09 2015 -0400

    Use Okio when reading cached certificates.

commit 05da8aaf0211b65da92017231914feb57a8e475b
Merge: 20a27d8 eaadc9e
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Mar 15 16:15:38 2015 -0500

    Merge pull request #1505 from square/jwilson_0315_relax_streamed_requests
    
    Relax expectations when streamed requests fail.

commit eaadc9e6bd8f02b3f93396e85313998646f80c7e
Author: jwilson <jwilson@squareup.com>
Date:   Sun Mar 15 17:04:53 2015 -0400

    Relax expectations when streamed requests fail.
    
    We don't have machinery to recover from this when streamed requests
    fail, and we also don't have machinery to reliably detect when they
    will fail.
    
    This is sad. Fortunately the new API doesn't suffer this problem.

commit 20a27d8163973fd575823ca19f08d8a004ec0bcb
Merge: d1c002f 7576c10
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 15 15:01:31 2015 -0400

    Merge pull request #1503 from square/jwilson_0315_await_idle_watchdog
    
    Fix a flaky test by waiting until the Okio watchdog is caught up.

commit d1c002fbf45841f9354e9f1b5acfd8ebdbf3df64
Merge: 57b265b 1ab0863
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 15 14:20:03 2015 -0400

    Merge pull request #1501 from square/jwilson_0315_interceptor_throws
    
    Add a test for interceptors throwing unchecked exceptions.

commit 7576c10e949252a3aad58cbee75ce0d8b57c48bb
Author: jwilson <jwilson@squareup.com>
Date:   Sun Mar 15 14:16:29 2015 -0400

    Fix a flaky test by waiting until the Okio watchdog is caught up.
    
    We had tests that flake because they expected the watchdog to have
    completed closing a connection, but we weren't blocking until that
    work was done.
    
    Closes https://github.com/square/okhttp/issues/1328

commit 1ab086360755fcb13356617fe6d738171889d810
Author: jwilson <jwilson@squareup.com>
Date:   Sun Mar 15 13:45:22 2015 -0400

    Add a test for interceptors throwing unchecked exceptions.
    
    Our behavior here is not good. Right now it looks like we're leaking
    resources; nothing is releasing the socket in a 'finally' clause when
    interceptors crash. We're also not notifying the callback that the
    call has failed; that's left hanging.
    
    That said, we don't expect applications to recover from these
    exceptions.
    
    Closes https://github.com/square/okhttp/issues/1482

commit 57b265b9d6eb97fd6f87425968a23ceb4a72850d
Merge: 7c1346f 96ba217
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Sat Mar 14 21:00:17 2015 -0700

    Merge pull request #1493 from square/jw/ws-call-close
    
    Documentation that impls must call close on message payloads.

commit 7c1346fb8a8d25e51610d399e46badaf75975816
Merge: fcaa762 f5dc99a
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Sat Mar 14 20:54:25 2015 -0700

    Merge pull request #1498 from square/jwilson_0314_bigger_frames
    
    Introduce a buffer in SpdyStream's outgoing frames.

commit fcaa762e40757bebefb159beada7a7414dc8318e
Merge: 548bd19 e90fece
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Sat Mar 14 20:34:59 2015 -0700

    Merge pull request #1499 from square/jwilson_0314_stream_okcurl
    
    Stream the response in okcurl.

commit 548bd196dec243d370dc7e6160789c30ed7e9287
Merge: d312d8c 3d0fb76
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Sat Mar 14 20:34:22 2015 -0700

    Merge pull request #1500 from square/jwilson_0314_spdyserver
    
    Update SpdyServer.

commit 3d0fb76bd5641969455df20fbdbb651cd6efb7ae
Author: jwilson <jwilson@squareup.com>
Date:   Sat Mar 14 21:41:41 2015 -0400

    Update SpdyServer.
    
    Serves HTTP/2 without problems to the latest Firefox.

commit e90fecef8675723b261370fd89f726221e6f56c5
Author: jwilson <jwilson@squareup.com>
Date:   Sat Mar 14 21:34:21 2015 -0400

    Stream the response in okcurl.
    
    Beneficial for this website in particular:
    https://http2.golang.org/clockstream

commit f5dc99aa49f4832e3534dca6fdc90aa072ef0180
Author: jwilson <jwilson@squareup.com>
Date:   Sat Mar 14 21:09:36 2015 -0400

    Introduce a buffer in SpdyStream's outgoing frames.
    
    Previously we'd consistently send 2048 byte frames because that was
    Okio's default segment size. This increases OkHttp's typical segment
    size to the 16 KiB frame size that all HTTP/2 endpoints support.

commit d312d8c501e36a7d0805e8044196e37391d86e74
Merge: 0c2387c 6a683da
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Mar 14 19:02:50 2015 -0400

    Merge pull request #1497 from square/jwilson_0314_hide_journal_write_fails
    
    Don't get corrupted when journal writing fails.

commit 6a683da022ae6f7507b6a96b5d2790881e8c7549
Author: jwilson <jwilson@squareup.com>
Date:   Sat Mar 14 18:21:13 2015 -0400

    Don't get corrupted when journal writing fails.
    
    Closes https://github.com/square/okhttp/issues/1211
    
    Working towards https://github.com/square/okhttp/issues/746

commit 0c2387c55ea4e4f5dd1f6c8890ace7cc422ad6af
Merge: e73a4fa 49e85a1
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Mar 14 17:33:52 2015 -0500

    Merge pull request #1495 from square/jwilson_0314_filesystem
    
    New file system abstraction.

commit 49e85a1fd2ac13945be30a161286a50c0fa7485b
Author: jwilson <jwilson@squareup.com>
Date:   Sat Mar 14 15:14:04 2015 -0400

    New file system abstraction.
    
    Working towards https://github.com/square/okhttp/issues/1211

commit 96ba2175c0e732be65e5235d08e5855c1b04ae35
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Mar 13 01:02:22 2015 -0400

    Documentation that impls must call close on message payloads.

commit e73a4fa5a68eced2b044486a71be9759ed8710e6
Merge: 95cbd9e db27211
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Mar 13 01:35:55 2015 -0400

    Merge pull request #1492 from square/jw/missing-quote
    
    Add missing quote.

commit db2721159e0b056ccb0d0a640b77b86d052c9d94
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Mar 13 00:59:51 2015 -0400

    Add missing quote.

commit 95cbd9ec50621631c54d9bbd99b218681eeab940
Merge: c6ecfb8 dab882a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Mar 12 21:57:47 2015 -0400

    Merge pull request #1487 from square/jwilson_0310_more_context
    
    Provide context on unexpected EOFs.

commit c6ecfb825a0345a3df6d0866449f846a098d9837
Merge: a428f10 b64901d
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Thu Mar 12 20:52:28 2015 -0500

    Merge pull request #1491 from square/jwilson_0312_cachecontrol
    
    Update cache docs to use Call and CacheControl.

commit b64901db40b0d33c3347fd625a4262a091d04abf
Author: jwilson <jwilson@squareup.com>
Date:   Thu Mar 12 21:47:35 2015 -0400

    Update cache docs to use Call and CacheControl.
    
    Fixes https://github.com/square/okhttp/issues/1461

commit dab882acc09b6a2c04c823375632b395cac961c0
Author: jwilson <jwilson@squareup.com>
Date:   Tue Mar 10 23:27:38 2015 -0400

    Provide context on unexpected EOFs.
    
    https://github.com/square/okhttp/issues/1114

commit a428f100a7bc1316e978a1c640b969b5943638a7
Merge: 293792c 0b2ef95
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Mar 12 21:12:34 2015 -0400

    Merge pull request #1489 from square/jw/web-sockets
    
    Move WebSocket to the public API in a sibling module.

commit 293792c5ee66323c6070f9d88227d6579feaba47
Merge: 96dfaaa 60b1dfc
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Mar 12 21:10:40 2015 -0400

    Merge pull request #1488 from square/adrian.h2-final
    
    Updates to http/2 final

commit 0b2ef95640f41a3edf5faa73ffcaf340da311fba
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Mar 11 12:17:53 2015 -0400

    Move WebSocket to the public API in a sibling module.

commit 60b1dfc169156f300045fd0e01e89b890661b5a7
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Wed Mar 11 08:14:55 2015 -0700

    Updates to http/2 final
    
    Http2 and Hpack have been [submitted]
    (https://www.rfc-editor.org/queue2.html#draft-ietf-httpbis-http2) to the
    IETF. This change removes the draft alpn identifier, and renames types
    accordingly.

commit 96dfaaa817816b2dc191d4d075a07aeb0c808694
Merge: ab3f9f8 8a1e6ce
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Mar 10 22:15:31 2015 -0400

    Merge pull request #1481 from square/jw/generalize-ws-reply-executor
    
    Use the now-generalized reply executor for peer close.

commit ab3f9f832be69fa1cb716b218b89a81ee334c78f
Merge: dbbb6e6 f78f74f
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Tue Mar 10 21:08:36 2015 -0500

    Merge pull request #1485 from square/jwilson_0310_execute_not_submit
    
    Use ExecutorService.execute, not ExecutorService.submit.

commit f78f74f5a2cf1f73f974487816f998a6e37a9cf1
Author: jwilson <jwilson@squareup.com>
Date:   Tue Mar 10 22:01:10 2015 -0400

    Use ExecutorService.execute, not ExecutorService.submit.
    
    The latter returns a Future that we never call get() on, and
    never get the exception from.
    
    Fixes: https://github.com/square/okhttp/issues/1294

commit dbbb6e68083232e51d22c02e4bfd7fe429a75177
Merge: c724fa4 2a6b4fe
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Mar 9 20:38:59 2015 -0400

    Merge pull request #1475 from square/jwilson_0308_cipher_suites_2015_03
    
    Drop some RC4 cipher suites.

commit 8a1e6ceec92963423b4cc9f5edded6363fc2c43f
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Mar 9 18:37:09 2015 -0400

    Use the now-generalized reply executor for peer close.

commit c724fa4fc908f01490ab5deed87b42193f308205
Merge: 964f1b4 6b46003
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Mar 9 10:38:32 2015 -0400

    Merge pull request #1480 from square/jw/tiny-tweaks
    
    Correctly determine when test code times out.

commit 6b46003b743f41532515975bcd1fc1053c108007
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Mar 9 10:06:11 2015 -0400

    Correctly determine when test code times out.

commit 964f1b4c909de6692c2506ffebc1705b0313a054
Merge: f6baae0 c25728d
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon Mar 9 00:19:14 2015 -0400

    Merge pull request #1479 from square/jwilson_0308_mockwebserver_crash
    
    Don't attempt to read a source after closing it.

commit c25728dd79d9a5e1c1d29298f9b43246934d0e5b
Author: jwilson <jwilson@squareup.com>
Date:   Sun Mar 8 23:45:47 2015 -0400

    Don't attempt to read a source after closing it.
    
    Reported here: http://stackoverflow.com/questions/28931191/okhttp-urlconnection-test-crashes-mockwebserver-yet-passes/28934866#28934866

commit f6baae0bcbd712ac642db6d84dab026470d36f1c
Merge: 8d0b2b9 0a67394
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 8 23:04:11 2015 -0400

    Merge pull request #1478 from square/jw/do-not-propagate-peer-close-exceptions
    
    Exceptions from peer closing should not be propagated.

commit 0a67394f2a6401ae181d601e3724703829506bf6
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Mar 8 22:46:25 2015 -0400

    Exceptions from peer closing should not be propagated.

commit 8d0b2b9d3ca870a5b3a2b91c59d19c1e3bfc966a
Merge: 200ae1d a8a98a0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 8 21:55:51 2015 -0400

    Merge pull request #1457 from longbai/byte-range-requestbody-create
    
    request create from byte[] range

commit a8a98a0fbb9c1c3530316fc774b31dd38704e207
Author: longbai <slongbai@gmail.com>
Date:   Mon Mar 9 09:36:58 2015 +0800

    Squashed commit of the following:
    
    commit 8edbfe3bfc3fd2ac86fac069bc112d8d7a5d2ffd
    Author: longbai <slongbai@gmail.com>
    Date:   Wed Feb 25 16:54:21 2015 +0800
    
        remove dup code
    
    commit 9017ca5a5a2f732a56ba65fd08872b5c80ca21f3
    Author: longbai <slongbai@gmail.com>
    Date:   Wed Feb 25 11:44:49 2015 +0800
    
        fixed var name
    
    commit 5b4c4553fa03422d092e9f2eb9cb5132ee58fa78
    Author: longbai <slongbai@gmail.com>
    Date:   Wed Feb 25 11:39:55 2015 +0800
    
        add test
    
    commit dfab0792453cbf5807718c84f54f6e63de3678ce
    Author: longbai <slongbai@gmail.com>
    Date:   Wed Feb 25 11:32:02 2015 +0800
    
        request create from byte[] range

commit 2a6b4fe447b45c3e17ebaec32b0636cbf1e36e75
Author: jwilson <jwilson@squareup.com>
Date:   Sun Mar 8 19:52:43 2015 -0400

    Drop some RC4 cipher suites.
    
    Firefox dropped these recently. I'm following their lead.
    
    See also:
    https://docs.google.com/spreadsheets/d/1C3FdZSlCBq_-qrVwG1KDIzNIB3Hyg_rKAcgmSzOsHyQ/edit#gid=0

commit 200ae1df91af62aa924a6f3026b393069b01d7d3
Merge: f8e8f89 b70a1c2
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Mar 8 18:22:34 2015 -0400

    Merge pull request #1474 from square/jwilson_0308_disable_alpn_android_44
    
    Disable ALPN on Android 4.4.

commit b70a1c22f9862df0404dda7e5b9be94ec666dcc7
Author: jwilson <jwilson@squareup.com>
Date:   Sun Mar 8 17:47:33 2015 -0400

    Disable ALPN on Android 4.4.
    
    We're going towards HTTP/2 only, which is ALPN and requires cipher suites
    only found in Android 5+. That's where we'll focus our energy.
    
    Tested on Android 4.4 and Android 5.0 emulators. On Android 4.4 ALPN
    is avoided. On Android 5.0 it is used.

commit f8e8f8961d435d6a042ac2d671eb195fa9f1acb1
Merge: f152f35 fd162a3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Mar 7 23:54:34 2015 -0500

    Merge pull request #1473 from square/jw/normalize-exception-messages
    
    Normalize web socket exception messages to match.

commit fd162a351a0d12ceae8b3976b4b127609dce6196
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Mar 7 23:15:57 2015 -0500

    Normalize web socket exception messages to match.

commit f152f35b8b74416247919f4f8961461fc21909fa
Merge: 2dc180e 353ec0b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Mar 7 18:17:17 2015 -0500

    Merge pull request #1394 from nfuller/FixSubjectSn
    
    Fix for SslContextBuilder/MockWebServer disagreeing about localhost

commit 2dc180e321151895db06d66b27ce59e4d4efd568
Merge: efcc2df c324114
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Mar 7 15:26:59 2015 -0500

    Merge pull request #1472 from square/jwilson_0307_shutdown
    
    Don't crash on shutdown() before start().

commit c32411444715c89e9df6d398c4b32cf17ab58789
Author: jwilson <jwilson@squareup.com>
Date:   Sat Mar 7 15:16:48 2015 -0500

    Don't crash on shutdown() before start().
    
    Closes https://github.com/square/okhttp/issues/1372

commit efcc2df35884c44f6bd96ccdfa5b8750401aa598
Merge: cba15c8 7e5da6b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Mar 6 13:05:36 2015 -0500

    Merge pull request #1469 from nashira/master
    
    null out Request.Builder.url when setting urlString

commit cba15c8bc18a30e75807ef882cb5631fe90aeae3
Merge: 4dd90dc e71beb4
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Fri Mar 6 03:07:46 2015 -0500

    Merge pull request #1465 from square/jw/unsigned
    
    Payload length continuations are unsigned values.

commit e71beb4a071c996372807d25d23708e2ab7b7683
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Mar 3 13:09:55 2015 -0700

    Payload length continuations are unsigned values.
    
    The short and long continuations of payload length should be treated as unsigned values. Due to the sheer size of an unsigned long, any value over the signed Long.MAX_VALUE is forbidden.

commit 7e5da6b0ad2ad9eb49bc0145cc9fd76b2aa737af
Author: Nash Lincoln <nash@shopcurbside.com>
Date:   Thu Mar 5 21:30:49 2015 -0800

    null out Request.Builder.url when setting urlString

commit 4dd90dc5c06938f48ab023603cf848a2f39be49a
Merge: e961166 35bf0ab
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Tue Feb 24 12:07:42 2015 -0800

    Merge pull request #1456 from square/jwilson_0222_delete_delete_delete
    
    Test that DELETE can have a body.

commit 35bf0ab4a24d62853c79e15c62f9cd60b98ab3d2
Author: jwilson <jwilson@squareup.com>
Date:   Tue Feb 24 14:50:35 2015 -0500

    Test that DELETE can have a body.

commit e961166c4b11031b0b1fcb929e726170444e58fb
Merge: 57efb6d c90f249
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Feb 22 20:26:54 2015 -0800

    Merge pull request #1450 from square/jwilson_0222_port_range
    
    Fail properly when a port is out of range.

commit c90f24948b3b79d494c599b53ea09d4e12076043
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 22 23:18:15 2015 -0500

    Fail properly when a port is out of range.
    
    Closes https://github.com/square/okhttp/issues/1358

commit 57efb6dff00b1d0014796d2af7cc062371774c62
Merge: b4a9de1 dde9196
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Feb 22 19:07:25 2015 -0800

    Merge pull request #1449 from square/jwilson_0222_multipart_length
    
    Compute the content length of multipart bodies.

commit dde9196a49fd1dc50be65e4381518eb4cd9a953f
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 22 21:49:51 2015 -0500

    Compute the content length of multipart bodies.
    
    Closes https://github.com/square/okhttp/issues/1349

commit b4a9de148766daf970ec38564156f95b3830e16c
Merge: 4b037e7 ef47c44
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Feb 22 17:10:48 2015 -0800

    Merge pull request #1448 from square/jwilson_0222_okio_number_formatting
    
    Use Okio's new APIs for number parsing and formatting.

commit ef47c446a2c3dd9d4520b1cfe45283208ca9bb4c
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 22 17:50:03 2015 -0500

    Use Okio's new APIs for number parsing and formatting.

commit 353ec0b0cdbf46ddbc2755e482c62ec711badf90
Author: Neil Fuller <nfuller@google.com>
Date:   Thu Feb 12 09:47:03 2015 +0000

    Fix for SslContextBuilder/MockWebServer disagreeing about localhost
    
    MockWebServer binds to getByName("localhost"), SslContextBuilder was using
    InetAddress.getByName(null) (null == any loopback). On Android, null
    returns IPv6 loopback, which has the name "ip6-localhost".

commit 4b037e7b226212ab1f91ee4431cad09691f6a186
Merge: 65961e2 c8f5992
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Feb 11 22:48:00 2015 -0500

    Merge pull request #1393 from klyubin/unknownserviceexception-when-no-connection-specs
    
    A way to catch that cleartext HTTP request was attempted.

commit c8f5992b7da832716e63ebce13dfce85f740b0b3
Author: Alex Klyubin <klyubin@google.com>
Date:   Wed Feb 11 19:36:47 2015 -0800

    A way to catch that cleartext HTTP request was attempted.
    
    This makes the HTTP stack throw java.net.UnknownServiceException if
    a request is attempted using a protocol which matches no configured
    connection specs. For example, this will happen if a cleartext HTTP
    request is attempted when ConnectionSpec.CLEARTEXT is not configured.
    
    Fixes #1392

commit 65961e2d124d685f1b8ecf52d25677c351519f27
Merge: b609edd e5cd5ae
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Feb 11 18:43:37 2015 -0500

    Merge pull request #1391 from mikevoyt/master
    
    Add Gradle download info to project Pages

commit e5cd5ae623706a1e75a6bca6c681e12339cb67f3
Author: Voytovich, Mike <mvoytovich@paypal.com>
Date:   Wed Feb 11 12:36:40 2015 -0800

    Add Gradle download info to project Pages

commit 432ca1ef31d0fb031ab3aa91438e87fcfbe86a68
Author: Neil Fuller <nfuller@google.com>
Date:   Fri Jan 23 17:26:51 2015 +0000

    Reduce flakiness and document reasons for flakiness
    
    Android has been receiving reports of some tests being flaky
    on what are probably lower-spec devices.
    
    This introduces delays into tests where sockets are being
    poisoned after the entire response body has been written to
    them *and* where there are follow-up requests.
    
    This change also improves the documentation for the problematic
    SocketPolicy values.

commit b609edd07864d7191dcda8ba1f6c833c9fe170ad
Merge: eb5aeb0 cc94dea
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Feb 10 00:08:51 2015 -0500

    Merge pull request #1383 from kboyarshinov/kboyarshinov/ssl-exception
    
    Throw SSLPeerUnverifiedException when host verification fails, instead of IOException

commit cc94dea6d7fad79e531ee723c31e2d92fb7ccf98
Author: Kirill Boyarshinov <naghtarr@gmail.com>
Date:   Tue Feb 10 10:30:40 2015 +0600

    Throw SSLPeerUnverifiedException when host verification fails, instead of IOException

commit eb5aeb0976995eb83434129d75eb05c3e7c87fed
Merge: b92c1b9 fee2720
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Feb 6 20:25:55 2015 -0500

    Merge pull request #1364 from raggi/support-custom-connectionspecs
    
    ConnectionSpec: Allow custom specifications

commit fee27209135228900cea58e78b71fbc4fdd7792c
Author: James Tucker <raggi@google.com>
Date:   Thu Feb 5 14:32:05 2015 -0800

    ConnectionSpec: Allow custom specifications

commit b92c1b9db1c27b8035157a9016344db9e5f198ec
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jan 31 14:47:13 2015 -0800

    Wording tweak.

commit 31081fb82ccdb145273567a1d98a6a616205483c
Merge: c1a39c9 58f6cf5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 31 17:44:54 2015 -0500

    Merge pull request #1357 from square/jw/do-not-round-timeouts
    
    Do not allow timeouts less than 1ms.

commit 58f6cf5130a06e95e9f0ef078abea082417340f7
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jan 31 14:27:32 2015 -0800

    Do not allow timeouts less than 1ms.

commit c1a39c9ce63e063d4afdf78ff5c651e9bba8762f
Merge: f84b4de 4db679b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 30 17:41:22 2015 -0500

    Merge pull request #1355 from square/jwilson_0130_if_none_match
    
    Send at most one condition.

commit 4db679b39e74b7671b2bf429bd206fafd9436f6e
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 30 13:45:18 2015 -0500

    Send at most one condition.
    
    Related to https://github.com/square/okhttp/issues/831
    Closes: https://github.com/square/okhttp/issues/1354

commit f84b4de48074632366e6bd3160bfce3b93aa59de
Merge: 64193c7 24767e1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 30 13:27:05 2015 -0500

    Merge pull request #1353 from square/jwilson_0130_actually_async
    
    Fix a major bug where threads weren't being created.

commit 24767e13877f3772515ac250474e34f4d4977c48
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 30 09:17:49 2015 -0500

    Fix a major bug where threads weren't being created.
    
    The LinkedBlockingQueue and core pool size of 0 do not interact well.
    This prevents more threads from being created, harming overall
    concurrency for async requests.

commit 64193c7dedf0c993327109e6ad461a467eb7694b
Merge: 3ee539e c99ac2b
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Wed Jan 28 10:17:09 2015 -0800

    Merge pull request #1345 from brennantaylor/bt/config-mockwebserver-inetaddr
    
    Allow user to configure what mockwebserver binds to

commit 3ee539edec2e847d9cd126a373658fa96d350128
Merge: 621d270 4048663
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 26 10:27:01 2015 -0500

    Merge pull request #1347 from nfuller/PrivateCache
    
    Private cache improvements

commit 4048663140a157c68cc0a5f56a8739b0d9001feb
Author: Neil Fuller <nfuller@google.com>
Date:   Fri Jan 23 09:51:36 2015 +0000

    Private cache improvements
    
    Commit 112f020c411c9d14f34e480b98325777b25a7434 changed
    OkHttp's cache from being shared to private cache.
    
    http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.4
    - permits caching of redirects for "private" responses.
    
    http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9.3
    "The s-maxage directive is always ignored by a private cache."
    - the s-maxage check has been removed from the redirect caching
      checks too.

commit c99ac2b462a8e7aa3eae6a388572582092e63f4c
Author: Brennan Taylor <brennan@mobiata.com>
Date:   Sun Jan 25 16:17:55 2015 -0800

    Allow user to configure what mockwebserver binds to
    
    Provide `start(InetSocketAddress)` and `start(InetAddress, port)` to
    address #1342

commit 621d270207adcfcf0560bb01c39a2915e0f557e8
Merge: 0a19746 b16a4b2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jan 21 22:56:11 2015 -0500

    Merge pull request #1341 from nfuller/OptConnectionSpec
    
    Trivial optimization for comparing ConnectionSpecs

commit b16a4b26210807b88cf367928f7025a7baefe7a7
Author: Neil Fuller <nfuller@google.com>
Date:   Wed Jan 21 17:32:59 2015 +0000

    Trivial optimization for comparing ConnectionSpecs
    
    ConnectionSpec instances will usually originate from
    final statics, particularly ConnectionSpec.CLEARTEXT. This seems
    like a no-brainer to avoid array comparisons.

commit 0a197466608681593cc9be9487965a0b1d5c244c
Merge: e2f3a21 3a65dcd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 18 13:47:33 2015 -0500

    Merge pull request #1308 from nfuller/FixResponseCache
    
    Fix ResponseCache handling for Android usecases

commit e2f3a21849e77404be082fcffca73aad8d76df88
Merge: 74001bb ab2dbb9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 16 22:54:29 2015 -0500

    Merge pull request #1330 from joschi/headers-map
    
    Allow to create Headers from Map

commit 74001bbdb631f5ec7c8bc0bdadefce94b5a3f50a
Merge: 84d87a7 515ae8f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 16 22:52:54 2015 -0500

    Merge pull request #1332 from jbornemann/update_http_default_cache_codes
    
    Update http default cache codes

commit 515ae8fef6c074dc16695df37459862a49eb1d5f
Author: Jeff Bornemann <bornemannjs@gmail.com>
Date:   Sun Jan 11 14:47:35 2015 -0500

    cache-by-default status codes now up to date

commit ab2dbb98dd3eb22fa158a24519eb93a26e416bbc
Author: Jochen Schalanda <jochen@schalanda.name>
Date:   Fri Jan 16 10:37:28 2015 +0100

    Adapt to Square code style

commit dd0f2e9d1bcbc8528c44d5d98eedb419e4d02ed7
Author: Jochen Schalanda <jochen@schalanda.name>
Date:   Thu Jan 15 16:08:32 2015 +0100

    Add method to create Headers from Map<String, String>

commit 84d87a7e3978daeb25193405a6cf07a71b3da902
Merge: c780302 0b69d29
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Thu Jan 15 09:41:13 2015 -0500

    Merge pull request #1326 from nfuller/FixSocketCloseOnAndroid
    
    Fix for MockWebServer on Android

commit 0b69d29ba144f5dd5673d42f797cefc07b2489d3
Author: Neil Fuller <nfuller@google.com>
Date:   Thu Jan 15 10:37:00 2015 +0000

    Fix for MockWebServer on Android
    
    On Android L (and probably prior releases) it is necessary to
    close a socket explicitly rather than relying on
    InputStream/OutputStream to do it for you.
    
    See bug here: https://code.google.com/p/android/issues/detail?id=97564

commit c7803020b5116f6ccb234beead7d2b42bdcb3920
Merge: 1551f50 6e3fc45
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jan 14 15:24:54 2015 -0500

    Merge pull request #1324 from nfuller/1208FollowUpFixes
    
    Follow up fixes from pull request 1208

commit 6e3fc45ebfca18395b2f74bd5a9aac4d8b5a60de
Author: Neil Fuller <nfuller@google.com>
Date:   Wed Jan 14 14:02:24 2015 +0000

    Follow up fixes from pull request 1208
    
    Based on comments made during the review.

commit 3a65dcd37bcc46916eab37f340298ab9e1ca49dc
Author: Neil Fuller <nfuller@google.com>
Date:   Thu Jan 8 15:23:01 2015 +0000

    Fix ResponseCache handling for Android usecases
    
    Including the code in
    okhttp-android-support/src/test/java/com/squareup/okhttp/android
    provides easy verification of API or behavior changes that might
    affect Android.
    
    There are some small JavaApiConverter improvements.

commit 1551f50f99c52612cb97e5b49b7b0c19cef814ca
Merge: 14732f2 e3d39f7
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Tue Jan 13 18:42:14 2015 -0500

    Merge pull request #1323 from square/jwilson_0113_clean_shutdown
    
    Hurry up connection pool shutdown.

commit e3d39f7ec069ad49bac7c59c2f2384dd2adf71dd
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Jan 13 18:33:37 2015 -0500

    Hurry up connection pool shutdown.
    
    Closes https://github.com/square/okhttp/issues/1306

commit 14732f25acec4de18730529c4f4383759fb0db0e
Merge: 2c3cd09 e97bb77
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 13 18:17:23 2015 -0500

    Merge pull request #1317 from ajwhite/bugfix/delete-request-body
    
    Bugfix - Optional DELETE RequestBody via Request.Builder

commit 2c3cd09a61fe09b896d3370b16f317704755556f
Merge: 6716888 285ac49
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 13 18:15:02 2015 -0500

    Merge pull request #1322 from nfuller/FixFallbackTlsExtensions
    
    TLSv1 supports TLS extensions so they should be enabled

commit 6716888cb035573e7adbd2b2445e8841d80e9a1a
Merge: 2f50252 9877d1b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 13 18:12:50 2015 -0500

    Merge pull request #1320 from nfuller/FixMockWebServerOnAndroid
    
    Modify the way MockWebServer selects a host IP to bind to

commit 2f50252df4adc9462e310f393c8d10d81ec80f26
Merge: ef4e9b9 c9b0262
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 13 17:12:26 2015 -0500

    Merge pull request #1312 from nfuller/PullOutAndroidSupport
    
    Create a new maven artifact to hold things needed for Android embedding

commit ef4e9b99d33598d525bef704d59aa7dc403997f6
Merge: bd83d72 52454c6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 13 17:09:54 2015 -0500

    Merge pull request #1299 from nfuller/ConnectionRouteSelection2
    
    Refactoring: Make RouteSelector independent of Connection

commit bd83d72b95bd5568458092ea0fa5449849ee3d0f
Merge: 6a95936 f695ea7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 13 16:51:00 2015 -0500

    Merge pull request #1208 from nfuller/CipherSuiteSocketDefaultRevert
    
    Modify the cipher suite / TLS version selection behavior

commit 285ac49b6ac37475e6efd12f3f8971724c9fe4c0
Author: Neil Fuller <nfuller@google.com>
Date:   Tue Jan 13 14:59:27 2015 +0000

    TLSv1 supports TLS extensions so they should be enabled
    
    Follow up to:
    https://github.com/square/okhttp/pull/1196.
    
    Combined with an NPN bug (18705877) on Android this is the
    reason why fallback connections started failing on Android
    after the COMPATIBLE_TLS was changed to be TLSv1.
    
    [The NPN bug means that once enabled on a socket from an
    SSLContext then NPN must be configured for every subsequent
    socket otherwise some of the NPN state will still be set,
    but some will be missing, leading to negotiation issues].
    
    The implication of this change is that the follow up request
    after a handshake failure may now be HTTP/2 or SPDY
    (or HTTP/1.1). Previous to this change they would always
    have been HTTP/1.1.
    
    Previous to pull 1196 they would also have been
    HTTP/1.1 because COMPATIBLE_TLS was SSLv3.

commit 6a959365c9899db8f93334419ccfda8d3fcfdc5e
Merge: b9b06e1 6a5a61a
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Tue Jan 13 09:01:43 2015 -0500

    Merge pull request #1321 from nfuller/FixCallTestOnAndroid
    
    Fix the user agent test so it works with a different user agent string

commit b9b06e13ddf2e000d6c06f3e4d2dc2612b43c280
Merge: 7282664 62efd91
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Tue Jan 13 09:01:03 2015 -0500

    Merge pull request #1315 from square/jw/move-string-helpers
    
    Move stringy test methods to test class.

commit 62efd9184c86aeafd503119a3e5721921b941aba
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Jan 12 17:37:57 2015 -0500

    Move stringy test methods to test class.

commit 6a5a61a47a6a54c2ecffe54a234301cf4508d370
Author: Neil Fuller <nfuller@google.com>
Date:   Tue Jan 13 13:48:26 2015 +0000

    Fix the user agent test so it works with a different user agent string
    
    The important thing is that the Version.userAgent() string is used and
    not the exact string.

commit 9877d1b4daeef0d1409b2bdc1fd5d7a71b320cff
Author: Neil Fuller <nfuller@google.com>
Date:   Tue Jan 13 10:03:02 2015 +0000

    Modify the way MockWebServer selects a host IP to bind to
    
    On Android getByName(null) returns the first of
    [IPv6 loopback, IPv4 loopback], binding the server to ::1.
    The IPv6 loopback address returns "localhost". "localhost"
    does not resolve to the IPv6 address.
    
    Instead: explicitly select "localhost" ensuring
    MockWebServer binds to an IP that can be looked up by name
    and should also be a loopback address.

commit 7282664d97f750e02332c475038fbffc57b8dee2
Merge: 6910936 f7de645
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 13 08:14:59 2015 -0500

    Merge pull request #1316 from square/jw/skip
    
    Empty sinks must still honor the contract by consuming the bytes.

commit e97bb77a0efc057e47e1692fdf7f858bdbdb65ed
Author: Atticus White <contact@atticuswhite.com>
Date:   Mon Jan 12 19:50:08 2015 -0500

    adds optional request body for DELETE requests to ammend #610

commit f7de645ded33835ecf499ae5db724816bd5e34a2
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Jan 12 18:25:33 2015 -0500

    Empty sinks must still honor the contract by consuming the bytes.

commit 6910936dd31fb84aae478dfb9f6a5c8a110605d6
Merge: 78c493e 99f2baf
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon Jan 12 06:25:24 2015 -0800

    Merge pull request #1313 from nfuller/FixDiskLruCacheAfterInit
    
    Fix isClosed() when a cache has not been initialized

commit 99f2bafe1c0abb2791131dde5a702d3bb3ba28f3
Author: Neil Fuller <nfuller@google.com>
Date:   Mon Jan 12 12:01:30 2015 +0000

    Fix isClosed() when a cache has not been initialized
    
    isClosed() now means "has close() been called", after
    commit ea565b2e30e15cd52ddfc2ddc6db4ea8f1c3de88
    it meant "has not been initialized or close() has been
    called".
    
    Introduced explicit closed state. Minor tweak to use
    initialized state to determine whether cleanup will
    do anything. Added a test.

commit c9b0262c4006f4d547726c03d5717bf53f6f4188
Author: Neil Fuller <nfuller@google.com>
Date:   Mon Jan 12 10:50:18 2015 +0000

    Create a new maven artifact to hold things needed for Android embedding
    
    okhttp-android-support contains classes needed for Android embedding and
    not for normal OkHttp development. The classes here can be excluded from
    okhttp-urlconnection, shrinking that artifact. More classes will be
    added to this component to make Android maintenance easier.

commit 78c493e337ff138a45050c98173b4adaefe3c1f4
Merge: 510af4e ea565b2
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Jan 11 13:32:58 2015 -0800

    Merge pull request #1310 from square/jw/lazy-cache
    
    Lazily initialize the cache.

commit ea565b2e30e15cd52ddfc2ddc6db4ea8f1c3de88
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 11 02:47:46 2015 -0800

    Lazily initialize the cache.

commit 510af4e491775fe3ca70c244ed9711d674d0c2de
Merge: 933da4a 6ca86d4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 9 11:04:52 2015 -0500

    Merge pull request #1307 from nfuller/IoExceptionOnResponseBody3
    
    Source-incompatible: ResponseBody methods throw IOException

commit 6ca86d4de171d285a0fdc5456d836d323708bbc7
Author: Neil Fuller <nfuller@google.com>
Date:   Fri Jan 9 13:56:31 2015 +0000

    Source-incompatible: ResponseBody methods throw IOException
    
    This is a binary-compatible change, but code that currently calls
    ResponseBody [contentLength()|byteStream()|source()|charStream()]
    that doesn't necessarily catch or declare IOException will need
    to with this change.
    
    These methods could be performing I/O (opening streams, etc.).
    Throwing IOException seems reasonable in this case.
    
    contentType() and charset() have not been changed.

commit 933da4a4305620ceb3b91ee26ff5e5d9487b7319
Merge: 6f1af29 c46b61d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jan 7 19:32:35 2015 -0500

    Merge pull request #1297 from square/jw/mock-headers
    
    Use 'Headers' in recorded response.

commit f695ea7f23e1df67aa28756da47b39b0a42cddfd
Author: Neil Fuller <nfuller@google.com>
Date:   Tue Dec 16 11:31:15 2014 +0000

    Modify the cipher suite / TLS version selection behavior
    
    Motivation 1: Cipher selection and TLS protocol version selection
    should be performed over "enabled", not "support" values. Otherwise,
    ciphers / protocols that are disabled by default are re-enabled.
    Android would like to avoid enabling values that are considered unsafe
    and are disabled by the platform, apps or GMS core.
    
    Motivation 2: Opinionated cipher suite selection makes sense for
    OkHttp when bundled with apps. OkHttp probably has the best/newest
    information available when compared with the socket factory it
    encounters.
    
    However, with the Android platform usecase the socket factory (i.e.
    one from the platform, from GMS core, or installed by the app) might
    have better information (or reasons why specific suites should not be
    used and so it modifies the "enabled" set). Android would therefore
    prefer OkHttp to select from a default set specified by the socket
    factory, not a list hard-coded at release time.
    
    Unlike ciphers, for protocols there is no current need to
    go with the default enabled set so supporting "null" / "use default"
    is not required for protocols.
    
    Other change:
    
    The ConnectionSpec caching (see supportedSpec) has been removed from
    ConnectionSpec. This seems like an risky optimization to me in an
    environment where different SocketFactory instances could be encountered
    and doing it properly seems costly and of limited benefit.

commit 6f1af291424937352bb8be2cd76132a01ffa2f9f
Merge: 5f44ca7 4ab6a82
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 6 14:52:15 2015 -0500

    Merge pull request #1298 from square/jw/no-one-used-this
    
    Remove old SSL protocol method.

commit 52454c61993e4d4376d429652104ae404503c3ad
Author: Neil Fuller <nfuller@google.com>
Date:   Tue Jan 6 11:57:34 2015 +0000

    Refactoring: Make RouteSelector independent of Connection
    
    Ultimate goal: to improve the TLS fallback behavior so that
    socket connections will not be created if the necessary
    TLS protocols will not be supported.
    
    To achieve this RouteSelector will be moved into Connection
    and so that it can be passed the Socket or protocol information
    during the route selection process.
    
    This is a small first step: Make RouteSelector independent
    of Connection so that it can later be moved inside of
    Connection. It puts the RouteSelector interface in terms
    of Routes, which seems logical.

commit 4ab6a8258b0df3a3528029f810e1f48952dba2d7
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Jan 5 22:41:54 2015 -0800

    Remove old SSL protocol method.

commit c46b61d56533d392246ef2884b9a6e552cd6b94c
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Jan 5 22:16:25 2015 -0800

    Use 'Headers' in recorded response.

commit 5f44ca768e0ce146896e375fd2658585e6bcca8e
Merge: f84c2c0 8f54a48
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon Jan 5 10:09:22 2015 -0800

    Merge pull request #1289 from square/jw/time-unit
    
    Clean up time-based APIs for throttle and delay.

commit 8f54a48ea5397e70bb81155e298f83a6b18623e5
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 4 22:35:14 2015 -0800

    Clean up time-based APIs for throttle and delay.

commit f84c2c022ae20a30a20231025259bd6063da17d2
Merge: a5e13bd 5355762
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 5 10:32:51 2015 -0500

    Merge pull request #1290 from square/jw/start
    
    Rename play to start.

commit a5e13bd335764b78baa62fdf984241e4626d3c95
Merge: 58dff54 da95a56
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 5 10:31:57 2015 -0500

    Merge pull request #1292 from square/jw/more-long
    
    Time amounts should be longs.

commit 58dff54d1e6ede53f332db8153d48f9bdb5762b0
Merge: 4ae1b23 9d4b4d9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 5 10:31:32 2015 -0500

    Merge pull request #1293 from square/jw/zero
    
    Take no action if transferring zero bytes.

commit 4ae1b239538c00790ff512530bec05d99836316a
Merge: 0dadd04 43abb40
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 5 10:30:40 2015 -0500

    Merge pull request #1291 from square/jw/long-limit
    
    Body limit should be long.

commit 0dadd042c1d7b8560704ca1bd7716778699b90dc
Merge: 6763803 c5c4e78
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 5 10:30:06 2015 -0500

    Merge pull request #1295 from square/jw/mock-response-headers
    
    Expose Headers directly on MockResponse.

commit c5c4e7857cb25af822b9b3b1fbd158cbd168f48a
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Jan 5 00:40:16 2015 -0800

    Expose Headers directly on MockResponse.

commit 6763803c3db5be1231eedc5927bd6d0a354f21d6
Merge: ddbf236 8e20129
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon Jan 5 00:27:30 2015 -0800

    Merge pull request #1270 from square/jw/mock-web-headers
    
    Update MockWebServer to use Headers.

commit 8e201297fe9e6b5c908848c3cef633966e49c0d9
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jan 2 12:17:26 2015 -0800

    Update MockWebServer to use Headers.

commit 5355762a6f90e3ac5f3bfe4d2e8e2b862f91d21b
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 4 22:50:40 2015 -0800

    Rename play to start.

commit 9d4b4d9aead6b11f260c34862f0d63e28c016185
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 4 23:06:44 2015 -0800

    Take no action if transferring zero bytes.
    
    This removes the logic from inside the loop for much better readability.

commit da95a56de7435bffcf9b8cf2e9494b2b0d209cf9
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 4 22:56:13 2015 -0800

    Time amounts should be longs.

commit 43abb40f6a3088f3092497eed73c75a0939d0fcd
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 4 22:53:05 2015 -0800

    Body limit should be long.

commit ddbf23693a13ca743acb8acd844b73822e13fdd3
Merge: 00a6bff 9a5670b
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Jan 4 22:05:58 2015 -0800

    Merge pull request #1286 from square/jw/response-body-source
    
    Change MockResponse body to Source.

commit 9a5670beecbf43dd34f730299c609cce9fc7dff7
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 4 17:50:37 2015 -0800

    Change MockResponse body to Source.

commit 00a6bfff47f24fbf07bb068425538f3356e0dcdf
Merge: e2d5bd7 6f232fd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 5 01:04:06 2015 -0500

    Merge pull request #1287 from square/jw/long-deprecated
    
    Remove long-deprecated peek API.

commit e2d5bd72d9745bb4f2e967ce214a317428b209c0
Merge: a13597e cc7a265
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 5 01:03:46 2015 -0500

    Merge pull request #1288 from square/jw/javadoc
    
    Correctly link to OkHttp and Okio javadoc.

commit cc7a26574d203121a5abe46f168521b0e5b366f0
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 4 21:51:41 2015 -0800

    Correctly link to OkHttp and Okio javadoc.

commit 6f232fdb6d11e8d030a6c986faf95636cd71f569
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 4 21:40:57 2015 -0800

    Remove long-deprecated peek API.

commit a13597e92d4b0d1b7cf3c7f484d7818232aa805f
Merge: 7dcdb51 36b844c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 4 20:37:54 2015 -0500

    Merge pull request #1285 from square/jw/pom-poms
    
    Remove ALPN jars from dependencies block.

commit 36b844cef550ec834045a7a50440e2d49ede9cf7
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 4 17:21:28 2015 -0800

    Remove ALPN jars from dependencies block.
    
    These aren't needed since the full dependency is declared directly on the plugin below.

commit 7dcdb51616ef29e9b8d857069731e74328e87b73
Merge: 607fb15 7a279cb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 4 20:13:03 2015 -0500

    Merge pull request #1283 from square/jw/cache-control-cache-value
    
    Make cache-control remember its header value.

commit 7a279cb3853415671f79fd47de72eef837950bfa
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 4 03:01:37 2015 -0800

    Make cache-control remember its header value.

commit 607fb15ab3e45c1933bd815b8c2bede8b937468f
Merge: 7000edd f6c3ab9
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Jan 4 13:57:46 2015 -0800

    Merge pull request #1282 from square/jw/sources-and-sinks
    
    Use Sources and Sinks for all IO.

commit f6c3ab9b16d1026d810a84c33f5476b26be5cd8d
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 4 02:42:16 2015 -0800

    Use Sources and Sinks for all IO.

commit 7000edd2b827545f1c0d9189d9a24b6d7be0826b
Merge: 16e2b0d 8b0bdf3
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Jan 4 00:58:28 2015 -0800

    Merge pull request #1280 from square/jw/mws-ws
    
    Teach MockWebServer to speak WebSockets.

commit 8b0bdf3155c7c2d656cb158493118e9ccfae1009
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jan 3 03:04:59 2015 -0800

    Teach MockWebServer to speak WebSockets.

commit 16e2b0dcad08b6d45da4b235f320a9003e403308
Merge: b32df4c f8c35e8
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Jan 3 00:57:57 2015 -0800

    Merge pull request #1279 from square/jw/public-read
    
    Make readMessage public for future MWS usage.

commit f8c35e8ce3bae20d234e7cc37f644c71a93c9e03
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jan 3 00:56:42 2015 -0800

    Make readMessage public for future MWS usage.

commit b32df4c18b36caddc958e3e0873eee7a6aa106a8
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 3 00:48:13 2015 -0500

    Bump README dependency to 2.2.

commit 04e530ad0b75f05f057e5990a631578eb0fcdc2c
Merge: 5123b3d 7361b9a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 3 00:37:42 2015 -0500

    Merge pull request #1276 from square/jw/temp-folder
    
    Prefer JUnit rules for temporary folders, MockWebServer.

commit 5123b3db48cb82404de47a88775d7dcb545788a0
Merge: f130793 96dec38
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Fri Jan 2 18:49:42 2015 -0800

    Merge pull request #1224 from square/jw/copy
    
    Use native Okio copy for retrying.

commit 96dec382e2369b54fe08890f849ab996a59507fd
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Dec 22 23:34:43 2014 -0800

    Use native Okio copy for retrying.

commit 7361b9a141622818623fe6b0ee49c44c2ef6935b
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jan 2 17:24:34 2015 -0800

    Prefer JUnit rules for temporary folders, MockWebServer.

commit f130793f0912a3a920acea0897963986285eea64
Merge: 0e7acdd 6a7dfe8
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Fri Jan 2 16:39:20 2015 -0800

    Merge pull request #1275 from square/jw/skip-alloc
    
    Skip allocating a wrapper list for copying.

commit 6a7dfe80bc99ba7cb23cf1daa6a25de406e6d965
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jan 2 16:07:27 2015 -0800

    Skip allocating a wrapper list for copying.

commit 0e7acdd2bc03d5f23e03ea9ba23bef24b8931318
Merge: d0ed2bb b2c657b
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Fri Jan 2 15:06:49 2015 -0800

    Merge pull request #1274 from square/jwilson_0102_expect_continue
    
    Test Expect: 100-continue with OkHttp, not HttpURLConnection.

commit b2c657b157cb53fffa87d758c6b646a7e890dd11
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Jan 2 17:54:51 2015 -0500

    Test Expect: 100-continue with OkHttp, not HttpURLConnection.
    
    This test is flaky when relying on the platform's built-in
    HttpURLConnectionImpl.
    
    Instead, test it with OkHttp's API and implementation.

commit d0ed2bb4e3d800b293f7a712a019c11369846e84
Merge: 81dfa43 a8d11ad
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Fri Jan 2 14:36:23 2015 -0800

    Merge pull request #1273 from square/jw/public
    
    Make TlsVersion and CipherSuite parsing methods public.

commit a8d11adf46c1b3d8589c860fbdd5a1c5caffde3e
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jan 2 14:16:03 2015 -0800

    Fix the String representation of TlsVersion for RecordedRequest.

commit c3f5112d992cc54d8e1e9a5bb9f28a5b362af988
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jan 2 14:12:39 2015 -0800

    Make TlsVersion and CipherSuite parsing methods public.

commit 81dfa432bc0dec684c28886e9df81036d10efec7
Merge: 1dc03b7 8b6aa0d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 2 17:21:21 2015 -0500

    Merge pull request #1272 from square/jw/buffer-mws
    
    Use a Buffer for body contents.

commit 8b6aa0dca55576a54e69fec59f40ddfaa3561adb
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jan 2 13:55:45 2015 -0800

    Use a Buffer for body contents.

commit 1dc03b7dd4966fca4fc015ea9d227da0e825d9e9
Merge: 9b05d82 4a3226a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 2 16:51:31 2015 -0500

    Merge pull request #1271 from square/jw/tee-el-ess
    
    Use TlsVersion enum for recorded requests.

commit 4a3226a711d2a156ac3becf40b184ab62cec8e47
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jan 2 13:43:13 2015 -0800

    Use TlsVersion enum for recorded requests.

commit 9b05d82d035e08dec367214158d852ebc1151f0e
Merge: db94475 c202640
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Fri Jan 2 12:45:41 2015 -0800

    Merge pull request #1267 from square/jw/headers-add-line
    
    Promote adding headers by line to public API.

commit c202640e12abcf7499e5bee9a216f575b86cf028
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Jan 1 23:56:18 2015 -0800

    Promote adding headers by line to public API.

commit db944750a7488ef945b0436143c2f15866ab1cb3
Merge: d491937 a9a1f73
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 2 15:34:14 2015 -0500

    Merge pull request #1269 from square/jw/comment-fix
    
    Correct comment.

commit a9a1f736b1ebbe2d44de570343685241db62600e
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jan 2 12:19:33 2015 -0800

    Correct comment.

commit d4919370124b8feb74ba04101cc02018927c8785
Merge: afbcd97 7049b29
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Fri Jan 2 10:53:19 2015 -0800

    Merge pull request #1268 from square/jwilson_0102_name_threads
    
    Always include OkHttp in thread names.

commit 7049b29fd5a1c1a3a187ae8a1434640818827b4d
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Jan 2 13:45:30 2015 -0500

    Always include OkHttp in thread names.

commit afbcd979827f93d3c503cb4455c4804e5a5d8a8d
Merge: 7756c4e 9631227
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jan 1 12:55:48 2015 -0500

    Merge pull request #1260 from square/jw/websocket-call
    
    Add a web socket call concept for connecting.

commit 9631227619ffe9497c67d92d20428682e5df8862
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Dec 2 00:09:47 2014 -0800

    Add a web socket call concept for connecting.
    
    Similar to HTTP and Call, the WebSocketCall is a representation of a pending HTTP request and subsequent upgrade to speak web sockets. Upon synchronous execution you are handed a WebSocket instance for synchronous writing and also pass in a WebSocketListener for async callbacks due to reading.
    
    The API changes in this commits also generalize WebSocket such that it's agnostic to being a client or server peer.

commit 7756c4e4fe1cd703cff07d218da2fecb30f916c6
Merge: 5527a17 31ec212
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 31 15:08:41 2014 -0500

    Merge pull request #1264 from square/jw/kill-two-allocations
    
    Skip buffer allocation when not needed.

commit 31ec212f84edbe04b9b705f521ed7dc3bd7ddc3a
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Dec 31 10:22:40 2014 -0800

    Skip buffer allocation when not needed.

commit 5527a1764d973d293faffe31faddf205e3f37641
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Dec 31 12:48:23 2014 -0500

    We now fall back to TLS 1.0.

commit 2ca6dfd055d480a4ef3520af39ad4b7ba02d5491
Merge: bfa25f0 6909923
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 31 10:42:47 2014 -0500

    Merge pull request #1263 from ChristianBecker/patch-1
    
    Update CHANGELOG.md

commit 6909923b89d98fef39600a170aa50e566dbb730a
Author: Christian Becker <christian.becker.1987@gmail.com>
Date:   Wed Dec 31 16:19:12 2014 +0100

    Update CHANGELOG.md

commit bfa25f05bd5786c990fccb513f56375a4f98d95b
Merge: 1d86439 ec57220
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 31 09:03:21 2014 -0500

    Merge pull request #1262 from square/jw/unused
    
    Remove unused method.

commit ec572201658b566373845657a8aca7bc6d6214a4
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Dec 30 22:21:57 2014 -0800

    Remove unused method.

commit 1d86439e9064a223db49dcd08f48bf7f772f1f27
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Dec 30 21:52:35 2014 -0500

    [maven-release-plugin] prepare for next development iteration

commit 6aef5ab3c5dd964156be8e3a2501ff740dda1516
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Dec 30 21:52:33 2014 -0500

    [maven-release-plugin] prepare release parent-2.2.0

commit 487c7545b6b7280c40f5300ee5a8effc84751b87
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Dec 30 21:46:57 2014 -0500

    Bump Okio dependency to 1.2.0.

commit 8b61d49c3ce21f34baffacefb17e4201e69525c7
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Dec 30 20:30:51 2014 -0500

    2.2.0 changelog.

commit 8f3cae8cda0887602c7ba12060f0ca5194395353
Merge: 24750b5 786e3b3
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Tue Dec 30 17:42:27 2014 -0800

    Merge pull request #1259 from square/jwilson_1230_fail
    
    New API to disable retry for an OkHttpClient.

commit 786e3b3048b84721c73a046b02a9edcbb6927686
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Dec 30 15:00:38 2014 -0500

    New API to disable retry for an OkHttpClient.
    
    Most applications won't want to disable retry globally. Instead, use
    clone() to get an OkHttpClient for a specific, non-idempotent request,
    then configure that client with the setting.
    
    Closes https://github.com/square/okhttp/issues/1043

commit 24750b59c4a06e77635cec6ce6999c3db86ff7e4
Merge: 95bed2b e49dd7a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 30 17:18:44 2014 -0500

    Merge pull request #1256 from square/jwilson_1230_followup
    
    Limit 20 authorization attempts.

commit e49dd7a2f08deac92fab3de2b8a63e90b588f746
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Dec 30 09:37:30 2014 -0500

    Limit 20 authorization attempts.
    
    We use one count for both redirects and authorization attempts. This
    seems like good enough policy.
    
    Closes https://github.com/square/okhttp/issues/960

commit 95bed2b427b373d9437519c4e46bff4ad852ac63
Merge: b6a8da4 dcbb199
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 30 12:07:59 2014 -0500

    Merge pull request #1257 from square/jwilson_1230_timeouts
    
    Don't recover from timeouts.

commit dcbb199247b58cc620afedcf834689b933390fe4
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Dec 30 10:35:57 2014 -0500

    Don't recover from timeouts.
    
    Closes https://github.com/square/okhttp/issues/1146

commit b6a8da414b7a584d824258e64b38cb487c315fb2
Merge: 64f2af8 1d6f0e7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 29 19:29:29 2014 -0500

    Merge pull request #1254 from square/jwilson_1229_opt_into_caching
    
    Cache 302s and 308s with the right response headers.

commit 1d6f0e75d599e2cb02f0fe182f7dbf966cd5cb2b
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Dec 29 17:54:27 2014 -0500

    Cache 302s and 308s with the right response headers.
    
    Closes https://github.com/square/okhttp/issues/1158

commit 64f2af812bef505b6cbc1693aa8b504d9dbbb42e
Merge: 36be8ff a409634
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 29 18:40:52 2014 -0500

    Merge pull request #1252 from square/jwilson_1229_iterate_http_cache
    
    New APIs to iterate the response cache.

commit a409634d3653f494413366f875b25bb6f7daf266
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Dec 29 17:19:41 2014 -0500

    New APIs to iterate the response cache.
    
    Closes https://github.com/square/okhttp/issues/853

commit 36be8ff2ea3ac010ac95195e26955f1c1228a2d1
Merge: 452b319 c6503d2
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon Dec 29 11:33:08 2014 -0800

    Merge pull request #1251 from square/jwilson_1229_setReuseAddress
    
    Don't reuse ephemeral port numbers.

commit 452b3190b28d94f8b838459f9e4d6d1a67f3a3ec
Merge: a41ac50 755bd91
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 29 14:30:26 2014 -0500

    Merge pull request #1250 from square/jwilson_1229_cache_iterator
    
    New API for iterating DiskLruCache contents.

commit c6503d260419fd3a042830c85ec492a4b37cac62
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Dec 29 14:25:23 2014 -0500

    Don't reuse ephemeral port numbers.
    
    MockWebServer was reusing port numbers, and this was causing tests
    to be flaky in some situations.

commit 755bd91f75ea56d8df25148509601d29a04a756b
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Dec 29 13:03:38 2014 -0500

    New API for iterating DiskLruCache contents.
    
    For https://github.com/square/okhttp/issues/853

commit a41ac50bbf300bb883df99dc6d03c04f689bb2e4
Merge: f1a27df 98c74ac
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon Dec 29 09:56:09 2014 -0800

    Merge pull request #1249 from square/jwilson_1228_evict
    
    Respect the max idle connections limit.

commit 98c74ace40b089f2769afb3e56c59a64eef327cb
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Dec 28 21:33:03 2014 -0500

    Respect the max idle connections limit.
    
    The structure here is a bit ugly. But it permits a single 'synchronized'
    block, which makes the method easier to reason about.
    
    Closes https://github.com/square/okhttp/issues/1239

commit f1a27df8f9a895f6ef7c1e718e09c65726161a26
Merge: 29ec4f3 3997163
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Dec 28 12:07:33 2014 -0500

    Merge pull request #1248 from square/jwilson_1227_socks
    
    Support SOCKS proxies.

commit 39971631fe865fefe1524a6b1cc5b9f24884ef88
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Dec 27 22:29:56 2014 -0500

    Support SOCKS proxies.
    
    The trickiest part of this change is the SOCKS 5 proxy implemented
    to make testing possible. Fortunately the protocol is very easy, and
    shows off Okio.
    
    Closes https://github.com/square/okhttp/issues/1009

commit 29ec4f3e8d06f6a635aa04207ec3a26f9c43cbc2
Merge: 88aad09 0de100d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Dec 27 20:06:15 2014 -0500

    Merge pull request #1247 from square/jwilson_1227_proxyselector
    
    Fix pooling with proxy selectors.

commit 0de100dc1ebef241a1d2afc6a544c8e65090217b
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Dec 27 18:40:11 2014 -0500

    Fix pooling with proxy selectors.
    
    Previously two OkHttpClients that shared a connection pool but
    used different proxy selectors could incorrectly share the
    pooled addresses.
    
    Closes https://github.com/square/okhttp/issues/1149

commit 88aad09806168b010e2a58aa272a8bd5363f249b
Merge: 0dcf5d9 5f86973
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Dec 27 14:51:59 2014 -0500

    Merge pull request #1244 from square/jwilson_1227_fix_alpn_leak
    
    Always call ALPN.remove() after handshake.

commit 0dcf5d9586c931151e64e91271a0cd042c9e8aa7
Merge: 284601b 03bb6be
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Dec 27 11:44:55 2014 -0800

    Merge pull request #1246 from square/jwilson_1227_update_alpn
    
    Update ALPN.

commit 5f8697391232573026bf0d06b5501957b6c480fe
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Dec 27 13:03:42 2014 -0500

    Always call ALPN.remove() after handshake.

commit 03bb6befe2867d69f631c2ef03c92b1d5a9e47e7
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Dec 27 14:33:51 2014 -0500

    Update ALPN.
    
    This may fix flakiness in CallTest.matchingPinnedCertificate

commit 284601bb24160d55daa1510dca886cba14e18943
Merge: 050eb79 785d9e9
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Dec 27 10:51:18 2014 -0800

    Merge pull request #1245 from square/jwilson_1227_use_rule
    
    Use MockWebServerRule in more tests.

commit 785d9e94387f404f571775a49c3a9438508bb659
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Dec 27 13:05:33 2014 -0500

    Use MockWebServerRule in more tests.
    
    Also fix a bug in MockWebServer where calls to shutdown()
    raced with calls to play() would throw a NullPointerException.
    
    Also improve logging in MockWebServer.

commit 050eb79163c2ab185461baf9cdb307cfb7d26a91
Merge: 58baa85 9559348
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Dec 26 18:13:28 2014 -0500

    Merge pull request #1243 from square/nfuller_ChangeAlpnNpnSupport
    
    Nfuller change alpn npn support

commit 955934836fc466d93d6e41d1ff9391d9e5b3f09a
Merge: 8cf76d0 4d06821
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Dec 26 18:12:57 2014 -0500

    Merge remote-tracking branch 'nfuller/ChangeAlpnNpnSupport' into nfuller_ChangeAlpnNpnSupport
    
    * nfuller/ChangeAlpnNpnSupport:
      Remove NPN support from OkHttp
    
    Conflicts:
    	okhttp/src/main/java/com/squareup/okhttp/Protocol.java
    	pom.xml

commit 58baa85208d4a4151352096a8dec1029a229bba0
Merge: 8cf76d0 0a4e510
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Fri Dec 26 03:09:53 2014 -0800

    Merge pull request #1236 from square/jwilson_1225_response_body
    
    Source-incompatible: RequestBody.contentLength() throws IOException

commit 8cf76d019a9d94383a2dbd13a5dcc0eb1c91f5d9
Merge: 9f5951b 8c7c963
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Dec 26 01:21:10 2014 -0500

    Merge pull request #1238 from square/nfuller_FixPoolLeak
    
    Nfuller fix pool leak

commit 8c7c963c24c3e347fd0d0fd641c27058d4eadc2c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Dec 26 01:20:26 2014 -0500

    Fix some checkstyle issues in nfuller's ConnectionPool fix.

commit 0d8704e252b4a4d43caa63d0d14d9e31bc91ce56
Merge: 9f5951b a8327d1
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Dec 26 01:15:51 2014 -0500

    Merge remote-tracking branch 'nfuller/FixPoolLeak' into nfuller_FixPoolLeak
    
    * nfuller/FixPoolLeak:
      Fix for a socket leak in OkHttp on Android
    
    Conflicts:
    	okhttp-tests/src/test/java/com/squareup/okhttp/ConnectionPoolTest.java
    	okhttp/src/main/java/com/squareup/okhttp/ConnectionPool.java

commit 9f5951b3112d3f84e84d597af6871081a0b90b43
Merge: 3f8aa8c 67ac248
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Dec 26 00:45:39 2014 -0500

    Merge pull request #1225 from square/jw/roundabout-kill
    
    Increase determinism in DiskLruCache tests.

commit 0a4e510a94a3c8583c9348f8a90772b4e4bd7c8d
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Dec 25 23:43:48 2014 -0500

    Source-incompatible: RequestBody.contentLength() throws IOException
    
    This is a binary-compatible change, but code that currently calls
    RequestBody.contentLength() doesn't necessarily catch or declare
    IOException, and will need to with this change.
    
    MultipartBuilder is most impacted by this change; previously the
    length was computed eagerly; now it's not computed at all.
    Applications that require the previous behavior should fully
    buffer the request bodies and use that to compute the length.
    
    Closes https://github.com/square/okhttp/issues/1141

commit 3f8aa8c8b0f1f0784a5daa6e7049440e3e2fe37a
Merge: e536bca 0e199f6
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Thu Dec 25 18:21:37 2014 -0800

    Merge pull request #1235 from square/jwilson_1225_fix_npe
    
    Don't NPE if disconnecting before connecting.

commit 0e199f608909793892b7883614c0d20a94c27916
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Dec 25 21:05:33 2014 -0500

    Don't NPE if disconnecting before connecting.
    
    Closes https://github.com/square/okhttp/issues/1191

commit e536bca6d7b2eb64054ee9845ca43dab19b020a7
Merge: bc19cea 4ef805f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 24 22:12:59 2014 -0500

    Merge pull request #1234 from square/jw/musings
    
    Remove some needless allocations.

commit 4ef805fa1d9f7451a0a8498d03c45c289c3703e1
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Dec 24 15:47:10 2014 -0800

    Remove some needless allocations.
    
    These individually do not contribute a lot, but as a whole end up being seen on allocation tracker.

commit bc19ceac95dc91f8e5d3ce0a757189723443edf7
Merge: aa84d51 8e0a87a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 24 16:51:40 2014 -0500

    Merge pull request #1233 from square/jw/speedy
    
    Use a name more appropriate for both SPDY and HTTP/2 connections.

commit 8e0a87a37436b645481b58216df84f01fed10d3e
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Dec 24 13:45:54 2014 -0800

    Use a name more appropriate for both SPDY and HTTP/2 connections.

commit aa84d51fb255d2cc672dc36ea297287746dec4d8
Merge: e1ac28c 1cabb0f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 24 15:04:16 2014 -0500

    Merge pull request #1231 from square/jw/test-method
    
    Move method to test module, its only place of use.

commit e1ac28c358424ec837314f0c484f35dfc948c387
Merge: 37769fb 15c81fd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 24 15:02:40 2014 -0500

    Merge pull request #1229 from square/jw/be-lazy
    
    Normalize caching size in loop-local variable.

commit 1cabb0f58eac514bdd4528af6791d04cf936a05b
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Dec 24 12:02:29 2014 -0800

    Move method to test module, its only place of use.

commit 37769fbf4fd0655b6ae0ff860bf527b331a1291b
Merge: 16f0ac0 cd6ee52
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 24 15:01:29 2014 -0500

    Merge pull request #1230 from square/jw/read-fully
    
    Use Okio's readFully(byte[]) instead of custom implementation.

commit 16f0ac0099a512585d95275a85a3118a3322f179
Merge: 14ce397 3cd57ac
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 24 15:00:53 2014 -0500

    Merge pull request #1228 from square/jw/never-null
    
    Version header is always present.

commit cd6ee52eac889031b8acef951fce61a69e28d876
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Dec 24 11:57:23 2014 -0800

    Use Okio's readFully(byte[]) instead of custom implementation.

commit 3cd57ac7ce755afa51835ad1961ce380929f3921
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Dec 24 11:33:41 2014 -0800

    Version header is always present.

commit 15c81fdfc2ba4ecfbadac5a7ec73fcc61f6624bc
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Dec 24 11:33:14 2014 -0800

    Normalize caching size in loop-local variable.
    
    This was present in a bunch of loops, but not all and not consistently. After fixing two, I figured that I would normalize them all under the umbrella of uniformity and being lazy (only lookup up the value once if it never changes).

commit 14ce397c11aa5e6fd2ee659387d91a9447d8fef4
Merge: 971bdaf 94db3ce
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 24 11:58:38 2014 -0500

    Merge pull request #1227 from square/jwilson_1224_interceptor_samples_ii
    
    Two more interceptor examples.

commit 94db3ceb0c071a2d0f91f4e25e1bcd1b2285e41e
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Dec 24 11:33:22 2014 -0500

    Two more interceptor examples.

commit 971bdaf5e630e49190c6a30ee3f0f2a4cbafa476
Merge: 1838976 180f657
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Tue Dec 23 18:45:49 2014 -0800

    Merge pull request #1226 from square/jwilson_1223_interceptor_samples
    
    Two interceptor samples.

commit 180f6575735c33247ed3c5a53fab4572b4dd0f3f
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Dec 23 21:32:32 2014 -0500

    Two interceptor samples.

commit 67ac248168089574248b040aee68e378991539c7
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Dec 23 13:05:56 2014 -0800

    Increase determinism in DiskLruCache tests.
    
    This kills a flaky test by dependency injecting the executor and using a test executor as a stronger signal.

commit 18389760910cf1f53bdca98893b2608c238caabc
Merge: 46edb72 41bee9b
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon Dec 22 23:58:32 2014 -0800

    Merge pull request #1223 from square/jwilson_1222_interceptor_tests
    
    More interceptor tests.

commit 41bee9b70dfbe182697e32d2a8ad1f4b2885af02
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Dec 23 00:24:15 2014 -0500

    More interceptor tests.
    
    Test interactions with the response cache and HttpURLConnection.

commit 46edb72d6e4fc19438f3eaeabd7ceb5243ec8c0f
Merge: 4105868 5e62ed0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 22 23:52:47 2014 -0500

    Merge pull request #1221 from square/jw/move
    
    Move a constant to the file of its only use.

commit 4105868693702b70af2343955b12d55fe181c65e
Merge: 16bc428 eec5b4a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 22 23:52:21 2014 -0500

    Merge pull request #1222 from square/jw/small-tweaks
    
    Just some small tweaks.

commit eec5b4a8c942d6468d1f6ba389185116228de63d
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Dec 22 17:06:19 2014 -0800

    Just some small tweaks.

commit 5e62ed01a7e3e04e5411cee897815e7231335619
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Dec 22 16:14:42 2014 -0800

    Move a constant to the file of its only use.

commit 16bc428e2607717a08ce84263b6912e408a78ae8
Merge: 03d1bba 27c6e69
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 22 13:45:31 2014 -0500

    Merge pull request #1220 from square/jwilson_1222_network_interceptors
    
    Network interceptors.

commit 27c6e69c82a8252aed664b4ae6e09e5627778586
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Dec 22 10:50:57 2014 -0500

    Network interceptors.
    
    These exist between the OkHttp features (gzip, response cache, retry, route
    planning, etc.) and the network server. They can be used to rewrite the response
    headers and body from what the server actually returned to what the client wants.
    
    For example, the interceptor could inject a missing 'Cache-Control' header to make
    caching work better.

commit 03d1bbab5299f85559d23f8517a30cd2347c91d2
Merge: c007790 32b7675
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 22 09:35:49 2014 -0500

    Merge pull request #1219 from square/jwilson_1221_responsebody
    
    Use ResponseBody to model the response body everywhere.

commit 32b7675b726a1ca62f5080581f6daaf9b7c6a48e
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Dec 21 23:20:07 2014 -0500

    Use ResponseBody to model the response body everywhere.
    
    This makes cache writing and gzip layering work a bit nicer
    because there are fewer fields in HttpEngine to track the
    various competing streams.

commit c0077904116875f23b5b3c76ca27b3f6142d3d09
Merge: 61c271e e74e3f3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Dec 21 21:33:27 2014 -0500

    Merge pull request #1218 from square/jwilson_1221_move_caching
    
    Move cache writing out of the transport.

commit e74e3f3bf744ef7f4d8ee724a7cf2347e486cfab
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Dec 21 13:25:41 2014 -0500

    Move cache writing out of the transport.
    
    This is necessary to unblock network interceptors, where the interceptor
    may elect to rewrite the response body. If we've already cached the
    original response body, we're too late.

commit 61c271ec61740f2a191fd0dea59ffb6c43872035
Merge: df9001c 53ba84f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Dec 21 11:04:32 2014 -0500

    Merge pull request #1217 from square/jw/mws-style
    
    Update MWS test style to match project.

commit 53ba84f06d7a2e8f209257a3d013af71757157e3
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Dec 21 03:13:55 2014 -0800

    Update MWS test style to match project.

commit df9001cd69cb7fecd5e6144fad1d00a67a46394a
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Dec 20 02:13:47 2014 -0800

    Errors fail the deploy script.

commit 8b657e0d758a5f43c359d895c9e77e58409c1cf8
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Dec 19 23:12:27 2014 -0800

    Post-deploy echo.

commit c32788d11fb3b53454349714d204bf6ccb8f0690
Merge: c2e143c 79d1568
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Fri Dec 19 23:02:28 2014 -0800

    Merge pull request #1214 from square/jw/auto-deploy
    
    Auto-deploy snapshots from Travis CI to Sonatype.

commit 79d1568aec4919bd7a18a28209b2371645a78599
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Dec 19 22:32:39 2014 -0800

    Auto-deploy snapshots from Travis CI to Sonatype.

commit a8327d121b9eeb3b61ae63f06095d423936a5da2
Author: Neil Fuller <nfuller@google.com>
Date:   Fri Nov 28 17:38:53 2014 +0000

    Fix for a socket leak in OkHttp on Android
    
    When the preferred Android network changes from
    cell -> wifi or wifi -> cell the HTTP connection
    pool in use is abandoned to avoid reuse of
    connections on the old network. This was added
    in commit 8bced3e.
    
    The design for the connection pool was such that
    continuous use of the connection pool was required to
    clean up idle / expired connections. If a connection
    pool becomes idle (as when it is dereferenced on a
    network change) it is possible for some connections
    to remain in the pool indefinitely.
    
    After the preferred network change, because the old
    connection pool was no longer referenced the pool
    would be garbage collected and Android's "Strict Mode"
    would complain about sockets not being closed.
    
    The only existing way to avoid this was to call
    "evictAll()", which would have had issues when a
    large number of connections were returned to the pool
    after evictAll() was called. It also wouldn't work
    for SPDY connections which are shared but not reference
    counted, which makes knowing whether it is safe to
    close them difficult.
    
    The cleanModeRunnable serves two purposes:
    
    1) While scheduled / executing, it pins the connection
    pool in memory to avoid it being garbage collected.
    2) It continues to close connections (safely) until the
    pool is empty.
    
    If a connection is then added back to the pool the
    cleanModeRunnable is restarted.

commit c2e143ccd848c79638f566783a3d5674aeec4b99
Merge: 24aa4e8 6ffd38e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 17 15:56:31 2014 -0500

    Merge pull request #1189 from nfuller/EnableScsvFallback2
    
    Adding TLS_FALLBACK_SCSV support

commit 6ffd38e92898d4f02f9a8e5d8ca638bad297fbf9
Author: Neil Fuller <nfuller@google.com>
Date:   Wed Dec 3 10:06:06 2014 +0000

    Adding TLS_FALLBACK_SCSV support
    
    This is to upstream changes made in Android for
    the POODLE vulnerability.

commit 24aa4e897053e7625694fea79e82280ba8acc303
Merge: 6686452 117ebac
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 15 22:44:42 2014 -0500

    Merge pull request #1205 from square/jw/one-one-oh
    
    Update to Okio 1.1.0.

commit 117ebac9e235cf9e614237cd6c246d0dac5e0142
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Dec 15 17:07:21 2014 -0800

    Update to Okio 1.1.0.

commit 6686452408c5ad217bcdf1307e78aa3bfb1dc80d
Merge: 98135b3 01d6836
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 15 19:41:56 2014 -0500

    Merge pull request #1204 from square/jwilson_1215_exception_message
    
    Track exception message changes for the dynamic table.

commit 98135b35f983f62e4ce39f6ee62a210778667911
Merge: 8a04004 b78030a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 15 19:41:19 2014 -0500

    Merge pull request #1194 from mruddy/loopback
    
    mockwebserver: bind specifically to a loopback interface

commit 01d683637d29d804fdeadae68651b0dcb4a923ee
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Dec 15 19:39:46 2014 -0500

    Track exception message changes for the dynamic table.

commit 8a040048643c975acf5c3f73e3c4a0fbb000f5f0
Merge: 9b8afa6 1302835
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 15 19:36:18 2014 -0500

    Merge pull request #1197 from nfuller/FixDisconnectTest
    
    Apply fix for devices with large socket buffers

commit 9b8afa64a302e2b4d62ee87fc13756a40f9f6469
Merge: 09637b6 0ad37ce
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 15 19:28:57 2014 -0500

    Merge pull request #1202 from adriancole/adrian.h2-16
    
    Update to h2-16, hpack-10

commit 0ad37cede4624e3d4764c400b1b46fc195420941
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Dec 15 08:45:06 2014 -0800

    Update to h2-16, hpack-10.

commit 4d068212aa1d0bcf0afc45b41a272c772a5b955c
Author: Neil Fuller <nfuller@google.com>
Date:   Fri Dec 12 11:03:57 2014 +0000

    Remove NPN support from OkHttp
    
    Work in progress.
    
    I see a new failure from a certificate pinning test but I don't
    know why. Help solving this would be appreciated.
    
    I also see failures before & after:
    1) A failure from DisconnectTest
    (https://github.com/square/okhttp/pull/1197 may fix that).
    2) A failure from CallTest.doesNotFollow21Redirects_Async (timeout)
    
    The maven changes should be treated with the contempt they deserve.
    I mostly removed things I didn't understand and stroked maven until
    it stopped squealing. The benchmarks / okcurl changes are a
    particular mystery.
    
    Tried with arbitrary versions of openjdk7 and openjdk8 I had
    lying around. Behavior was the same across both (i.e. the same
    failures).

commit b78030a630dc0b757d77e8565241f984e11feaf8
Author: mruddy <mruddy@users.noreply.github.com>
Date:   Mon Dec 8 12:01:23 2014 -0500

    bind specifically to a loopback interface

commit 1302835928112c85bf427702847ed5fe1c77f9fe
Author: Neil Fuller <nfuller@google.com>
Date:   Fri Dec 12 11:12:35 2014 +0000

    Apply fix for devices with large socket buffers
    
    The same fix as for ThreadInterruptTest from commit
    d95341bb7bc13ee2a4c7a08d6c7f9944a8a51ae3, but made to
    DisconnectTest.

commit 09637b6d12fc02cbc969844695568feb5a8cb494
Merge: 84305e6 a21a3d3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Dec 10 09:27:58 2014 -0800

    Merge pull request #1196 from nfuller/SwitchOffSslv3
    
    Change COMPATIBLE_TLS to be TLSv1.0 and not SSLv3

commit a21a3d38e362626381e0a47cc9fbd349b31b0449
Author: Neil Fuller <nfuller@google.com>
Date:   Wed Dec 10 16:15:33 2014 +0000

    Change COMPATIBLE_TLS to be TLSv1.0 and not SSLv3
    
    Based on a discussion with Jesse Wilson during
    https://github.com/square/okhttp/pull/1189.

commit 84305e6ae0de28089fde48b4a46d1d2aa1efe787
Merge: 5b69615 6184a7f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 8 10:26:52 2014 -0800

    Merge pull request #1193 from square/jwilson_1207_interceptors
    
    Initial implementation of interceptors.

commit 6184a7f5cf2a1d97072aaccb9fc00e08003848e3
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Dec 8 00:41:38 2014 -0800

    Initial implementation of interceptors.
    
    I'm anticipating implementing interceptors at two independent parts
    of the API. The first is high-level interceptors, that intercept
    before the socket connection has been established.
    
    The second set of interceptors will only execute for requests that
    require a socket connection. Those are forthcoming.

commit 5b69615ddb60275771f3296ebaba808b662f7388
Merge: 9acd5e7 29ad4ba
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Dec 4 14:46:24 2014 -0500

    Merge pull request #1187 from klyubin/strict-modern-hostname-verifier
    
    Strict, modern HostnameVerifier.

commit 29ad4ba943710033124a6574142346b5646549c7
Author: Alex Klyubin <klyubin@google.com>
Date:   Thu Dec 4 11:24:01 2014 -0800

    Strict, modern HostnameVerifier.
    
    This brings OkHostnameVerifier up to date with the intersection of
    RFC 2818 and Baseline Requirements, and adds support for absolute
    domain names.
    
    The changes are:
    * Absolute domain names are supported. All presented hostnames are
      treated as absolute domain names. All domain names in server
      certificates are treated as absolute domain names as well.
    * Wildcard character (*) is permitted only in the left-most domain
      name label and must be the only character in that label. For
      example, *.example.com is permitted, while *a.example.com,
      a*.example.com, a*b.example.com, a.*.example.com are not permitted.
    * Wildcard character (*) must match exactly one domain name label.
      For example, *.example.com matches www.example.com, but does not
      match example.com or www.test.example.com.
    * Wildcard pattern cannot mach single-label domain names: * and *.
      patterns are rejected.
    
    This is a cherry-pick of the Android Open Source Project (AOSP) change
    https://android-review.googlesource.com/#/c/117462/.
    
    Fixes #1165

commit 9acd5e7b54fb55f62a5dd16865c30787dfba4c8b
Merge: 8c81c9e e362aac
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Dec 4 10:56:45 2014 -0500

    Merge pull request #1186 from nfuller/AvoidProxyReverseLookup
    
    Avoid a reverse DNS-lookup for a numeric proxy address

commit e362aac2fc19a81c10350796dc8a441cbadfdf47
Author: Neil Fuller <nfuller@google.com>
Date:   Wed Dec 3 14:43:57 2014 +0000

    Avoid a reverse DNS-lookup for a numeric proxy address
    
    When the proxy was specified as an IP address the RouteSelector would force
    a reverse-lookup. This introduced extra latency when the DNS is being slow or
    missing. It also then turned the name back into a set of IPs, which could
    result in the original IP address not being given priority and
    connection attempts being made to IPs besides the one specified by the
    original Proxy specifier.
    
    This change distinguishes between whether the proxy InetSocketAddress is
    specified with a string, or with an InetAddress. This is referred to as
    "unresolved" and "resolved" respectively. If an InetAddress is present
    we assume we should use that single address to communicate with the
    proxy.
    
    This relies on the InetSocketAddress being created "unresolved": if the
    InetSocketAddress is created from a hostname but created "resolved",
    the InetAddress is filled in and OkHttp will interpret that as an
    instruction to just communicate with just that one IP.

commit 8c81c9e358fb12d090a24d47ed8689f7959e301e
Merge: 46997f3 090b2a1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 1 23:12:31 2014 -0500

    Merge pull request #1181 from square/adrian.frame-logger
    
    Resurrect http/2 frame logging,

commit 090b2a1c2c130183ecfa6b88b2ebd1acfbe27123
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Dec 1 23:11:14 2014 -0500

    Resurrect http/2 frame logging,

commit 46997f3a437bdfef5b42d3a84b51bd0fe0c499fd
Merge: 6167f0b 986b6b6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 30 20:58:30 2014 -0500

    Merge pull request #1177 from square/jw/unused
    
    Remove unused local which was always null.

commit 986b6b65bac1d825b1c09079625f50dbd67a1e32
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Nov 30 14:12:18 2014 -0800

    Remove unused local which was always null.

commit 6167f0be1f4dc898f451375937092e69272719d7
Merge: bca587f 28a2695
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 30 12:52:58 2014 -0500

    Merge pull request #1174 from square/jw/froyo-melted
    
    We no longer support Froyo.

commit bca587ff425ecc02c9c25dc19c6db8440151fd44
Merge: daf2491 789b536
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 30 12:52:23 2014 -0500

    Merge pull request #1172 from square/jw/master-version
    
    Working towards 2.2.0.

commit daf249191003566cafd84cf82709ba3932bd71dd
Merge: ff622af a89e492
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 30 12:51:49 2014 -0500

    Merge pull request #1176 from square/jw/null-ref
    
    Null reference to allow multiple shutdown calls.

commit a89e492c108bbd5f68f73149aa38de61ffb77118
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Nov 30 03:26:27 2014 -0800

    Null reference to allow multiple shutdown calls.
    
    The shutdown command was looking for a null reference in order to early return but nobody was nulling the reference.

commit 28a2695e2b5e73550baf4c0cc34b318a2be69e6e
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Nov 30 02:37:36 2014 -0800

    We no longer support Froyo.

commit 789b536cb34afc90f66c82ba8e3705c4997f1507
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Nov 29 18:15:31 2014 -0800

    Working towards 2.2.0.

commit ff622aff0facbd9a77d630610b3e98c1842d223a
Merge: c349574 9abf80c
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Nov 29 16:54:51 2014 -0800

    Merge pull request #1129 from square/websockets
    
    Websockets!

commit 9abf80c98ec19a4d195ba49e3f450b095f1ccff7
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Nov 29 02:11:49 2014 -0800

    Synchronize when attempting to close the websocket.

commit c34957442026cff000b81b5ffe692ab06134c13c
Merge: f907b25 cbd185f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Nov 28 11:28:50 2014 -0500

    Merge pull request #1171 from nfuller/ConnectChange
    
    Modify bad CONNECT handling

commit cbd185f592f59c23a650635041761199f12ce64f
Author: Neil Fuller <nfuller@google.com>
Date:   Fri Nov 28 13:58:59 2014 +0000

    Modify bad CONNECT handling
    
    Changing the way that OkHttp handles CONNECT responses
    from proxies.
    
    Before the change:
    If a proxy returns a body and some of the body bytes have
    already been buffered then an IOException is thrown.
    If the body bytes have not been buffered then the handshake will
    fail due to the presence of bytes where the Server HELLO is
    expected, typically with some kind of SSLHandshakeException.
    
    After the change:
    The body bytes are consumed to ensure consistent behavior. The
    handshake will then take place.
    
    History:
    This is an unusual case that would occasionally cause failures
    on Android when a ResponseCache was installed. Android introduced
    a patch to prevent CONNECT responses being cached. Since then,
    OkHttp has changed the code and probably fixed the issue via
    other means. The Android test remained and would sometimes
    experience one exception, sometimes another, depending on the
    state of the buffer.
    
    If the presence of a body is a possibility it would be nice
    to deal with it consistently and deterministically.
    
    The motivation for this change is to make
    URLConnectionTest#connectViaHttpProxyToHttpsUsingBadProxyAndHttpResponseCache
    behave consistently and in a way that doesn't involve connection
    fallback.
    
    The only risk with this change is if a proxy is incorrectly
    reporting the content length: this might lead to blocking on
    the body read/skip (as OkHttp would probably do elsewhere if a
    server mis-reports a content-length). This change may make
    connections to "bad" proxies slightly more reliable.

commit f907b25f684f8bb85707b6c3f4a483a799dc2321
Merge: 361b391 122e999
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Nov 27 22:37:09 2014 -0500

    Merge pull request #1167 from square/jwilson_1125_hostname_verifier_fails
    
    More context when the hostname is not verified.

commit 361b391ef4ac36399663a6fdee37cccdbe7713fc
Merge: 7457d15 d95341b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Nov 27 21:42:40 2014 -0500

    Merge pull request #1169 from nfuller/FixTestOnAndroid4
    
    Fix tests that fail on some Android devices

commit d95341bb7bc13ee2a4c7a08d6c7f9944a8a51ae3
Author: Neil Fuller <nfuller@google.com>
Date:   Wed Nov 26 16:03:25 2014 +0000

    Fix tests that fail on some Android devices
    
    Some tests fails on some Android devices because they have
    larger buffer sizes. Setting the buffer size of sockets used
    in tests that rely on blocking behavior ensures consistency.
    
    ThreadInterruptTest#interruptWritingRequestBody
    URLConnectionTest#writeTimeouts

commit 7457d15046b0f5a39f3c7bdcd12a6da3dd78f53d
Merge: d9f6c2f 7a3bb19
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Nov 26 13:15:08 2014 -0500

    Merge pull request #1170 from nfuller/FixTestOnAndroid5
    
    Prevent MockSpdyPeer interfering with Android tests

commit d9f6c2fe384336b8725e79b78e652d1b2507550f
Merge: 17acc84 d003dec
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Wed Nov 26 09:54:42 2014 -0800

    Merge pull request #1168 from nfuller/FixTestOnAndroid3
    
    Avoid hardcoding the custom header prefix

commit 7a3bb19ea44f6771a20d3f5c323cc8bd15d73a56
Author: Neil Fuller <nfuller@google.com>
Date:   Wed Nov 26 17:43:24 2014 +0000

    Prevent MockSpdyPeer interfering with Android tests
    
    On Android we run the OkHttp tests as an instrumented test case.
    The default UncaughtExceptionHandler on Android will quit the
    app, causing the current test to fail.
    
    MockSpdyPeer creates a thread that fails for various reasons
    that are not related to / required for the actual test. Often the
    exception is thrown during a subsequent test.
    
    This change logs the exception but prevent it from
    propagating out of the top of the call stack. This decreases
    overall flakiness.

commit d003dec9ac1fa325bd5ecd3408b14eb81670a253
Author: Neil Fuller <nfuller@google.com>
Date:   Wed Nov 26 13:47:58 2014 +0000

    Avoid hardcoding the custom header prefix so the test uses the Platform value
    
    The test is failing under Android CTS tests. Android uses an "X-Android"
    prefix.
    
    This fix is benign and ensures the test passes in all cases.

commit 122e99980d6f16ba4f13fc99135603600cf4823d
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Nov 25 22:19:51 2014 -0500

    More context when the hostname is not verified.
    
        Exception in thread "main" java.io.IOException: Hostname square.com not verified:
            certificate: sha1/FBzx5Wrwa9EpylnPrsKjpBQu1RE=
            DN: CN=square.com, OU=Information Security, O=Square Inc., STREET=1455 Market Street, L=San Francisco, ST=California, OID.2.5.4.17=94103, C=US, SERIALNUMBER=4699855, OID.2.5.4.15=Private Organization, OID.1.3.6.1.4.1.311.60.2.1.2=Delaware, OID.1.3.6.1.4.1.311.60.2.1.3=US
            subjectAltNames: [square.com, www.square.com, cash.square.com, blog.square.com]
              at com.squareup.okhttp.Connection.upgradeToTls(Connection.java:242)
              at com.squareup.okhttp.Connection.connect(Connection.java:155)
              at com.squareup.okhttp.Connection.connectAndSetOwner(Connection.java:171)
              at com.squareup.okhttp.OkHttpClient$1.connectAndSetOwner(OkHttpClient.java:119)
    
    Closes https://github.com/square/okhttp/issues/1163

commit 17acc84f0334493e04d2c6bd0d8eebc610c17e72
Merge: 5526287 eef290d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Nov 24 12:05:49 2014 -0500

    Merge pull request #1162 from square/jw/http-2-draft-15
    
    Update to HTTP/2 Draft 15.

commit eef290de39fbed723b666dd0ad9cab1dc5553845
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Nov 23 23:27:59 2014 -0800

    Update to HTTP/2 Draft 15.

commit 5526287d93f84764c222b7ab3edcccf762291797
Merge: 434135b 9aab648
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Nov 19 18:08:19 2014 -0500

    Merge pull request #1160 from square/jw/new-redirect-link
    
    Use new central artifact redirect link.

commit 9aab6489d788ab14ac59e2f1869f822f4045036d
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Nov 19 14:05:26 2014 -0800

    Use new central artifact redirect link.

commit 434135b53f7b51780d03c81562fce58c29bdb50c
Merge: 694c405 cca45fe
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Nov 17 10:01:38 2014 -0500

    Merge pull request #1154 from yelinaung/master
    
    Bump to 2.1.0 in README

commit cca45fe0b5e147b6adbba2594e2f01ea0e5e12f0
Author: Ye Lin Aung <me@yelinaung.com>
Date:   Mon Nov 17 21:06:55 2014 +0630

    Bump to 2.1.0

commit 694c40556164ee9564b032b80758998c903d8f47
Merge: a72dabb 426c11d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 16 15:21:43 2014 -0500

    Merge pull request #1137 from nfuller/OptionalMethod
    
    Upstream commit of Android SNI / NPN fix

commit a72dabb94b29bfad74e82955b331c25809a75f3a
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Nov 12 00:27:52 2014 -0500

    Changelog for 2.1.0.

commit bee6a3e6fe9dd75e8d4967fbd2e179129a80c2fe
Merge: 024ec48 9678a24
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Nov 12 00:11:03 2014 -0500

    Merge pull request #1140 from the4thfloor/delayedHTTPResponse
    
    fix the delayed transfer for HTTP requests

commit 024ec48d3a1de214f84b048c26a080355e73de72
Merge: 3871885 7ec881f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Nov 11 08:02:06 2014 -0500

    Merge pull request #1144 from square/jwilson_1111_ciphersuites
    
    Expose cipher suites and TLS versions using enums.

commit 3871885675b77327b3585e86b0b9ca9a3ca02d71
Merge: 2089b65 41e6e51
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Nov 11 08:00:51 2014 -0500

    Merge pull request #1145 from square/jwilson_1111_cancel_exceptions
    
    Accept other messages when testing canceled requests.

commit 41e6e51a8bb8575bb4a78223797e78ae5e9b251f
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Nov 11 00:36:28 2014 -0500

    Accept other messages when testing canceled requests.

commit 7ec881f29b1ee6f7f210c36919720c9f43a06243
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Nov 11 00:20:36 2014 -0500

    Expose cipher suites and TLS versions using enums.

commit 2089b654a26fc2805b1389dbda9ef766ad484a24
Merge: 2dc4572 64b607f
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Mon Nov 10 18:29:13 2014 -0800

    Merge pull request #1143 from square/jwilson_1110_emptysinnk
    
    Request body buffering is not transport-specific.

commit 64b607fc113cec3c18d04574ee1c024192d8cc43
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Nov 10 18:46:28 2014 -0500

    Request body buffering is not transport-specific.
    
    Previously we were only buffering the request body when the transport
    was HTTP. But we should buffer it for both SPDY and HTTP transports.
    
    Closes https://github.com/square/okhttp/issues/1132
    
    Also recover gracefully when retrying an empty POST body. This
    is a related bug.
    
    Closes https://github.com/square/okhttp/issues/1131

commit 9678a24611cc732fd4fbb7c1e47c78382db878ff
Author: Ralph Bergmann <ralph@the4thfloor.eu>
Date:   Mon Nov 10 11:49:25 2014 +0100

    fix the delayed transfer for HTTP requests
    
    Signed-off-by: Ralph Bergmann <ralph@the4thfloor.eu>

commit 426c11de7b411bd47e9ef5ba3ce08d8589a8a88c
Author: Neil Fuller <nfuller@google.com>
Date:   Sat Nov 8 00:16:08 2014 +0000

    Upstream commit of Android SNI / NPN fix
    
    https://android-review.googlesource.com/#/c/111211
    
    The change's to Android's Platform have been ported.
    
    This does not include the introduction of PlatformTest,
    which will be difficult to write so it works everywhere.

commit 2dc45729370c421598e72884733b915046e2c321
Merge: ec1b266 fd3f99a
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Wed Nov 5 15:42:30 2014 -0800

    Merge pull request #1134 from tomxor/mws-readme-syntax
    
    Enable syntax highlighting in MockWebServer README.

commit fd3f99a970b0857903fc6385404c1e51e033ff5e
Author: Tom Reznik <tom@contentful.com>
Date:   Thu Nov 6 00:37:11 2014 +0100

    Enable syntax highlighting in MockWebServer README.

commit f6617dd103dff6d494fce6ff9df95304375e862d
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Nov 4 22:35:16 2014 -0800

    Migrate types to 'internal' package.
    
    This will allow us to bake the implementation and API on master with normal development of the library.

commit 23602a85461e8deab52d2c943316ab5ab9f62369
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Sep 16 11:50:20 2014 -0700

    Allow 'http' and 'https' URLs for convenience.

commit a5535bd913324a2e0be4526f2d7129618e36bdde
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Aug 28 19:00:40 2014 -0700

    Use a singleton list which is slightly more efficient.

commit c0c73046bb998beee981431ad9f24968966d63a2
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Aug 9 23:00:38 2014 -0700

    Use empty string for absense close reason.

commit b72c9567df964696afdf4335b9456c28d017afde
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jun 29 19:15:52 2014 -0700

    Hook up the web socket reader and writer together.
    
    Add a simple real-world recipe which talks to an echo server.

commit 9eb307e586adc21ffaf90bb640da0bdd725b106c
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jun 13 22:02:50 2014 -0700

    Implement message writer.

commit 424bd58b21379f4300d5aa7c9b2f2834d6bd6d11
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jun 13 00:58:38 2014 -0700

    Implement message reader.
    
    Currently the reader skips control frames.

commit ec1b266f1d75f6063b1b84ad06d5c8a689742150
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Nov 5 02:12:03 2014 -0500

    [maven-release-plugin] prepare for next development iteration

commit 7b6771bb2939da2e7d42ca359a7cfc0a6e86272b
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Nov 5 02:12:01 2014 -0500

    [maven-release-plugin] prepare release parent-2.1.0-RC1

commit 6648193cbd7c6c1901a0a3133369a4d6088bb7a7
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Jun 11 16:51:36 2014 -0700

    Initial web socket API.

commit 027618dfdc25f28018286864ddf0eee5950d1c41
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Nov 5 02:06:50 2014 -0500

    Exclude the hpacktests submodule.

commit a4a79586d8aec87344ef81c0a46fcb3c8b61ce88
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Nov 5 00:30:05 2014 -0500

    Permit release candidates in version numbers.

commit 0316426ecf0edd40675d85a7853a1fa89a16f4ab
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Nov 5 00:21:52 2014 -0500

    Bump pom versions to 2.1.0-SNAPSHOT.

commit 26191725adbc1e7b654b579c6bbe6c940148732a
Merge: c4aebcd d8eb48a
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Tue Nov 4 20:57:40 2014 -0800

    Merge pull request #1128 from square/jwilson_1104_connectionspec
    
    Rename ConnectionConfiguration to ConnectionSpec.

commit d8eb48aa55c34a25b581fa29f401cfe350d49de2
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Nov 4 21:41:41 2014 -0500

    Rename ConnectionConfiguration to ConnectionSpec.

commit c4aebcd0289dae72c9ccd4e7adf23ebacaacf6e3
Merge: 187588c 92b6f57
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Nov 4 21:21:42 2014 -0500

    Merge pull request #1127 from square/jwilson_1104_apis
    
    Adjust new 2.1 APIs.

commit 187588cd42b98120a211f0bcfcb7f97e9fc9bda6
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Nov 4 21:21:01 2014 -0500

    Update the changelog for 2.1.0-RC1

commit 92b6f571d7f28c8c17bac39a56509fa82cf3cbc7
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Nov 4 20:24:07 2014 -0500

    Adjust new 2.1 APIs.
    
    ConnectionConfiguration was missing a Builder. We had slightly
    misleading docs in OkHttpClient.setFollowRedirects().
    
    All the other new docs look pretty reasonable.

commit cd56d89e64b0fdffcf514567306a8da935e6eaf1
Merge: e3bdda0 1962206
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Tue Nov 4 09:42:45 2014 -0800

    Merge pull request #1124 from square/jwilson_1104_evictall
    
    Implement DiskLruCache.evictAll and expose it in Cache.

commit 1962206a01ada5b0edbaa13f2a9841d83937c27e
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Nov 4 10:02:51 2014 -0500

    Implement DiskLruCache.evictAll and expose it in Cache.
    
    Closes https://github.com/square/okhttp/issues/257

commit e3bdda06cad22f23013cb02ba5c678e7a6c0fcd4
Merge: 41907c5 7670511
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon Nov 3 21:08:23 2014 -0800

    Merge pull request #1123 from square/jwilson_1103_import_disklrucache_tests
    
    Import DiskLruCache tests.

commit 767051119d7f2238b8520bdf090d3455d7e24239
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Nov 3 23:44:24 2014 -0500

    Import DiskLruCache tests.
    
    See https://github.com/JakeWharton/DiskLruCache/blob/master/src/test/java/com/jakewharton/disklrucache/DiskLruCacheTest.java

commit 41907c54947ba8739e72a6e8e70034219d7f6d7d
Merge: 5dcc4fb 5f1ab03
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Mon Nov 3 18:58:44 2014 -0800

    Merge pull request #1120 from square/jwilson_1103_settings_tpyo
    
    Fix a typo in settings documentation.

commit 5dcc4fb76cb88ab0f17fe9f21dea98d62fa98101
Merge: d36079a 3820b5c
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Mon Nov 3 18:57:04 2014 -0800

    Merge pull request #1122 from square/jwilson_1103_use_copy
    
    Fix a concurrency bug in SPDY settings.

commit d36079a939cdd6687ab0fd9de3f55f7d989ae326
Merge: 912d09e c3bc8e2
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Mon Nov 3 18:38:08 2014 -0800

    Merge pull request #1121 from square/jwilson_1103_routeselector
    
    Be consistent about host names in RouteSelector.

commit 3820b5c3355a0d5e48691c43481c6201a033a62c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Nov 3 21:30:47 2014 -0500

    Fix a concurrency bug in SPDY settings.
    
    We were making a copy of the streams HashMap so that we could
    iterate it safely after releasing our lock. But we weren't
    actually using that copy when iterating. Whoops!
    
    Fixes https://github.com/square/okhttp/issues/1119

commit c3bc8e25c831be4a844569ee431ef4dda60115ee
Author: Narayan Kamath <narayan@google.com>
Date:   Mon Oct 27 16:09:41 2014 +0000

    Be consistent about host names in RouteSelector.
    
    Use the host specified by the address, and not URI.getHost().
    
    bug: 18023709
    Change-Id: I2c39c2ce89049130dc00047c8de6f214159144c0

commit 5f1ab03cd58eac2afcc01146f425cc3e533358b3
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Nov 3 20:46:25 2014 -0500

    Fix a typo in settings documentation.
    
    Closes https://github.com/square/okhttp/issues/1105

commit 912d09e7da8830b831ee8f3461e0c66161fc82c8
Merge: 108fd5c 5991ab1
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Sun Nov 2 10:06:49 2014 -0800

    Merge pull request #1117 from square/jwilson_1102_cancel
    
    Don't skip the callback if a call is canceled.

commit 5991ab1ecb9ea0b31826bab38ec855a893475562
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Nov 2 12:29:04 2014 -0500

    Don't skip the callback if a call is canceled.

commit 108fd5ce510c5ed10cbcd1dd9606c21fa4aa7e62
Merge: ee56def 12f858c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 2 11:31:52 2014 -0500

    Merge pull request #1115 from square/jwilson_1102_mws_reliability
    
    Attempt to improve MockWebServer reliability.

commit 12f858caac6b9215b7d3cd84a781c812fae6c2bb
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Nov 2 09:13:50 2014 -0500

    Attempt to improve MockWebServer reliability.
    
    Use the same InetAddress when binding to a port as when offering the
    MockWebServer's address.
    
    Wait for the executors to all shutdown before returning from shutdown().

commit ee56def68e924318c66567271b86c15a2dcacb04
Merge: 6e7f147 b1091b3
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Sun Nov 2 08:24:05 2014 -0800

    Merge pull request #1116 from square/jwilson_1102_peer_close
    
    Don't close the SPDY peer too early.

commit b1091b3f552a7badb7bf90faa68cfcc699845c94
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Nov 2 10:52:52 2014 -0500

    Don't close the SPDY peer too early.
    
    This was occasionally causing tests to fail because the test was
    observing the connection close.

commit 6e7f14715ae98933796be9b8239993858045217e
Merge: 20929e3 112f020
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Nov 1 11:58:35 2014 -0400

    Merge pull request #1113 from square/jwilson_1101_not_shared
    
    Change the cache to have non-shared semantics.

commit 112f020c411c9d14f34e480b98325777b25a7434
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Nov 1 11:53:05 2014 -0400

    Change the cache to have non-shared semantics.
    
    This means we'll cache responses that use an 'Authorization' header. This
    means OkHttp's cache shouldn't be used on middleboxes that sit between
    user agents and the origin server; in practice this is never a use case
    for OkHttp.
    
    Fixes https://github.com/square/okhttp/issues/1035

commit 20929e3f07e30258ba7eeebafa51d5091fb35d2f
Merge: a4c0d59 ddac008
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Sat Nov 1 08:38:44 2014 -0700

    Merge pull request #1112 from square/jwilson_1101_cachepolicy
    
    Fix request cache-control to match spec.

commit ddac0083db1f4d8fccf68c23254751c4167565a1
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Nov 1 11:05:56 2014 -0400

    Fix request cache-control to match spec.
    
    Fixes https://github.com/square/okhttp/issues/1081

commit a4c0d59ad588813e7c9918c22c95988a721512a4
Merge: 59b11fb f80b1f3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Oct 27 14:17:49 2014 -0400

    Merge pull request #1102 from square/jwilson_1025_fix_cache_bug
    
    Fix a bug where the response cache could be corrupted.

commit f80b1f3a4a6a5ba3fa0366e8de425c5e229b6c5d
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Oct 25 11:42:10 2014 -0400

    Fix a bug where the response cache could be corrupted.
    
    When streaming a response, we copy data from our buffer to the cached file
    on disk. Unfortunately we were copying N bytes from the front of the buffer
    when we wanted N bytes from the back of the buffer.
    
    Typically these are the same, but certain access patterns can cause them
    to be different, corrpting the cached file on disk.
    
    This was uncovered by migrating the cache tests from operating on
    HttpURLConnection's API to our new API.

commit 59b11fbabf1ae35ab27e70ea890338c81a7dd3fa
Merge: c079c9e 8f1bc30
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Oct 26 13:24:20 2014 -0700

    Merge pull request #1106 from square/jwilson_1026_fix_concurrency
    
    Don't hold the connection lock when calling receiveRstStream.

commit c079c9e985ba201a402c6a4be34254b31e1476b0
Merge: 125df55 40c2e6a
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Oct 26 13:14:13 2014 -0700

    Merge pull request #1107 from square/jwilson_1026_one_logger
    
    Use one logger for all logging.

commit 40c2e6aec09d139a4e96b45856020a5b324b01ef
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Oct 26 11:48:53 2014 -0400

    Use one logger for all logging.
    
    There was a concurrency problem in CallTest where multiple calls to
    Logger.getLogger() didn't return the same instance, leading to failures
    in the test.

commit 8f1bc30cd1e821b8b3745502a0f442f54cdebce8
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Oct 26 10:28:45 2014 -0400

    Don't hold the connection lock when calling receiveRstStream.
    
    Closes https://github.com/square/okhttp/issues/938

commit 125df557fbeb9c77eb17872acac2eb156428d2ed
Merge: 518b3fd 9cc7a52
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Oct 25 19:56:07 2014 -0700

    Merge pull request #1104 from square/jwilson_1025_isCanceled
    
    Add an accessor, Call.isCanceled().

commit 9cc7a5219f8f88bec35a073feab96abab4a9b42f
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Oct 25 22:50:10 2014 -0400

    Add an accessor, Call.isCanceled().
    
    Closes https://github.com/square/okhttp/issues/912

commit 518b3fd0dc688dfa8b6f5b6915f4f0be95cecaa3
Merge: c9cc836 36cff8b
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Oct 25 16:02:41 2014 -0700

    Merge pull request #1103 from square/jwilson_1025_log_failures
    
    Log uncaught IOExceptions instead of rethrowing them.

commit 36cff8b86438a3b0f3bd3e701b374a1404a9168d
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Oct 25 18:34:24 2014 -0400

    Log uncaught IOExceptions instead of rethrowing them.
    
    The application layer can handle these with a try/catch block in their
    onResponse method if desired.
    
    This prevents a crash for applications that haven't deliberately configured
    their uncaught exception handlers.
    
    Closes https://github.com/square/okhttp/issues/1049

commit c9cc8365694e3efbf8eca82f6e08cde0ab7a466f
Merge: d173c9e 8d4230b
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Fri Oct 24 08:02:41 2014 -0700

    Merge pull request #1100 from square/jwilson_1023_rebuild
    
    Don't append to a truncated line in the journal.

commit 8d4230b78d283924842edbe963b10cfb43737338
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Oct 23 23:39:42 2014 -0400

    Don't append to a truncated line in the journal.
    
    Fixes https://github.com/square/okhttp/issues/1099

commit d173c9e908a8ce1e9e02e79d16e12aa2905d724f
Merge: bc08ccc bf47e69
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Oct 19 11:26:37 2014 -0400

    Merge pull request #1095 from square/jw/final-headers-builder
    
    Change Headers.Builder to be final.

commit bf47e69d3d32dba720c743aa2134be7739a8c293
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Oct 15 22:04:34 2014 -0700

    Change Headers.Builder to be final.

commit bc08ccc848b1b1aadf7e5021d4d3e45519ff3267
Merge: 4d1ef4e 1ef2c93
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Oct 14 13:31:56 2014 -0400

    Merge pull request #1093 from square/adrian.hpack
    
    Only read hpack tests for the current draft.

commit 1ef2c93ec134234e72abe254b1675bf4236f2300
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Oct 14 08:04:36 2014 -0700

    Only read hpack tests for the current draft.

commit 4d1ef4eb4f4295714e69907c8f4d13b3e1524c40
Merge: 5f15e62 23d5851
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Oct 13 16:50:12 2014 -0400

    Merge pull request #1089 from square/jwilson_1013_connection_configuration
    
    Introduce ConnectionConfiguration.

commit 23d5851ebdb4d2f3aee160a19c3b9d1cb4b23999
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Oct 13 12:41:25 2014 -0400

    Introduce ConnectionConfiguration.
    
    Expand the scope of TlsConfiguration to all connections, http: and https:.
    
    Closes https://github.com/square/okhttp/issues/815
    Closes https://github.com/square/okhttp/issues/1058

commit 5f15e623d51f6b2e715112e56d3591a8519db335
Merge: 3abe182 3990381
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sun Oct 12 20:35:43 2014 -0700

    Merge pull request #1088 from square/jwilson_1012_dumb
    
    Fix inverted condition on Route's forwarding constructor.

commit 39903819e93baa3e881dfd1e2e8b12cd31af5b81
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Oct 12 23:34:44 2014 -0400

    Fix inverted condition on Route's forwarding constructor.

commit 3abe182b1df0ccac0afe229babc256d38bb2188b
Merge: 92bf318 c27e0fd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Oct 12 23:29:50 2014 -0400

    Merge pull request #1087 from square/jwilson_1012_tls_12
    
    Revise how TLS connections are negotiated.

commit c27e0fdc165282f1c64648bdae2a51ed10f14d40
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Oct 12 17:09:19 2014 -0400

    Revise how TLS connections are negotiated.
    
    Now we explicitly enable TLSv1.2, TLSv1.1 and TLSv1.0 where they are supported.
    We continue to perform only one fallback, to SSLv3.
    
    In a follow-up we can make TLS configurations user-accessible, and allow the
    application to limit which versions are used.

commit 92bf318a70a9e2194e626ff2c2f4266b0bbb09e5
Merge: 2a9abb9 83090be
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Oct 11 20:05:30 2014 -0700

    Merge pull request #1086 from square/jwilson_1011_pin
    
    Certificate pinning.

commit 83090befcca69b44c257b96afb519ca66282ca63
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Oct 11 21:12:02 2014 -0400

    Certificate pinning.

commit 2a9abb9e3521fc701fae69f70fb0124cf3faa75f
Merge: 9aa1268 712e56d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Oct 11 14:18:26 2014 -0400

    Merge pull request #1085 from square/jwilson_1011_poolsize
    
    Extend the keep-alive time for the SPDY push executor.

commit 712e56de25c8c212d8c85c6b316faeb8789d731c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Oct 11 10:11:44 2014 -0400

    Extend the keep-alive time for the SPDY push executor.
    
    Closes https://github.com/square/okhttp/issues/1034

commit 9aa1268899524f0f750ab35fa363f2ed3cec29cf
Merge: a4d2186 da1d7f2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Oct 11 09:14:20 2014 -0400

    Merge pull request #1082 from square/jwilson_1010_cache_control
    
    More convenient APIs for using Cache-Control in requests.

commit a4d21865fb791e605c1d9c06e7248b7e9a402084
Merge: 1b571d0 bfac340
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Oct 11 08:59:37 2014 -0400

    Merge pull request #1080 from square/jwilson_1010_http10
    
    Forbid setProtocols with HTTP_1_0.

commit da1d7f23ea206d3ba96c228343d08df6f4abc3e0
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Oct 10 23:06:50 2014 -0400

    More convenient APIs for using Cache-Control in requests.

commit bfac340626520863aeaeb079dee1dcf3769de2f6
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Oct 10 21:19:43 2014 -0400

    Forbid setProtocols with HTTP_1_0.
    
    Closes https://github.com/square/okhttp/issues/986

commit 1b571d04e13cad0be897079853ef8324a76e22ce
Merge: e52df88 b3ecd1e
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Fri Oct 10 19:13:44 2014 -0700

    Merge pull request #1079 from square/jwilson_1010_rename_hostresolver
    
    Clean up HostResolver.

commit b3ecd1e4e34d191941b152d7e7c4cb08e1c0201e
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Oct 10 21:03:11 2014 -0400

    Clean up HostResolver.
    
    Hide the interface and rename it to Network. We may make this a public
    interface later, particularly in order to track more capable network
    APIs in Android L. For now, we want a hidden interface with a general
    purpose name.
    
    Closes https://github.com/square/okhttp/issues/1062

commit e52df886b8921f378ec65c0d43f6e129e683039c
Merge: e69e436 a3ce2d3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Oct 10 20:38:40 2014 -0400

    Merge pull request #1073 from square/jwilson_1005_cipher_suites
    
    Take control of the enabled cipher suites.

commit e69e4369004acd618d53b7f172a06c449bd8f18d
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Oct 8 11:46:22 2014 -0700

    Add instructions for Gradle to the README.

commit a3ce2d33e6318e6d7cc1ef50000a2f8f5727b46c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Oct 5 21:11:34 2014 -0400

    Take control of the enabled cipher suites.

commit 837dfc60bd32ff419046fa09fe10c13d752a6230
Merge: 804e889 b6b3d1f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Oct 4 18:41:31 2014 -0400

    Merge pull request #1025 from baldur/master
    
    okcurl truncates values of headers with timestamp values

commit 804e88921aa4bd680b408ac6a0e654737eec88a3
Merge: 2d6b377 7028195
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sat Oct 4 14:12:57 2014 -0400

    Merge pull request #1072 from square/marcelo/perm-redirect
    
    Handle response code 308 - Permanent Redirect

commit 7028195274f67d2c72f4c5ee472d0dcd6a97c1e4
Author: Marcelo Cortes <marcelo@squareup.com>
Date:   Sat Oct 4 12:37:05 2014 -0400

    Handle response code 308 - Permanent Redirect

commit 2d6b3770d9ef3424a12c4c243596a34cc07cbef1
Merge: 4cdf0a9 38d5795
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Sep 28 22:28:25 2014 -0400

    Merge pull request #1065 from square/adrian.cancel-by-tag-synchronous
    
    OkHttpClient.cancel(tag) doesn't cancel in-flight synchronous requests.

commit 38d57953ee7a22a6f87d97ed15e69f17abb2c16f
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Sep 28 13:31:11 2014 -0700

    OkHttpClient.cancel(tag) doesn't cancel in-flight synchronous requests.

commit 4cdf0a90b3643d198014a56bf619dd9587820fca
Merge: b26c069 ac5583b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Sep 28 13:58:47 2014 -0400

    Merge pull request #1064 from square/adrian.unused-imports
    
    Unused imports.

commit ac5583b24b25fa23c8f035a6380eaaef523eea68
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Sep 28 10:53:12 2014 -0700

    Unused imports.

commit b26c0695e97321f8eac0de14f3136c4a610d3ea9
Merge: 7be9014 de619f4
Author: Jake Wharton <JakeWharton@GMail.com>
Date:   Sat Sep 27 20:07:27 2014 -0700

    Merge pull request #1063 from square/jwilson_0927_user_agent
    
    Include a user-agent by default.

commit de619f429f4b07f8cbbb04eca912ea818aa6c102
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Sep 27 22:26:27 2014 -0400

    Include a user-agent by default.

commit 7be9014dca0c9d8442f025e4da7a8dd88ba9caed
Merge: 5ce3221 973cc93
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 22 17:46:23 2014 -0400

    Merge pull request #1046 from square/adrian.http2draft14-hpackdraft9
    
    Update to h2-14 and hpack-9

commit 973cc9338ae5ecad033427a637e91565bcfd3465
Author: Adrian Cole <acole@twitter.com>
Date:   Tue Sep 9 10:16:56 2014 -0700

    Update to h2-14 and hpack-9.

commit 5ce32214871a6c703881a6b739ad6a9cbc0d9736
Merge: c3a3199 2a9f9fd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 22 13:14:38 2014 -0400

    Merge pull request #1057 from square/adrian.max-frame
    
    Move frame length constraint to where it is used.

commit 2a9f9fd92f571115ab92c6a50160cadf59d5a8e3
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Sep 22 09:32:26 2014 -0700

    Move frame length constraint to where it is used. Remove method only used in tests.

commit c3a31993cea76b68d6a9a5fef4036576eb27b98b
Merge: dfb3fc6 91c2c7b
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Aug 23 01:39:11 2014 -0700

    Merge branch 'seato-seato/null-request-url'

commit 91c2c7bfc70186c82950a8db2536f8d7383da20e
Author: Richard Thai <rthai@groupon.com>
Date:   Thu Aug 21 14:33:20 2014 -0700

    Request URI's have a dependency on the request URL (if the URI is uninitialized). However, URL's can also be null if not initialized with the urlString. This fix initializes the URL properly to avoid NPE on Request.uri() calls.

commit dfb3fc6a18c430e40103b74aa0578ee9b15c2358
Merge: 429fb3a b44760a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Aug 19 21:34:06 2014 -0400

    Merge pull request #969 from square/jw/better-multipart
    
    Update MultipartBuilder to support content length.

commit b44760ac64862a09bc95d82503a32e15e45a8cf7
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jun 28 01:00:19 2014 -0700

    Update MultipartBuilder to support content length.
    
    In order to track content length we need to convert the headers and boundary of a part to a Buffer eagerly. The length of this Buffer plus what each part's RequestBody reports allows tracking what the overall content length will be. The presence of any streaming body means the length of the entire multipart request is unknown.
    
    Common parts of the boundary and header have been changed to raw byte[] to save the cost of allocation and UTF-8 encoding.

commit 429fb3a299a75a4e3cf26e54622d745c83b6b74c
Merge: e36d1eb b16c9f2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Aug 19 18:39:41 2014 -0400

    Merge pull request #1028 from square/jw/content-type-override
    
    Support overriding content type via explicit header.

commit b16c9f29a8e21c77368f9970db862ad8f7af9f5e
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Aug 19 09:16:29 2014 -0700

    Support overriding content type via explicit header.

commit b6b3d1f2fc405bcd7b616a5f36b2af9c66ac53fc
Author: Baldur Gudbjornsson <baldur.gudbjornsson@gmail.com>
Date:   Mon Aug 18 11:42:54 2014 -0400

    fixes truncating of headers with timestamp values

commit e36d1ebd57d4f55cab24e22a97d37f1975397462
Merge: 19950aa 3a4c135
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Aug 18 09:11:59 2014 -0400

    Merge pull request #1023 from square/jw/okio-lru
    
    Convert disk cache to use Okio.

commit 3a4c135529929975691ae4a02bb3bd80014bab1b
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Aug 17 15:05:24 2014 -0700

    Convert disk cache to use Okio.

commit 19950aaacf7a8541e3c7078b49782e5484d0eae1
Merge: d13f051 aaf2695
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Aug 9 17:34:11 2014 -0400

    Merge pull request #1018 from nfuller/FixResponseCacheTestOnAndroid
    
    Fix ResponseCacheTest for Android

commit d13f051da696c7e70228929c64e07d5688e7fb99
Merge: 2a914f0 3613743
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Aug 8 17:50:57 2014 -0700

    Merge pull request #1020 from square/jw/okio-update
    
    Bump Okio dependency.

commit 361374300ab3006b2fed712a3caac595b75e283c
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Aug 8 16:25:06 2014 -0700

    Bump Okio dependency.

commit aaf2695b00dfd69df6fd915ba16665eee8c1962d
Author: Neil Fuller <nfuller@google.com>
Date:   Wed Aug 6 13:59:28 2014 +0100

    Fix ResponseCacheTest for Android
    
    Pull #1011 broke ResponseCacheTest on Android.
    
    The test was asserting a header generated
    using a copy of the old broken implementation.
    
    The test now just uses HttpDate, which now has its own
    tests.

commit 2a914f09d362b8528f0a43951960e3c85f959f47
Merge: fb93a57 68fcca3
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Aug 5 09:06:29 2014 -0700

    Merge branch 'master' of github.com:square/okhttp
    
    * 'master' of github.com:square/okhttp:
      Add a regression test for transparent gzip + basic auth

commit fb93a578ee074542fd2beefb1ab63be86fed83ae
Author: Tomasz Rozbicki <tomrozb+code@gmail.com>
Date:   Sun Jul 27 23:27:00 2014 +0200

    Allow duplicated charsets in MediaType

commit 68fcca30b4abfdce734094616969b7137ec3131a
Merge: 5bc7de1 c376609
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Aug 5 09:03:03 2014 -0700

    Merge pull request #1010 from nfuller/TransparentGzipTest
    
    Add a regression test for transparent gzip + basic auth

commit 5bc7de1f4922187630db7275809c7a66149edcea
Merge: b19860c b36761b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Aug 1 11:55:43 2014 -0400

    Merge pull request #1011 from nfuller/FixParseFormat2
    
    Fix formatting / parsing for Android

commit b36761b7dd5a0743ec5d89fb9adc36b602cc3b4b
Author: Neil Fuller <nfuller@google.com>
Date:   Thu Jul 31 17:48:03 2014 +0100

    Fix formatting / parsing for Android
    
    Ensuring that this Android bug is fixed for the next
    Android release:
    https://code.google.com/p/android/issues/detail?id=66135
    
    On Android the SimpleDateFormat for "zzz" returns GMT+00:00.
    This is regrettable but awkward to change as it is existing
    behavior.
    https://code.google.com/p/android/issues/detail?id=66136
    
    This change fixes the format to 'GMT'.
    
    This change also fixes a bug where the platform default
    timezone was used for parsing some date/times and not GMT.
    
    Various tests have been added to prove the behavior when
    timezones are missing and dates are malformed.

commit c37660973807a2120e7af27462f6a83e00af16d5
Author: Neil Fuller <nfuller@google.com>
Date:   Thu Jul 31 11:33:01 2014 +0100

    Add a regression test for transparent gzip + basic auth
    
    The bug is fixed but there wasn't an obvious test.
    See report: https://code.google.com/p/android/issues/detail?id=74026

commit b19860c9297197a5055ac2ffd6edaedf693c1a85
Merge: 1031cce 84f9a17
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jul 24 16:03:31 2014 -0400

    Merge pull request #1002 from lcolitti/master
    
    Allow callers to pass in a custom host resolver implementation.

commit 84f9a172f93b041e482003bd6b5b080513c23c91
Author: Lorenzo Colitti <lorenzo@google.com>
Date:   Thu Jul 17 22:02:12 2014 +0900

    Allow callers to pass in a custom host resolver implementation.
    
    An HTTP client interacts with the network in two main ways: DNS
    lookups and connections to HTTP servers. OkHttp already abstracts
    the latter by allowing callers to pass in custom SocketFactory
    objects, but does not yet abstract the former.
    
    This change takes the existing internal Dns interface, which is
    currently used for testing, and turns it into a publicly
    accessible HostResolver interface. This allows callers to
    completely abstract all network interaction points.
    
    Examples of what this can be used for:
    
    1. Use alternative DNS implementations with different
       performance / caching / ordering / parallelization / ...
       characteristics than standard InetAddress.getAllByName.
    2. Resolve hosts using different DNS servers than the system
       resolvers, or even non-DNS protocols (e.g., MDNS or even
       NetBIOS/WINS) that are not supported by the system resolver.
    3. Do DNS lookups on specific networks, similarly to what
       android_getaddrinfofornet does.
    
    Change-Id: I6e488acd938067e4c078c6ffe4d5eddb5f3951de

commit 1031cce36a449a926fc25a8ee70063953a83c954
Merge: 7f763c1 e2770dc
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Jul 23 15:30:22 2014 -0700

    Merge pull request #1000 from seato/seato/issue-999-ignore-cookie-case
    
    Cookies tests are flaky

commit e2770dc2d3a166db7b3397fdec0142ed85573c33
Author: Richard Thai <richardpthai@gmail.com>
Date:   Wed Jul 23 11:07:57 2014 -0700

    The cookie domains that were being compared were not case-insensitive which caused some tests to fail.

commit 7f763c1a18e342dc4e2840c68ca99c175c37eb93
Merge: 63d7562 6d9f9cb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jul 22 20:17:38 2014 -0400

    Merge pull request #997 from lcolitti/master
    
    Use the socket factory for direct connections as well.

commit 6d9f9cbdf8069e504cb58908db23b4f327d1826c
Author: Lorenzo Colitti <lorenzo@google.com>
Date:   Fri Jul 18 02:05:54 2014 +0900

    Use the socket factory for direct connections as well.
    
    Currently, the passed-in socket factory is only used for
    connections to HTTP proxies. I think this was not the intent of
    the original socket factory change, because the commit message
    said that the "socket factory will be used for all non-proxy
    connections and HTTP proxy connections".  So use it for DIRECT
    connections as well.
    
    Also add a test to check that a socket factory is used if
    specified.
    
    Change-Id: I811b08442d1c80be1a0a268eb51c9aa365febf00

commit 63d7562317e60158e862d1d683cf2f7ee6201df9
Merge: e6686f6 494afc1
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jul 20 21:37:15 2014 -0700

    Merge pull request #996 from square/jwilson_0720_content-length-zero
    
    Permit GETs to have Content-Length: 0.

commit 494afc1969626baf8fa6063cc8864bbae394cb63
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Jul 20 23:07:59 2014 -0400

    Permit GETs to have Content-Length: 0.
    
    It's ridiculous, but Apache HTTP client wants it.
    Closes https://github.com/square/okhttp/issues/990

commit e6686f69b7f19f13d4b0dc514071d40da6a73cb2
Merge: b478b58 ea13e5e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jul 18 01:41:46 2014 -0400

    Merge pull request #976 from westarle/931-add-hpack-tests
    
    Add hpack-test-case based tests

commit b478b58453b67c518fd8d2fed1247ff8031e5553
Merge: 3fe0b27 02bfad2
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jul 10 08:16:11 2014 -0700

    Merge pull request #989 from ChristianBecker/better-tostring
    
    Use urlString for Request.toString()

commit 02bfad2945466fb8a30bbfbb0e9f81e77f043e98
Author: Christian Becker <christian.becker@qnips.com>
Date:   Thu Jul 10 17:03:45 2014 +0200

    Use urlString for Request.toString()

commit 3fe0b271c1b3bcaffe7baa0f68e50cc2796ade0f
Merge: 19f83f8 5ca07ed
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Jul 9 15:11:18 2014 -0700

    Merge pull request #987 from ChristianBecker/trailing-crlf
    
    Add trailing CRLF to multipart.

commit 5ca07ed95569047e89cd9ae7d4b7c0908950a88b
Author: Christian Becker <christian.becker@qnips.com>
Date:   Wed Jul 9 08:59:51 2014 +0200

    Add trailing CRLF to multipart.

commit ea13e5ec97e5c8a25cff17612648bed95a5f8f57
Author: Wesley Tarle <wtarle@gmail.com>
Date:   Sun Jun 29 09:37:05 2014 -0700

    Add hpack-test-case test module.
    
    Issue square/okhttp#931

commit 19f83f8d546bed8c91759396b3931ee5a644d95d
Merge: 53ff010 a1c0872
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jul 4 08:15:20 2014 -0700

    Merge pull request #949 from mlc/friendly_form_building
    
    provide a friendlier API for multipart forms.

commit 53ff0101ee27df0c0dcf1ce0e2df4245bae33558
Merge: d9e3e7d 9a35caf
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jul 2 09:21:28 2014 -0600

    Merge pull request #980 from square/adrian.response-protocol
    
    Use transport protocol in SPDY response

commit d9e3e7dd3361cf097e5d5fc4db76f3c89058f82b
Merge: 0766369 4c1436b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jul 2 09:20:54 2014 -0600

    Merge pull request #981 from square/adrian.http2-initial-window
    
    HTTP/2 initial window size is 65535 not 65536

commit 4c1436b3d6e6a7f9722bbcaa4d9a286747168ec0
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Wed Jul 2 07:46:56 2014 -0700

    HTTP/2 initial window size is 65535 not 65536.

commit 9a35caf73356aa9a0142f5c5a0c50fde60d6ae02
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Wed Jul 2 07:29:25 2014 -0700

    Use transport protocol in SPDY response.

commit a1c0872a3407c947ec2ca7b88e96410f003d6c15
Author: mike castleman <mlc@meetup.com>
Date:   Thu Jun 19 18:15:57 2014 -0400

    provide a friendlier API for multipart forms.
    
    Also, escape the name and filename tokens, and include some small
    changes from CR.

commit 0766369844b26f64fc2e8d551ee8b5b00aa3fd87
Merge: 5468a73 83e42cb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jun 29 23:50:18 2014 -0600

    Merge pull request #973 from square/jwilson_0628_nonfinal
    
    Make it possible to mock OkHttpClient and Call.

commit 83e42cb9288896f88c934faa116b89165b3b9689
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Jun 28 13:58:39 2014 -0600

    Make it possible to mock OkHttpClient and Call.
    
    Closes https://github.com/square/okhttp/issues/956

commit 5468a730758736af9bb01da58b0414b02df38244
Merge: 2cf3885 7bb06e7
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Jun 28 19:26:32 2014 -0700

    Merge pull request #972 from square/jwilson_0628_move_connect
    
    Move connect to be closer to connection.

commit 7bb06e78bac05e0e24c6ea81b34aa11f498ad61f
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Jun 27 12:39:38 2014 -0400

    Move connect to be closer to connection.
    
    This eliminates some awkwardness in OkHttpClient, where it needs
    to make a bunch of internal calls to Connection.

commit 2cf38851d2bbb3c07c25e64faeecb41f6e2466be
Merge: e34ac14 7d5c42a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 28 08:44:43 2014 -0600

    Merge pull request #944 from MiguelLavigne/feature/mlavigne/fix_do_not_follow_redirects
    
    Fixes the do not follow redirects bug

commit e34ac14009f96100dcc1359243360603bbf02ce3
Merge: 0673041 cabd391
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 28 08:13:49 2014 -0600

    Merge pull request #970 from square/jw/java-seven
    
    Mention correct Java version on the website.

commit 0673041a1ba81a094fb0e50a087b085ff8605f3d
Merge: d43ab24 3a89673
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 28 08:13:33 2014 -0600

    Merge pull request #971 from square/jw/appending-sink
    
    Use Okio's appending sink for File.

commit 3a8967322d06ff2d8445aa277ae103653adf4eee
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jun 28 01:34:36 2014 -0700

    Use Okio's appending sink for File.

commit cabd391637d9fa4fdeb7238c844b0c528722fe1b
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jun 28 01:24:17 2014 -0700

    Use HTML entity for ampersand.

commit 58c7b68cbf771e34adb36b4c141ac0d1c9f1e80e
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jun 28 01:24:06 2014 -0700

    Mention correct Java version on the website.

commit d43ab24554f11e0522d4760d07bfbd3ade6473ac
Merge: a53cecf 1d9bb81
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jun 25 02:27:50 2014 -0400

    Merge pull request #895 from anderius/anderius_takerequest
    
    Anderius takerequest with timeout

commit a53cecf5bfb934fbe0e5d8bac20079179d92e99e
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Jun 24 10:12:29 2014 -0700

    Import.

commit 82dc7265abbe6e5f47df1963ee067eb22d936462
Merge: 1406379 f835806
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jun 24 09:26:57 2014 -0400

    Merge pull request #961 from square/jw/eager-entry-files
    
    Eagerly create Entry Files for every value.

commit 7d5c42a1b2d331826c3ae44ec86749e5d1ed78c6
Author: Miguel Lavigne <mlavigne016@gmail.com>
Date:   Wed Jun 18 09:51:34 2014 -0400

    Fixes the do not follow redirects bug
    
    The HttpEngine would not obey the set state because there was no
    correlation between the HttpURLConnection.setInstanceFollowRedirects
    method and the OkHttpClient.
    
    Fixed the missing link by adding a new setFollowRedirects method to the
    OkHttpClient class.  Bridged the gap for the HttpURLConnection.setInstanceFollowRedirects
    by forwarding that state into the OkHttpClient.
    
    Now the HttpEngine will always obey the OkHttpClient redirect state when
    attempting the followUp phase.
    
    Added necessary test to both OkUrlFactoryTest and CallTest.
    
    https://github.com/square/okhttp/issues/943

commit f835806590c92b4c1ea7715da09de5f427df96b9
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Jun 23 21:29:08 2014 -0700

    Eagerly create Entry Files for every value.
    
    Through the various code paths that an Entry would pass through both the clean and dirty File would be needed at least once. Creating it and the StringBuilders every time was having a large impact on allocation in high-frequency situations (like images in an Android app).

commit 1406379a33135885d51b0f4373f9e27d9fd06640
Merge: 151d807 802b773
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Sun Jun 22 14:56:06 2014 -0700

    Merge pull request #954 from square/adrian.http2draft13
    
    Implement HTTP/2 Draft 13; HPACK Draft 08.

commit 802b77399480cb8f63c4493fcfd16754caaa2aee
Author: Adrian Cole <acole@twitter.com>
Date:   Sat Jun 21 11:39:39 2014 -0700

    Implement HTTP/2 Draft 13; HPACK Draft 08.

commit 151d807944a04be928e806b2a3ccee4f025095a0
Merge: c7934d2 a87147e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Jun 21 15:59:08 2014 -0700

    Merge pull request #955 from square/jwilson_0621_fix_cache_method_typo
    
    Fix a bug where the cacheResponse's request method was wrong.

commit a87147e65424df05b7d7829555eef1220dbf4633
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Jun 21 18:28:50 2014 -0400

    Fix a bug where the cacheResponse's request method was wrong.
    
    We were returning the message (like 'OK') rather than the method
    (like 'GET'). Ugh.

commit c7934d2fd3facfb1c86a5e5470bf6543986deccd
Merge: 617f3ab f2d5fcb
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Jun 21 00:23:57 2014 -0400

    Merge branch 'okhttp_20'
    
    * okhttp_20:
      [maven-release-plugin] prepare for next development iteration
      [maven-release-plugin] prepare release parent-2.0.0

commit 617f3abbe4f5b3db5914ab435cb5a3fcbabc139b
Merge: 081218f 55173ea
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 21 00:03:51 2014 -0400

    Merge pull request #953 from square/jw/unindent
    
    Unindent the website samples.

commit 55173ea4e69733d14908894a3edb84507e5e8cfc
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jun 20 21:03:18 2014 -0700

    Unindent the website samples.

commit f2d5fcbd40d4712091c4e95df0033ba51a975286
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Jun 21 00:02:22 2014 -0400

    [maven-release-plugin] prepare for next development iteration

commit a3c18f69c9a903b9078fd08dffe819f922b5833b
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Jun 21 00:02:19 2014 -0400

    [maven-release-plugin] prepare release parent-2.0.0

commit 081218f448a4a8fceef79068ab8b87e1a7e343c0
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Jun 20 23:55:49 2014 -0400

    2.0 release notes.

commit fd82e90d2d29228cb1e53eefc7ea905b907a287c
Merge: c0e0b25 5794a65
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jun 20 23:35:41 2014 -0400

    Merge pull request #952 from andrewgaul/bouncy-castle-1.50
    
    Upgrade to Bouncy Castle 1.50

commit 5794a6518b9d3861364c968f2bc302b651cbc456
Author: Andrew Gaul <andrew@gaul.org>
Date:   Fri Jun 20 16:07:53 2014 -0700

    Upgrade to Bouncy Castle 1.50
    
    Release notes:
    
    https://www.bouncycastle.org/releasenotes.html

commit c0e0b2563534340b0c81a91e1ff487431d754179
Merge: eb40f47 94f9a17
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jun 19 08:30:21 2014 -0700

    Merge pull request #948 from square/jwilson_0619_vary_accept_encoding
    
    Fix a bug where we weren't storing rewritten request headers.

commit 94f9a1719cc420be061b16e2da03258552c5060b
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Jun 19 08:29:26 2014 -0400

    Fix a bug where we weren't storing rewritten request headers.
    
    Closes https://github.com/square/okhttp/issues/947

commit eb40f47753ce1a7d45bb3fbcf7eb28ac6e7e2479
Merge: a0bf65b e3bac1e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jun 18 14:13:58 2014 -0400

    Merge pull request #946 from square/jw/lazy-url
    
    Lazily convert String-based Request urls into URLs.

commit a0bf65bbf6b9dab84ea173ec33f45b82851dcf47
Merge: 7295bb1 6171f55
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jun 18 13:02:11 2014 -0400

    Merge pull request #939 from square/jwilson_0617_window_size_bugs
    
    Fix two problems with the window size.

commit e3bac1e4a35f6b989617957332ef1ca5064a9365
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Jun 18 09:33:29 2014 -0700

    Lazily convert String-based Request urls into URLs.

commit 7295bb17231893fbbf75cb239d3d7f07b4c353f5
Merge: 8924105 bd055d3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jun 18 08:11:54 2014 -0400

    Merge pull request #941 from square/jw/caused-by
    
    Pass causing exception through on malformed URL.

commit bd055d30478c99b2307c275e9d47902c701df0c3
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Jun 17 23:44:09 2014 -0700

    Pass causing exception through on malformed URL.

commit 8924105d0d4cee9e972e0a60c2da807d7aae64a9
Merge: 7213e9b 2e3a253
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jun 17 22:05:20 2014 -0700

    Merge pull request #940 from square/jwilson_0617_gateway_timeout_message
    
    Use a better message for impossible requests.

commit 6171f554512ce314d5b7008fc660a1697887581c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Jun 17 22:25:19 2014 -0400

    Fix two problems with the window size.
    
    Each peer has a window size. The peer's window size controls how much
    data we can send the peer, and our window size controls how much data
    the peer can send us. We had these reversed in SpdyStream, so if the
    peer specified a non-default window size we wouldn't send the required
    WINDOW_UPDATE events when we needed to.
    
    The connection has its own window size. But unlike the stream window
    sizes, this needs to be manually adjusted with a windowUpdate frame
    when the connection is opened.
    
    Closes https://github.com/square/okhttp/issues/933

commit 2e3a253a5c7b4bcbdf9836575103ef86c6036eed
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Jun 17 23:46:10 2014 -0400

    Use a better message for impossible requests.

commit 7213e9b6b9e1508c349ccd6b13b894bd5d8bf96d
Merge: 8b58ecf cdd71f1
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jun 17 14:32:29 2014 -0700

    Merge pull request #935 from square/jw/seven
    
    Update the language level to Java 7.

commit cdd71f1bbd32f20d63d7100787b91c327d1b5b0c
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Jun 17 13:36:42 2014 -0700

    Update the language level to Java 7.

commit 1d9bb81ecdaf4fc568383d3ae0937105dd6fd9cf
Author: anderius@gmail.com <anderius@gmail.com>
Date:   Thu Jun 5 13:27:30 2014 +0200

    Added a version of takeRequest that takes a timeout.

commit 8b58ecf49bcc2a2183d83eae790d0df9429e8fe7
Merge: 6580d02 6afd576
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Jun 11 21:06:10 2014 -0700

    Merge pull request #923 from square/jw/failure-io
    
    Use IOException in Callback failure method.

commit 6580d0221b1cf80959055f0730246d85cacbfe1e
Merge: 1836612 a8a39be
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jun 11 23:56:51 2014 -0400

    Merge pull request #921 from square/jwilson_0611_tidy_examples
    
    Tidy up recipes.

commit 1836612da753d911e4065197e5da485616c78745
Merge: 9375aa8 9bba277
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jun 11 23:56:41 2014 -0400

    Merge pull request #922 from square/jwilson_0611_more_recipes
    
    Examples for authenticating and posting a form

commit 6afd57683c651ece727e26be454f6310812a205a
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Jun 11 19:32:41 2014 -0700

    Use IOException in Callback failure method.

commit 9bba277483bdb61aabf85143062194e76ef460b8
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Jun 11 22:07:42 2014 -0400

    Examples for authenticating and posting a form

commit a8a39be3f68e76589f209b99a38644f6e685b792
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Jun 11 22:18:19 2014 -0400

    Tidy up recipes.
    
    Make names slightly more consistent.

commit 9375aa8c4f954c086af05933191a5f9eed6c49eb
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Jun 11 00:10:51 2014 -0700

    Correct reference to RC1.

commit 2cea341be1b6d2753b82fb5fe396313cbc44181c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Jun 11 01:36:58 2014 -0400

    [maven-release-plugin] prepare for next development iteration

commit f171096b1124485c538e0f65059d564ed378ab91
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Jun 11 01:34:55 2014 -0400

    [maven-release-plugin] prepare release parent-2.0.0-RC2

commit a3b413dd53f97e98c845aeba4015db4adc5a10b4
Merge: 2938800 44300bd
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jun 10 21:50:44 2014 -0700

    Merge pull request #918 from square/jwilson_0611_scheme
    
    Test bogus scheme.

commit 44300bdf378e70b00cf3dcab5c1ad74365ba9b53
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Jun 11 00:48:55 2014 -0400

    Test bogus scheme.

commit 2938800a511d9d3c00134ae8458495f4955a360e
Merge: a889f71 3469c11
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jun 11 00:45:28 2014 -0400

    Merge pull request #917 from square/jw/char
    
    Use a character for appending spaces to skip array-based copy path.

commit a889f71f7ca0a7f0c243dc568e47acd4a83584a6
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Jun 11 00:44:55 2014 -0400

    Changelog for 2.0.0-RC2

commit 3469c11d3fc2f8ad5b01bc401724082a374da7f3
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Jun 10 21:30:20 2014 -0700

    Use a character for appending spaces to skip array-based copy path.

commit 72ef73aba0da8456517937b14661c9a7bd360bb4
Merge: beb99dd 543b335
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jun 10 19:33:28 2014 -0700

    Merge pull request #916 from square/jwilson_0610_multipart_post_recipe
    
    Multipart POST example using imgur's API.

commit beb99dd7800d82a9093244d7319a38dd7896347c
Merge: 71688e6 bdb5c2f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jun 10 22:31:13 2014 -0400

    Merge pull request #915 from square/jwilson_0610_useragents
    
    Don't include a weird user-agent in the new API.

commit 543b335640cc3feff84643f04447164ec5cc3d52
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Jun 10 22:27:48 2014 -0400

    Multipart POST example using imgur's API.

commit bdb5c2f4e96fb2dd6dbd77dfe7aebe1634649d42
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Jun 10 22:26:07 2014 -0400

    Don't include a weird user-agent in the new API.

commit 71688e6c5709546c67e19b72290c3de7e9c6a5c1
Merge: 9afa09b 97a0131
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jun 10 22:16:47 2014 -0400

    Merge pull request #914 from square/jwilson_0610_headers_of
    
    New API: Headers.of().

commit 97a01311da455eb392aea2149571de88cbfd9259
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Jun 10 22:01:00 2014 -0400

    New API: Headers.of().
    
    Doing anything with multipart makes this necessary.

commit 9afa09b4465761b99ef6802c169f98621ba55b3e
Merge: ae1e9ce aa7e7a7
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jun 10 17:34:08 2014 -0700

    Merge pull request #913 from square/jwilson_0610_response_after_callback
    
    Keep the response body alive after the callback.

commit ae1e9ce7cd32f1647a837af2541b47451ea80415
Merge: ac6ac33 1ae9679
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jun 10 16:59:02 2014 -0700

    Merge pull request #911 from square/jw/much-sadness
    
    Revert builder-esque return types from OkHttpClient.

commit aa7e7a751c8e0096e18f792f3a737ed21d265ead
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Jun 10 19:31:46 2014 -0400

    Keep the response body alive after the callback.

commit 1ae96798cbe80e71a4c9a79200a52d477275d323
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Jun 10 15:08:29 2014 -0700

    Revert builder-esque return types from OkHttpClient's timeout methods.

commit ac6ac338a3cdc877481e35e06b3f47a22aeec8f8
Merge: 393ad1c c5f1eba
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jun 10 12:17:17 2014 -0400

    Merge pull request #909 from square/jwilson_0609_unbreak_spdy31
    
    Don't skip client stream 1 on SPDY/3.1.

commit 393ad1c5e992aaa1df4dfcec761dd8fecab38124
Merge: adcd50a 8f7f3b2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jun 10 01:11:53 2014 -0400

    Merge pull request #908 from square/jwilson_0609_blow_up_on_unexpected_request_body
    
    Blow up on an unexpected request body.

commit c5f1ebac2e35b30fbc22926d18d899827eec8db3
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Jun 9 22:33:12 2014 -0400

    Don't skip client stream 1 on SPDY/3.1.
    
    This breaks connectivity to google.com's SPDY/3.1 servers.

commit adcd50a6326265ae3321f67f115629744023b638
Merge: f5fa80a 51b90a6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jun 9 23:44:35 2014 -0400

    Merge pull request #910 from square/jwilson_0609_npn
    
    Always configure NPN.

commit 51b90a6b5c34c0368cdc688058f3b63161e8b7b4
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Jun 9 22:54:08 2014 -0400

    Always configure NPN.
    
    Without this, we get a hard SSL crash when a server returns NPN
    information that was unsolicited.

commit 8f7f3b29a73e3e7dcdef893a2094aa47e2951046
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Jun 9 22:02:58 2014 -0400

    Blow up on an unexpected request body.

commit f5fa80a9b1602c1ac6685dafec0323c95f296084
Merge: 0f24a55 3ae7f7f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jun 9 21:52:57 2014 -0400

    Merge pull request #904 from square/jwilson_0608_eat_mimecraft
    
    Eat mimecraft.

commit 0f24a557e13816301bcaf4a0e7450904b68b62d7
Merge: 349251f 8a43a25
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jun 9 14:51:50 2014 -0400

    Merge pull request #906 from lexer/nullable_content_type
    
    Allow optional content-type for RequestBody.create with file param

commit 3ae7f7f9668a7948e61fbca9dd4006efd30d5711
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Jun 7 10:31:11 2014 -0700

    Convert mimecraft types to use OkHttp types: RequestBody, MediaType.
    
    This drops the Part type, replacing it with Headers+Body in MultipartBuilder.

commit 8a43a253358474a8ba1599f480de6244714f7cea
Author: Alexey Zakharov <alexey.v.zaharov@gmail.com>
Date:   Mon Jun 9 11:38:12 2014 -0700

    Allow optional content-type for RequestBody.create with file param

commit 6a2242ce3077291ee4311a91bf69df08cb15e678
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Jun 7 09:44:56 2014 -0700

    Import mimecraft as-is.

commit 349251ffb63c684718892797c92405b4eb8fb7d0
Merge: b4a3ce5 baba1c0
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jun 8 21:46:08 2014 -0700

    Merge pull request #900 from square/jwilson_0608_nullable_content_type
    
    Make the content type optional.

commit b4a3ce52b62aa55bbe385ef79c16fcd77e769bd7
Merge: ab9e160 5641d02
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jun 8 11:22:51 2014 -0700

    Merge pull request #901 from square/jwilson_0608_headers_recipe
    
    Add a Headers recipe.

commit 5641d02a8d03afd8878b8f7a58a85fbad81e07fe
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Jun 8 12:47:10 2014 -0400

    Add a Headers recipe.

commit baba1c090dde4d2e40479d9178bdcecafa76daa5
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Jun 8 11:28:10 2014 -0400

    Make the content type optional.
    
    https://github.com/square/okhttp/issues/899

commit ab9e16026c0893bc06d97d068b33a30037853238
Merge: c89ca72 30b0fd6
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Jun 6 07:51:41 2014 -0700

    Merge pull request #897 from square/jwilson_0605_regression_connection_close
    
    Fix a regression in connection cleanup.

commit 30b0fd62d297319a8b7d862af4e2d91864de3f6d
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Jun 6 00:29:19 2014 -0700

    Fix a regression in connection cleanup.
    
    We don't test that connections actually get closed, and this was
    broken by a refactoring that dropped close() on Connection.

commit c89ca72a9cd15523e60210657d7e52b9c696994a
Merge: 848ad4a 0c837a4
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Wed Jun 4 09:20:55 2014 -0700

    Merge pull request #887 from square/adrian.write-continuations
    
    Write continuation frames when hpacked data is larger than 16383 bytes.

commit 0c837a4f1c82e57652a03241c96a78148104f3e7
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat May 31 16:33:24 2014 -0700

    Write continuation frames when hpacked data is larger than 16383 bytes.
    
    Change max frame size to a constant.

commit 848ad4a5c393c678aa28250b50aceb811511ebd1
Merge: 896f4fd ea9103a
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jun 3 23:51:35 2014 -0700

    Merge pull request #893 from square/jwilson_0603_configure_timeouts_recipe
    
    Recipe for configuring timeouts.

commit 896f4fd0cea5969566f5b5089afe3347c7fcf8a7
Merge: f17f74f 22bb048
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jun 3 23:51:10 2014 -0700

    Merge pull request #892 from square/jwilson_0603_per_call_recipe
    
    Recipe to clone OkHttpRequest for per-request config changes.

commit ea9103a2433b9c15b69888f20db0bc629f139d87
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Jun 3 23:39:22 2014 -0700

    Recipe for configuring timeouts.

commit 22bb048e13850e0fe8a7987910002126326b1dd5
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Jun 3 23:32:10 2014 -0700

    Recipe to clone OkHttpRequest for per-request config changes.

commit f17f74f8949774439b300a980c63bf51a6889b20
Merge: 3af2131 4c77a1c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jun 2 03:49:00 2014 -0400

    Merge pull request #889 from square/jwilson_0601_cancel_example
    
    Cancel recipe.

commit 4c77a1cc53cc2cdaa318eaa76f010cfb63e7bb91
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Jun 1 09:51:24 2014 -0400

    Cancel recipe.

commit 3af2131c724e592eb57271198fe0fd057d9ed2f9
Merge: ae8d331 f7c3bad
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jun 2 03:38:28 2014 -0400

    Merge pull request #888 from square/jwilson_0601_file_per_example
    
    Give each recipe its own file.

commit f7c3bad89feda8a6b380c2df732fdfd762f92175
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Jun 1 09:22:22 2014 -0400

    Give each recipe its own file.

commit ae8d33170eb82fdbae3d9f000c69eb859ac76c83
Merge: 6a3bdc6 1ba78fa
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Sat May 31 19:03:06 2014 -0700

    Merge pull request #886 from square/jwilson_0531_post_recipes
    
    Some POST samples.

commit 1ba78fa29d1c0667bf7fb5efac2a9898d1d98b43
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 31 10:01:19 2014 -0400

    Some POST samples.

commit 6a3bdc60a98e5807a830cc32c1463e369c983f31
Merge: 9598d1d 3226432
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri May 30 18:36:25 2014 -0700

    Merge pull request #882 from square/jw/okio-low-hanging-fruit
    
    Leverage Okio for yanking a full byte[].

commit 9598d1dec5fa49867f63e4e6278bd97a42af553a
Merge: f83d7be 91f36c7
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri May 30 18:35:40 2014 -0700

    Merge pull request #883 from square/jw/code-style
    
    Update test to JUnit 4, Square code style.

commit f83d7befceab51215272a21848f113a94b47e843
Merge: 32c75ea 2ec2027
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri May 30 18:34:59 2014 -0700

    Merge pull request #884 from square/jwilson_0529_is_successful
    
    Add missing copyright headers.

commit 2ec2027fc00e24a83cd7bb7fef8b11e7c751bc13
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri May 30 21:05:57 2014 -0400

    Add missing copyright headers.
    
    https://github.com/square/okhttp/issues/880

commit 91f36c75af70af01b790cb1d97a3ece66f8318c0
Author: Jake Wharton <jw@squareup.com>
Date:   Fri May 30 16:08:49 2014 -0700

    Update test to JUnit 4, Square code style.

commit 3226432039b31c731faeccccfe92a85853bd487e
Author: Jake Wharton <jw@squareup.com>
Date:   Fri May 30 15:57:02 2014 -0700

    Leverage Okio for yanking a full byte[].

commit 32c75ea09fcb538c816be982aca3eebf9493cbd2
Merge: 92f12ec e31b737
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu May 29 22:01:21 2014 -0700

    Merge pull request #874 from square/jw/response-source-header
    
    Expose backwards-compatible response source header.

commit e31b7377638b8d36be9b584e757814afc259748a
Author: Jake Wharton <jw@squareup.com>
Date:   Tue May 27 23:22:16 2014 -0700

    Expose backwards-compatible response source header.

commit 92f12ecafa6af001c1d02dc6bfcc2f24261b0f62
Merge: 7822967 b398a40
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 30 00:23:09 2014 -0400

    Merge pull request #878 from square/jwilson_0529_is_successful
    
    Response.isSuccessful().

commit b398a4073dc098ae44c2019618a07a5469b96b67
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri May 30 00:10:17 2014 -0400

    Response.isSuccessful().

commit 7822967b9dc003615147c21b9832ef451b7f769d
Merge: 051715f 8f6a21e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu May 29 17:27:35 2014 -0700

    Merge pull request #877 from square/jw/java-seven
    
    Restore Java 7-specific override annotation.

commit 8f6a21e864bf9059b70845f9c0d8837be997bc74
Author: Jake Wharton <jw@squareup.com>
Date:   Thu May 29 13:52:36 2014 -0700

    Restore Java 7-specific override annotation.
    
    We require Java 7 to build now and this doesn't affect Java 6 at runtime.

commit 051715f97a4f8766839735048c9ca9c7cd9402fa
Merge: 740de60 84ba90f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed May 28 00:36:35 2014 -0400

    Merge pull request #872 from square/jwilson_0527_recipes
    
    Recipes for Gson and Caching.

commit 84ba90faf8ecfa80ecaaf4292caa9db568804d8d
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed May 28 00:24:59 2014 -0400

    Recipes for Gson and Caching.

commit 740de60b1a075c6d3f877960f72751576e06bf0a
Merge: 241ea05 f6a46b8
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue May 27 08:27:42 2014 -0700

    Merge pull request #868 from square/jwilson_0527_dont_lose_uncaught_exceptions
    
    Don't lose uncaught exceptions.

commit f6a46b8992e486fb881b77c2fd533dc4d71dfd5b
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue May 27 09:33:46 2014 -0400

    Don't lose uncaught exceptions.

commit 241ea05d30c069031427580601cedaa6429343eb
Merge: 1a1cc18 95ea889
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 26 21:30:55 2014 -0700

    Merge pull request #867 from square/jwilson_0526_first_recipes
    
    First couple recipes.

commit 95ea889b5bfa3e343b81ff21db474dce334884e8
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon May 26 23:15:58 2014 -0400

    First couple recipes.

commit 1a1cc18f26c381f405d62f5b9262b3113736d014
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun May 25 09:56:46 2014 -0400

    Update samples and marketing site.

commit 7c26ec5bfad8457437fc76e46eabf57dc81e899a
Merge: cc92c4c e870d26
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 24 17:35:35 2014 -0400

    Merge pull request #863 from square/jwilson_0524_javadoc
    
    Build Javadoc for OkUrlFactory and OkApacheClient.

commit e870d2645abab393f6f0107ed68fffecbf91dcc1
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 24 10:28:50 2014 -0400

    Build Javadoc for OkUrlFactory and OkApacheClient.
    
    Also create a permanent URL for 1.x Javadoc.

commit cc92c4cecc1e009e43383a600c99e783cfe86990
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 24 02:03:47 2014 -0400

    [maven-release-plugin] prepare for next development iteration

commit 8dcc74d339e0664580756063ff47c65c6f1a17ae
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 24 02:03:37 2014 -0400

    [maven-release-plugin] prepare release parent-2.0.0-RC1

commit d7b6ee2be875366311dc2104b5b6aab3d4eb1126
Merge: abdf14c dbbdcd3
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri May 23 22:32:58 2014 -0700

    Merge pull request #862 from square/jwilson_0524_bootclasspath_collision
    
    Don't use the property bootclasspath; that collides with the javadoc plugin

commit dbbdcd3a3985d7f73d68c4a3f69d75c25f355cc9
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 24 01:28:15 2014 -0400

    Don't use the property bootclasspath; that collides with the javadoc plugin.

commit abdf14c400eb0ef51a3065a958979e81470b0a67
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 24 00:31:13 2014 -0400

    Depend on Okio 1.0.0.

commit 5d159027439fbb6537b4c8b11ac1048bf84f2cae
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri May 23 15:59:04 2014 -0400

    Changelog for 1.6.0.

commit 1364bf70f5eddf851a442fe312f1e17263717054
Merge: 21f8140 5648a68
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Thu May 22 09:30:02 2014 -0700

    Merge pull request #858 from square/adrian.fixedContentLength0
    
    In HttpURLConnection, pay attention when fixedContentLength is set to zero

commit 5648a6868d64ac0f7e25550d2d78516ba78eafa3
Author: Adrian Cole <adrian@squareup.com>
Date:   Wed May 21 14:44:22 2014 -0700

    In HttpURLConnection, pay attention when fixedContentLength is set to zero.

commit 21f81403b430d85b77ad74d290a5248d65727867
Merge: efa4f6d efc791b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed May 21 13:17:14 2014 -0400

    Merge pull request #854 from square/jw/rename-fix
    
    Correct accidental rename of reflected method.

commit efa4f6d10a0472f3b95d42b3542db0dc5d4e7e8b
Merge: 058da2c e2884a7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed May 21 13:15:50 2014 -0400

    Merge pull request #851 from square/jwilson_0521_v2_changelog
    
    OkHttp/2 changelog.

commit e2884a722b0ed2a25269dac33d5708fd80325409
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed May 21 08:34:46 2014 -0400

    OkHttp/2 changelog.
    
    I ended up writing something that's kind of like a migration guide.
    I think we want to put the big API changes up front in the changelog,
    and probably also a separate doc with before/after examples.

commit efc791b84afa4d6a6083e0913dc550c8698d1f73
Author: Jake Wharton <jw@squareup.com>
Date:   Wed May 21 09:37:41 2014 -0700

    Correct accidental rename of reflected method.
    
    Broken in 022173a44406f1492c674dc9450423581a21d675.

commit 058da2c4efe4a36413a46fd498a0f31c26091b95
Merge: cddcd3e 9e233ca
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue May 20 22:25:08 2014 -0700

    Merge pull request #849 from square/jwilson_0520_getheaders
    
    Drop getHeaders() which is redundant with headers().

commit 9e233ca544cf0475bfed689d25555331a8d1145c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed May 21 00:35:51 2014 -0400

    Drop getHeaders() which is redundant with headers().

commit cddcd3efa0370b9e071ab725ac2414066724e2aa
Merge: d2df867 ed70981
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue May 20 07:50:01 2014 -0400

    Merge pull request #847 from square/jwilson_0519_strip_auth_headers
    
    Strip auth headers when redirected to another host.

commit d2df8677cf5ced8694d429ae24ff320f37dbe621
Merge: 3d0d59c 3bf2e37
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 19 23:37:35 2014 -0700

    Merge pull request #846 from square/jwilson_0319_redirect_npe
    
    Don't NPE after a redirect.

commit ed70981925e64fd0cb593d09bdd401ea4ea19848
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon May 19 23:18:01 2014 -0400

    Strip auth headers when redirected to another host.
    
    These are potentially private and we don't want to leak them to another
    host, regardless of whether they're created by the calling application or
    by the Authenticator.

commit 3bf2e371228351e35bec1efd04ef89129fca0dc6
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon May 19 22:14:20 2014 -0400

    Don't NPE after a redirect.
    
    We were releasing the connection (to the successor request) and
    later attempting to close the null connection.

commit 3d0d59c2b7c4f7f7858d0a30f98b714e63cfe21c
Merge: dd095a6 e40af07
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Mon May 19 16:10:45 2014 -0700

    Merge pull request #845 from square/jw/no-tests
    
    Do not deploy tests artifact.

commit e40af071ebffa18f39e5f555d6fb41b2e31de0a8
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 19 15:47:13 2014 -0700

    Do not deploy tests artifact.

commit dd095a606973ae67b9027339719ed4123cdd599e
Merge: 057da5c 4eaa9b5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 19 17:45:53 2014 -0400

    Merge pull request #844 from square/jw/doc
    
    Remove unknown clause from response code javadoc.

commit 4eaa9b5b703bfeb7a6a0cafc9606d4f0b04cf2cb
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 19 14:37:59 2014 -0700

    Remove unknown clause from response code javadoc.
    
    The builder guarantees that the code is always positive.

commit 057da5c16d10c13defe39e8ba988c2019400e17f
Merge: 3384b3f 630fd7f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 19 16:45:36 2014 -0400

    Merge pull request #842 from square/jw/traffic-stats
    
    Support Android TrafficStats socket tagging.

commit 3384b3f4319a372ba3ddd4fd13fdca9c0f18c391
Merge: 4f38d66 53b9f84
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 19 16:23:27 2014 -0400

    Merge pull request #843 from square/jw/kill-failure
    
    Remove Failure wrapper type.

commit 53b9f84cb694a6267373b1fdd6d2144a6f05b68b
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 19 13:15:50 2014 -0700

    Remove Failure wrapper type.

commit 630fd7fb080ba4843a459b9833e8649a30d8a45b
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 19 12:03:09 2014 -0700

    Support Android TrafficStats socket tagging.

commit 4f38d669f4c4db1fe9100f41ec54b27432cd61cd
Merge: aade32d 900a0d3
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 19 08:40:52 2014 -0700

    Merge pull request #838 from square/jwilson_0518_cache_request
    
    Expose Vary headers in the cache request.

commit 900a0d3d409b3dc20caff73cf61bc279a00fbab2
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon May 19 09:03:00 2014 -0400

    Expose Vary headers in the cache request.

commit aade32d97ec03e3c60206011aaa0be00c6cbfe6b
Merge: d0128c7 22a03b5
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 19 08:18:44 2014 -0700

    Merge pull request #840 from square/jwilson_0519_no_response_source
    
    Drop ResponseSource.

commit d0128c7fbcb27ea9296c9d3d9f51fe087e9684a1
Merge: 7d49f77 d017be5
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 19 08:01:25 2014 -0700

    Merge pull request #839 from square/jwilson_0519_gzip
    
    Test differences between user and network responses for gzip.

commit 22a03b59fac9fa58cb59a6f240c8280a2a1eb801
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon May 19 11:01:22 2014 -0400

    Drop ResponseSource.

commit d017be5b0042d2142d9b541c1403aa393c2c7fdd
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon May 19 09:50:33 2014 -0400

    Test differences between user and network responses for gzip.

commit 7d49f7769385941e1d2f7e27e93bf8d1b38ceb3f
Merge: 4ea4aa4 9abfde9
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun May 18 22:46:12 2014 -0700

    Merge pull request #836 from square/jwilson_0518_responsetypes
    
    Network, cache and user response types.

commit 9abfde9e5ad7c67ddad907c55bfb2378bc65082c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun May 18 21:24:04 2014 -0400

    Network, cache and user response types.
    
    Change the internals to handle user, network and cache requests and
    responses. Expose the network and cache responses in the API, so that
    clients can see which responses were cached, network, and conditionally
    cached.
    
    This is intended to replace ResponseSource.

commit 4ea4aa429a5107aaf82398e7f4de758b903d7084
Merge: 85a3e9b 0676d8b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 17 21:14:20 2014 -0400

    Merge pull request #835 from square/jwilson_0517_promote_code_to_urlconnection
    
    Move code to the urlconnection module.

commit 0676d8b1733589a869098b9980118644b3bade4f
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 17 19:37:13 2014 -0400

    Move code to the urlconnection module.
    
    We don't need this code for the core OkHttp API.

commit 85a3e9bfc58040c9ffb2ee906b39702bb26a84a5
Merge: af08d4a 271cc7b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 17 18:40:29 2014 -0400

    Merge pull request #834 from square/jwilson_0517_urlconnection
    
    First steps at making URLConnection a shim.

commit 271cc7b632ace0ce5770725d38abb2413af5410e
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 17 15:00:05 2014 -0400

    First steps at making URLConnection a shim.
    
    This extracts the URLConnection APIs to their own project. I still need to
    go back and clean up some names in tests, add documentation, and move the
    actual HttpURLConnection implementation details into this module.

commit af08d4a3f3790c375ce86b54ad80d9d1af9cf970
Merge: 95f4975 2bf8aeb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 17 18:38:26 2014 -0400

    Merge pull request #832 from square/jwilson_0511_authenticate_and_redirect
    
    Add tests to show we drop authentication headers on redirect.

commit 95f4975430d98a6d3a4d19da381fce5721b63468
Merge: 8ee5584 d30c48a
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat May 17 11:58:40 2014 -0700

    Merge pull request #833 from square/jwilson_0517_prior_response
    
    Rename redirectedBy to priorResponse.

commit 8ee5584a1c6ff170fbac8222d0bda95b82acee78
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 17 13:59:17 2014 -0400

    Update README.md

commit b21b0de3044d495ab42863442e4ace21d69180ba
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 17 13:37:29 2014 -0400

    Documentation moved to GitHub wiki.

commit d30c48a1943f165cbd18a33b629b15434079a15a
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 17 13:21:26 2014 -0400

    Rename redirectedBy to priorResponse.
    
    I'm not completely in love with the name prior response, but it's better
    than redirected by because it covers both redirects and authentication
    challenges.

commit 2bf8aeb420ff7ccfa19b19934487960c43f70cb9
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun May 11 22:57:10 2014 -0400

    Add tests to show we drop authentication headers on redirect.
    
    At the moment, we don't and the tests fail!
    https://github.com/square/okhttp/issues/810

commit 48831a91771651a692a3e710b9e9250aafa16f79
Merge: f74a8c6 73aaaee
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 12 21:32:17 2014 -0700

    Merge pull request #826 from square/jwilson_0513_requesting_site
    
    Don't rely on a fully-populated InetAddress for tests to pass.

commit 73aaaeecae3a499ed572bcd76516d3881f973bb3
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue May 13 00:23:49 2014 -0400

    Don't rely on a fully-populated InetAddress for tests to pass.

commit f74a8c6723c5dc1574cf6bfff6e1b55051a0466c
Merge: 99d540d 1ce14da
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Mon May 12 07:32:15 2014 -0700

    Merge pull request #824 from ChristianBecker/patch-1
    
    Fixed typo in HTTP_2 JavaDoc.

commit 1ce14dad4610c4a25929ffd33b3064306bc06239
Author: Christian Becker <christian.becker.1987@gmail.com>
Date:   Mon May 12 10:43:46 2014 +0200

    Fixed typo in HTTP_2 JavaDoc.

commit 99d540d71f9d1712e532641b2c0347c5e75366c5
Merge: b6d8f80 d111f4c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 11 08:07:02 2014 -0400

    Merge pull request #819 from square/jwilson_0510_rename_authenticator
    
    Rename OkAuthenticator to Authenticator.

commit d111f4cd19d3d69558dd2186d778efb69b90b1e3
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 10 11:35:07 2014 -0400

    Rename OkAuthenticator to Authenticator.

commit b6d8f809e33d989895a49c9454c4a492119d344c
Merge: a27f21c 84312bd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 10 11:31:40 2014 -0400

    Merge pull request #818 from square/jwilson_0510_callback
    
    Rename Response.Callback to Callback.

commit 84312bd93f895641f90900952dba6bb48d0b247e
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 10 11:17:36 2014 -0400

    Rename Response.Callback to Callback.

commit a27f21c7f653b08e19b27f032dff82403f97aa4c
Merge: 0f41975 9fcb67d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 10 11:15:01 2014 -0400

    Merge pull request #817 from square/jwilson_0510_drop_dots
    
    Rename Request.Body to RequestBody and Response.Body to ResponseBody.

commit 9fcb67db2f20bcd6a2f7f870e3fc6f5f89589262
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 10 08:26:44 2014 -0400

    Rename Request.Body to RequestBody and Response.Body to ResponseBody.
    
    Compelling alternative is ReadableBody and WritableBody, or BodySource and BodySink.
    Which in theory permits reuse for serverside body makers. But I don't like those names
    as much.

commit 0f419751483fcdf0c2f8195a297a8c97557625b0
Merge: 9d53ef1 d614f05
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu May 8 12:25:33 2014 -0400

    Merge pull request #812 from square/adrian.no-fix
    
    Remove FIXME from Huffman as it is good enough.

commit d614f056145d07cfa77140f03027f385afe57c85
Author: Adrian Cole <adrian@squareup.com>
Date:   Thu May 8 09:09:35 2014 -0700

    Remove FIXME from Huffman as it is good enough.

commit 9d53ef16c85523e3197a786bb63b63a42a530877
Merge: 4044d78 a68b85f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu May 8 10:01:53 2014 -0400

    Merge pull request #811 from square/adrian.streaming-huffman
    
    Don't coerce HTTP/2 response headers to lowercase.

commit a68b85f7ef704dbb6804b0fea97552897a18fc8f
Author: Adrian Cole <adrian@squareup.com>
Date:   Wed May 7 22:36:06 2014 -0700

    Don't coerce HTTP/2 response headers to lowercase

commit 4044d787c617d8a0a4c0e6e03bd44e8a11c1546b
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed May 7 01:58:48 2014 -0400

    Connections doc.

commit 92621f5bceb5e6eee33ec970bc93b5e7f702403e
Merge: 9d173b9 8ad7996
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed May 7 00:13:55 2014 -0400

    Merge pull request #809 from square/adrian.tidy-http2
    
    Fix a couple masks and remove duplication in http2 test

commit 8ad79965defd8a6630e78c87ad02059040b3842a
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue May 6 07:35:08 2014 -0700

    Fix a couple masks and remove duplication in http2 test.

commit 9d173b9f0dac83905d962afc7814695c7cedd784
Merge: 13ea4b1 8f49f0e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 5 22:21:16 2014 -0700

    Merge pull request #806 from square/adrian.missed-http2-setting
    
    Added missing setting for compressed data frames.

commit 8f49f0e0147d9158ea635d8a22b17911719d0c6b
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon May 5 20:02:12 2014 -0700

    Added missing setting for compressed data frames.

commit 13ea4b115848b3688748c3a26f694f96a07a3024
Merge: 483fd3a ce424f3
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 5 21:49:17 2014 -0700

    Merge pull request #808 from square/adrian.flake-flashlight
    
    Add more context to SpdyConnectionTest.receiveGoAwayHttp2 so that next flake is easier to identify

commit 483fd3a396bf8348495827e42ca40141625c6246
Merge: 08c24f0 8fee160
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 5 21:28:32 2014 -0700

    Merge pull request #807 from square/adrian.flakey-tests
    
    Fix NPE on proxySelector.select

commit ce424f32fa1eacde71152663fa490e3276a45100
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon May 5 21:19:57 2014 -0700

    Add more context to SpdyConnectionTest.receiveGoAwayHttp2 so that next flake is easier to identify.

commit 8fee1602bc57eb8b9b8b7302846a2570d0944c4b
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon May 5 20:52:45 2014 -0700

    fix #800: NPE on proxySelector.select

commit 08c24f05829df69c79abbfb09482c8dbe683d49e
Merge: d8c4da5 ee2ed56
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 5 17:51:54 2014 -0700

    Merge pull request #804 from square/jwilson_0505_redirected_in_auth
    
    Track redirectedBy in HttpEngine.

commit ee2ed56c9ad4563f5713ff0f572a5454af16901d
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon May 5 20:41:13 2014 -0400

    Track redirectedBy in HttpEngine.
    
    Tracking it in Call meant we would need to duplicate code
    in HttpURLConnection if we wanted the same behavior.

commit d8c4da5d9020ea1db3a26809d8f3e7076e5d1561
Merge: f63a8d7 c85153e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 5 11:36:29 2014 -0400

    Merge pull request #801 from square/adrian.pushcallback-order
    
    Ensure Push Promise callbacks are processed in order.

commit c85153e6a6a2fd93d17dcb18352b42698cf7d814
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun May 4 21:43:51 2014 -0700

    fix #768: Ensure Push Promise callbacks are processed in order.

commit f63a8d7de09bd4cacf5d58e97e3390c34a81bf55
Merge: 899fb43 80cb022
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 5 08:32:39 2014 -0400

    Merge pull request #802 from square/adrian.force-cancel-order
    
    Reorder test to ensure call is canceled before its body is returned

commit 80cb022e49e63cbf304654f41153d5d4fd2cde50
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun May 4 22:33:06 2014 -0700

    fix #789: Reorder test to ensure call is canceled before its body is returned.

commit 899fb43a55349fb1e1ce5d57081039ec7c560358
Merge: 25b2a67 cc38140
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 4 23:26:29 2014 -0400

    Merge pull request #792 from square/adrian.http2-draft12
    
    Update to http/2 draft 12

commit cc38140be4c7e41330cf7749c3eeba23c85f9522
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat May 3 16:50:51 2014 -0700

    Added support for http/2 draft 12, which is incompatible with previous priority schemes.

commit 069dda77b17f25770e68f4460c27d1c0da8d0f3d
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat May 3 12:03:56 2014 -0700

    Update to Hpack Draft 07.

commit 25b2a67ff59b8e307675c193c0ef94f8d091efa0
Merge: cd7cd8f c536a8d
Author: Adrian Cole <adriancole@users.noreply.github.com>
Date:   Sun May 4 08:27:14 2014 -0700

    Merge pull request #798 from square/jwilson_0504_no_default_cache
    
    Don't honor the default java.net.ResponseCache.

commit c536a8db8d7638ac5b967cfb9fa8308fb7bf26e0
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun May 4 10:02:27 2014 -0400

    Don't honor the default java.net.ResponseCache.
    
    Applications using ResponseCache.setDefault() will need to use OkHttp's
    cache interface instead.
    
    We no longer support any user-defined caches.

commit cd7cd8ffed02a709edf62f3b373106d67e4ef5be
Merge: cf17703 0466edb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 4 09:35:08 2014 -0400

    Merge pull request #794 from square/jwilson_0503_routedb
    
    Hide route database.

commit 0466edb4ad41c8549ca6bd7be16b064274bce4c7
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun May 4 00:00:23 2014 -0400

    Hide route database.

commit cf177031582e76f96465b9222c4e322ee11f8c27
Merge: f4c1b7b 73a0649
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 3 23:52:25 2014 -0400

    Merge pull request #793 from square/jwilson_0503_copywithdefaults
    
    Test copyWithDefaults.

commit f4c1b7b159236b469f342a2393fb35b53cb36ab7
Merge: 05562e0 5ddcdf5
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat May 3 18:19:39 2014 -0700

    Merge pull request #783 from square/jwilson_0427_okio_timeouts_spdy
    
    Use Okio for timeouts in SPDY.

commit 5ddcdf54828b8543613d2a07da1139cc4c20ea72
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Apr 27 22:39:18 2014 -0400

    Use Okio for timeouts in SPDY.
    
    This depends on new AsyncTimeout API in Okio being released.

commit 73a06499537e700fe10a9465cea53b583b91a0fc
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat May 3 19:47:59 2014 -0400

    Test copyWithDefaults.
    
    Also change initialization of the default SSL factory to be a global
    constant rather than a per-client constant. Otherwise two clones of
    the same client won't share an SSLSocketFactory.

commit 05562e064a4ba4cbc350f900f2b91b226da868c4
Merge: 033cfcf c26f9af
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Apr 30 22:20:04 2014 -0400

    Merge pull request #790 from square/jwilson_0430_hide_hide_hide
    
    Hide ConnectionPool.recycle and share.

commit c26f9af0489869a9e1873ed5010c65f8464cff26
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Apr 30 22:02:51 2014 -0400

    Hide ConnectionPool.recycle and share.

commit 033cfcf3662089e5934671ed3c3877c66bc0e069
Merge: 7e6e92d 1044d9e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Apr 30 22:00:48 2014 -0400

    Merge pull request #788 from square/jwilson_0430_hide_more_apis
    
    Hide more APIs with Internal.access.

commit 1044d9eea21d8be54c195fff75ca0a7b9bba79b3
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Apr 30 20:58:06 2014 -0400

    Hide more APIs with Internal.access.
    
    The callsite is uglier but the API is neater. I think overall
    it's a small win.

commit 7e6e92de511c4b9593fb51d6dda85c89ca28a81a
Merge: 31f5b1d 853b4e3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Apr 30 12:26:30 2014 -0400

    Merge pull request #786 from square/jwilson_0430_hide_implementation_details
    
    New approach to hiding implementation details.

commit 853b4e35f1ddbf3c5db1d91c7ff02c2d979da86f
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Apr 30 09:10:00 2014 -0400

    New approach to hiding implementation details.
    
    This relies on the happy accident that OkHttpClient.class will be initialized
    before any attempt to use internal APIs.

commit 31f5b1dba595d975af7a815694c2a366324708f3
Merge: c277c89 329750f
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Apr 28 20:30:43 2014 -0700

    Merge pull request #785 from square/jwilson_0428_rename_cache
    
    Rename HttpResponseCache to Cache.

commit 329750f91730982a02e9f0732e5d1d84eaa97db7
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Apr 28 23:01:54 2014 -0400

    Rename HttpResponseCache to Cache.
    
    Also move OkResponseCache.java into internal.

commit c277c8926f8cc7c0db4bb47ae1eb00b61a1b2161
Merge: d1768cb 7e28b1d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Apr 28 21:52:59 2014 -0400

    Merge pull request #784 from square/jwilson_0428_cache_interfaces
    
    Change HttpResponseCache to not implement java.net.ResponseCache.

commit 7e28b1d6b6834879556b9c3caa62e49e428351cc
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Apr 28 21:01:46 2014 -0400

    Change HttpResponseCache to not implement java.net.ResponseCache.
    
    This marks some methods as @Deprecated and internal-only.
    Unfortunately we don't have a great mechanism to hide them from
    the documented API.

commit d1768cb499e9d1bd48622dd0529329bc6330438c
Merge: 743ae0c a5b7c3b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Apr 28 13:19:54 2014 -0400

    Merge pull request #687 from square/adrian.death-to-npn
    
    Add ALPN support; Configure maven to use ALPN on OpenJDK 8.

commit a5b7c3b2f31164e20bc3a19187182af57bd3a330
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Apr 28 09:35:04 2014 -0700

    Add ALPN support; Configure maven to use ALPN on OpenJDK 8.

commit 743ae0cbbae97b26a782bd6dd5b9eb2920cb97a0
Merge: 58b71d9 770a1f9
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Apr 27 12:57:54 2014 -0700

    Merge pull request #781 from square/jwilson_0427_tiny_cleanups
    
    Small cleanups.

commit 58b71d915fed034e11aa933292c5c038a51b5b08
Merge: 654c0d2 b057ad2
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Apr 27 10:30:23 2014 -0700

    Merge pull request #780 from square/jwilson_0427_rename_execute
    
    Rename execute to enqueue for async calls.

commit 654c0d22cd1550f77bb1a02e0f8184a929176a7f
Merge: fc9f0ed 022173a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 27 13:02:46 2014 -0400

    Merge pull request #779 from square/adrian.remove-npn-tagging
    
    Don't suggest NPN will be used when it might be ALPN

commit 770a1f954dfbd1b956ffceaf67c38f10a4de4401
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Apr 27 12:40:58 2014 -0400

    Small cleanups.
    
    Return the OkHttpClient on setters.
    Remove some completed TODOs in Call.
    Link to Okio in Javadoc.

commit b057ad2418fd2d74656d1f56fe44474266b47ac0
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Apr 27 12:18:52 2014 -0400

    Rename execute to enqueue for async calls.
    
    I prefer 'enqueue' because we might not actually run the job
    for some time (due to dispatcher's limits).

commit 022173a44406f1492c674dc9450423581a21d675
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Apr 27 09:09:00 2014 -0700

    Don't suggest NPN will be used when it might be ALPN.

commit fc9f0ed5921ab3a72fbda7adc2e2d9547d40d9e4
Merge: c7c1d26 da7ef58
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Apr 27 08:16:51 2014 -0700

    Merge pull request #777 from square/jwilson_0427_kill_pickport
    
    When we want a port, take it.

commit da7ef589e1ce8a7a0c9df1922285b69098495382
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Apr 27 10:58:20 2014 -0400

    When we want a port, take it.

commit c7c1d2605a787f5f63ae32e44d0d5177d0c8e3c4
Merge: a1f0b4a 550c5e3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 27 10:19:25 2014 -0400

    Merge pull request #773 from square/jw/forwarding
    
    Use a ForwardingSource where possible.

commit a1f0b4a41e417bcda04a60eccf27f2681470b04e
Merge: 7f3d9b4 c908bfb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 27 10:18:06 2014 -0400

    Merge pull request #774 from square/jw/huc-stuff
    
    Update cache tests to use JUnit rules. Break out HUC-specific test.

commit c908bfbcf66e6e27a5c9f708e6a52cd883015346
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Apr 27 03:44:22 2014 -0700

    Update cache tests to use JUnit rules. Break out HUC-specific test.

commit 7f3d9b43b79c96cccd2ae42ff216fd4b1f316a73
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Apr 27 02:52:10 2014 -0700

    Drop redundant qualifier on already-imported constant.

commit 550c5e3865bea137fbf6a9c2693542edf34fc69e
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Apr 27 01:16:32 2014 -0700

    Use a ForwardingSource where possible.

commit d32d452ecbcfef5ec9497cb0f859a451ff395e82
Merge: e0c0e9d bdf42b2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 26 16:45:40 2014 -0400

    Merge pull request #771 from square/adrian.okcurl-frames
    
    Add --frames arg to okcurl, which sends HTTP/2 frame metadata to STDERR.

commit e0c0e9d563b08987a0237f656967c5a22713af8d
Merge: a76a1f9 0ee2cc3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 26 15:51:27 2014 -0400

    Merge pull request #770 from square/adrian.methods-spdy
    
    Ensure SPDY variants support zero-length DELETE, POST.

commit bdf42b20e88e6dd390448c5e7dbb299e8757d955
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Apr 26 11:12:43 2014 -0700

    Add --frames arg to okcurl, which sends HTTP/2 frame metadata to STDERR.

commit a76a1f93d3a5ca78fb3816a26b796c9af9c97edd
Merge: fa842d1 b754258
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Apr 26 11:04:19 2014 -0700

    Merge pull request #760 from square/jwilson_0424_more_followup
    
    Move more behavior into HttpEngine.followUpRequest

commit b7542587b8e90aa4472d4d9e4b74a72ca0c42cb4
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Apr 24 22:09:03 2014 -0400

    Move more behavior into HttpEngine.followUpRequest

commit 0ee2cc330abf0658814d77b89999e7dc3a85aab9
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Apr 26 09:33:24 2014 -0700

    Ensure SPDY variants support zero-length DELETE, POST.

commit fa842d11fcb0dddc98a758d77d5a8b5412129faf
Merge: 04aee71 520d9fc
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 26 12:22:50 2014 -0400

    Merge pull request #769 from square/adrian.common-verbs
    
    Support common http verbs including zero length POST, DELETE.

commit 520d9fc2bc6b251a998b58794070f8bebee9d682
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Apr 26 08:11:19 2014 -0700

    Support common http verbs including zero length POST, DELETE.

commit 04aee71eb5007c87d857c4c2690689e89722f092
Merge: 1873309 c3e8a5d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Apr 25 22:31:18 2014 -0400

    Merge pull request #766 from square/adrian.dont-split-hairs
    
    Use IOE for canceled streams

commit c3e8a5d326f026ba6af20d0bf7da41c005ff1915
Author: Adrian Cole <adrian@squareup.com>
Date:   Fri Apr 25 15:21:41 2014 -0700

    Use IOE for canceled streams.

commit 1873309de5ec1ecbfeb5ec31dd955a7e6e791aba
Merge: 499f402 38ea820
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Fri Apr 25 15:04:48 2014 -0700

    Merge pull request #765 from square/adrian.blockingcall-cancellationexception
    
    Throw CancellationException when blocking call canceled as opposed to returning null

commit 38ea820a73eb318254e9722653aac8878598c266
Author: Adrian Cole <adrian@squareup.com>
Date:   Fri Apr 25 14:30:32 2014 -0700

    Throw CancellationException when blocking call cancelled as opposed to returning null.

commit 499f402d055c9f3d623131975cc2f6940b8f2092
Merge: 348062e 63d4dfa
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Fri Apr 25 13:00:59 2014 -0700

    Merge pull request #764 from square/adrian.callfusion
    
    Merge Job into Call. CallTest = AsyncApiTest + SyncApiTest

commit 63d4dfaaa622d4cce72a09cdeead267afa3453a6
Author: Adrian Cole <adrian@squareup.com>
Date:   Fri Apr 25 09:36:38 2014 -0700

    Merge Job into Call. CallTest = AsyncApiTest + SyncApiTest.

commit 348062e8f4ef5e207ca6db83e3c50db65619cfa7
Merge: f4c83e8 7bfcaa6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Apr 25 13:10:56 2014 -0400

    Merge pull request #763 from square/jw/okio-8
    
    Use more convenience methods from Okio 0.8.0.

commit 7bfcaa60e2d27f6861f94b41d8a1ac30ae0716ff
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Apr 25 09:20:16 2014 -0700

    Use more convenience methods from Okio 0.8.0.

commit f4c83e8eb86ac4afb224f91cd68bd9650351fe64
Merge: 5ba274d e19326c
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Fri Apr 25 08:18:51 2014 -0700

    Merge pull request #755 from square/adrian.mwsrulez
    
    Add MockWebServerRule

commit e19326c0337758817e5879f9e1bef452d27f9a4a
Author: Adrian Cole <adrian@squareup.com>
Date:   Wed Apr 23 23:01:55 2014 -0700

    Add MockWebServerRule.

commit 5ba274d14e2188046b362de3350fd1711eb914bf
Merge: 142868f 0b677ac
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Apr 25 09:49:26 2014 -0400

    Merge pull request #761 from square/adrian.callmeanytime
    
    Introduce Call for async invocations.

commit 0b677ac70d37f9064d3a0c0914794f60f66d64be
Author: Adrian Cole <adrian@squareup.com>
Date:   Thu Apr 24 21:12:54 2014 -0700

    Introduce Call for async invocations.

commit 142868f8e69f42dd0cff4f97ed990ed0a14e9339
Merge: 65a0378 92e427d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Apr 24 18:56:21 2014 -0700

    Merge pull request #758 from square/jw/close-on-exhaust
    
    Close the source after reading regardless of result.

commit 92e427d7c66091c9731afd02f83f2d4ba08dc395
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Apr 24 11:29:03 2014 -0700

    Close the source after reading regardless of result.

commit 65a03787a93591a153ce31255fb2c4c78cbdf07f
Merge: 45db8bc 786423c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 24 19:48:02 2014 -0400

    Merge pull request #759 from nmittler/master
    
    Making a few classes/interfaces within SPDY public

commit 786423c8c2d6c9154c5dc4fac0caeb7fbe282220
Author: nmittler <nathanmittler@google.com>
Date:   Thu Apr 24 14:21:22 2014 -0700

    Making a few classes/interfaces within SPDY public so that the framing
    layer can be used for non-HTTP traffic.

commit 45db8bc42f6b40abd16908f793f68c0f62b04d5f
Merge: 7052d76 1ad3b6d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 24 14:31:01 2014 -0400

    Merge pull request #756 from square/jw/request-to-string
    
    Simple toString on Request and Response.

commit 1ad3b6d7499160075f4482b4788a07359ffd7932
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Apr 23 23:35:13 2014 -0700

    Simple toString on Request and Response.

commit 7052d7691e775fff4870fea8587a3257066e4a49
Merge: 2199e99 5b6f64a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 24 01:23:54 2014 -0400

    Merge pull request #752 from square/jwilson_0423_post_retransmit
    
    Fix HTTP post retransmit in the new API.

commit 5b6f64a46220911466350202ae974f167497225a
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Apr 23 00:55:58 2014 -0400

    Fix HTTP post retransmit in the new API.
    
    We don't buffer response bodies in the new API. But we should retransmit
    POST bodies when a request fails.

commit 2199e99e9ee420df50d841ceb4473a2efdf18800
Merge: 4c929a6 112dcc4
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Apr 22 10:38:55 2014 -0700

    Merge pull request #743 from square/adrian.cancel-with-disconnect
    
    Disconnect on OkHttpClient.cancel

commit 112dcc40900d503ea7e416e0da0a8fd9b08a9c17
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Apr 21 15:43:44 2014 -0700

    Clarified behavior of AsyncApi when a request is canceled, including its implied disconnect.

commit 4c929a6e37e36edfb42780d74cc031e2d38ce789
Merge: 6dff9f5 9146c57
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Apr 22 07:48:35 2014 -0700

    Merge pull request #749 from square/jwilson_0421_followup
    
    Deduplicate follow-up request handling.

commit 9146c579dd9110d0028144c59515da9be1ce7108
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Apr 21 22:51:15 2014 -0400

    Deduplicate followup request handling.
    
    This code's currently both gnarly and subtle; there's a lot of
    nuance to the HTTP behavior, and a lot of state, but it isn't
    obvious in the state of the objects doing the work.
    
    Deduplicating work in HttpURLConnection with Job is a shy first
    step. It also points out some potential problems with Job, where
    we don't handle method changes or cookies correctly. That's
    critical!

commit 6dff9f5630f6b7aa0b3442d195921c5dbfd1110f
Merge: 68f1d74 322438f
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Apr 21 17:51:52 2014 -0700

    Merge pull request #748 from square/jwilson_0421_honor_setFollowSslRedirectsFalse
    
    Fix a bug where the new API wasn't honoring SSL redirects properly.

commit 322438f8b034ed7b36495ca6b15b71bdee46663c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Apr 21 20:22:42 2014 -0400

    Fix a bug where the new API wasn't honoring SSL redirects properly.

commit 68f1d74c49aa19114e743e13126d52be0f0a1660
Merge: 02ee75d 2d47bc2
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Apr 21 16:23:12 2014 -0700

    Merge pull request #747 from square/jwilson_0421_method_output_test
    
    Add a test for corner-case behavior.

commit 2d47bc2631048fc713dbc7dbb6e7603619fce776
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Apr 21 19:16:01 2014 -0400

    Add a test for corner-case behavior.
    
    I'm looking to make HttpURLConnectionImpl delegate to Job, and that means
    writing tests for all the weird things it does above HttpEngine.

commit 02ee75d0381728a24b9fd4de3aa5455e6eedc9d0
Merge: f5111c2 e920196
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Apr 21 12:06:39 2014 -0400

    Merge pull request #744 from square/jwilson_0421_restructure_authenticator
    
    Change the authenticator API to take request and response.

commit e920196fbd71822fc284ab76204bf75f95d3265a
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Apr 21 09:30:15 2014 -0400

    Change the authenticator API to take request and response.
    
    The previous API takes challenges and returns credentials. This isn't
    very flexible because it means our challenge and credentials classes
    must model everything.

commit f5111c28356431c6c5d1e71dd1bbced9a8016cd8
Merge: 276908f d5d540f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 20 14:02:30 2014 -0400

    Merge pull request #742 from square/adrian.bump-npn
    
    Update NPN dependency to target jdk7u60-b13 and Oracle jdk7u55-b13.

commit d5d540fac75ee21d4c406537cb8374ec44a3bb66
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Apr 20 10:19:14 2014 -0700

    Update NPN dependency to target jdk7u60-b13 and Oracle jdk7u55-b13.

commit 276908f5322af10ddad0bb4ed024d2edf8939731
Merge: 28c5c0e 6e373d8
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sun Apr 20 12:36:20 2014 -0400

    Merge pull request #738 from square/jwilson_0420_kill_utility_code
    
    Move unshared code out of Util.

commit 28c5c0edcb9dbe1a2800bcbe92686932caf028b3
Merge: 452b44b b608754
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Apr 20 08:58:28 2014 -0700

    Merge pull request #741 from square/jwilson_0420_timeouts_recycling
    
    Update Okio timeouts when recycling connections.

commit b60875421b0f67575970b6b63582b7e5e31c4a06
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Apr 20 11:36:50 2014 -0400

    Update Okio timeouts when recycling connections.

commit 6e373d870e1be071cd67c350928e44745c72f499
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Apr 20 09:42:44 2014 -0400

    Move unshared code out of Util.

commit 452b44b08492ca01a83e80e56362d9582641ee2d
Merge: 8a9b9e7 da48493
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Apr 20 08:20:21 2014 -0700

    Merge pull request #739 from square/jwilson_0420_kill_tunnelrequest
    
    Replace TunnelRequest with a regular Request.

commit da484932625ab15681e469c1680b6371b8f67080
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Apr 20 10:10:28 2014 -0400

    Replace TunnelRequest with a regular Request.

commit 8a9b9e7830a069f7a587795048fb8c5e07bce42f
Merge: 1b340c0 aca1ff9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 20 09:19:30 2014 -0400

    Merge pull request #733 from square/jw/unused
    
    Remove unused field.

commit 1b340c0872066fed8c4d3ecd85f53843e860b855
Merge: 95e8ee0 c51382a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 20 09:13:14 2014 -0400

    Merge pull request #737 from square/jw/snapshot-leak
    
    Prevent leaking a Snapshot's InputStreams when metadata read fails.

commit 95e8ee043cf2e5d5c189edf0c3eebafa958aa77c
Merge: 09bb8bc a9b4ec6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 20 09:09:46 2014 -0400

    Merge pull request #736 from square/jw/linkplain
    
    Use linkplain for text links.

commit 09bb8bcd0db29bc96ca9b771e06e5f8055d9f46a
Merge: d964fde 986fa83
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 20 09:09:21 2014 -0400

    Merge pull request #735 from square/jw/never-null
    
    Authenticator is never null.

commit d964fde6f41c40279d6b3ccea5aa587e71685d87
Merge: 6486179 996e9c9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Apr 20 09:08:19 2014 -0400

    Merge pull request #734 from square/jw/huc
    
    Move HttpUrlConnection implementation to its own package.

commit c51382a430a2adb8a29cb59976af76b2cb48e386
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Apr 20 00:58:21 2014 -0700

    Prevent leaking a Snapshot's InputStreams when metadata read fails.

commit a9b4ec6bb771472136fb86562ab4a3d9baee0390
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Apr 20 00:23:58 2014 -0700

    Use linkplain for text links.

commit 986fa834238821709311c1dce738225740dff81f
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Apr 20 00:19:23 2014 -0700

    Authenticator is never null.

commit 996e9c95bdcafd62e84c79c512d6ccac65c30758
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Apr 19 23:53:57 2014 -0700

    Move HttpUrlConnection implementation to its own package.

commit aca1ff99afc235702f3189447eeadcbf15d5dda7
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Apr 19 23:22:37 2014 -0700

    Remove unused field.

commit 6486179b9d9c888a818c85384eed88fa0a8768a6
Merge: 96099a6 09e734c
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Apr 19 18:19:38 2014 -0700

    Merge pull request #732 from square/jwilson_0419_deadcode
    
    Delete some dead code.

commit 96099a6ad31f4a396a25031cfc6f317d8633d0d2
Merge: 2377408 9db4b86
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Apr 19 18:18:26 2014 -0700

    Merge pull request #731 from square/jwilson_0419_tls_versions
    
    Use a String to identify TLS versions.

commit 09e734c81219d5ffeb5e0d2b42206d863df4aba2
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Apr 19 20:37:32 2014 -0400

    Delete some dead code.

commit 9db4b86e7559859d86b2c42964879eb1a878894c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Apr 19 20:03:36 2014 -0400

    Use a String to identify TLS versions.
    
    Previously we were using booleans, which wasn't flexible enough
    for more than two versions.

commit 23774087dbf9876454aa7a6cd3828bc06043bf26
Merge: d662768 ad1286a
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Apr 19 14:43:01 2014 -0700

    Merge pull request #723 from square/adrian.frame-logger
    
    Add frame logger for HTTP/2.

commit ad1286a09b884d378bbf932bc00e0963c7633317
Author: Adrian Cole <adrian@squareup.com>
Date:   Fri Apr 18 21:05:52 2014 -0700

    Add frame logger for HTTP/2.

commit d6627683130e9c22355da3ee623c0cd335661afa
Merge: 326a4b5 307c7a1
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Apr 19 12:34:57 2014 -0700

    Merge pull request #730 from square/jwilson_0419_status_line_is_not_a_thing
    
    Scrub StatusLine from the public API.

commit 307c7a144afc1262237ab6401a3f3f3b2491a124
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Apr 19 15:26:08 2014 -0400

    Scrub StatusLine from the public API.
    
    The status line is an unnecessary grouping of three otherwise-independent
    fields: the protocol, code and message.
    
    Combining them in the API doesn't provide much value. In SPDY and HTTP/2
    these are broken apart anyway.

commit 326a4b565f0eb15c189754c29fc735b79a0c8835
Merge: 1c60fe6 9546527
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Apr 19 11:59:33 2014 -0700

    Merge pull request #729 from square/jwilson_0419_kill_httpMinorVersion
    
    Kill httpMinorVersion.

commit 9546527a1c34400a0020f50fe58ffd1f109800ab
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Apr 19 14:29:27 2014 -0400

    Kill httpMinorVersion.
    
    Replacing it with Protocol.

commit 1c60fe66361041304b65344221a3054f2d489d59
Merge: 23a25e4 fa42933
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 19 14:21:03 2014 -0400

    Merge pull request #728 from square/jwilson_0419_http_10
    
    Expose HTTP/1.0 as a potential protocol.

commit fa42933c783271d21505a5101b5bef61576c335c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Apr 19 13:48:13 2014 -0400

    Expose HTTP/1.0 as a potential protocol.

commit 23a25e49c4dbffbd3cd80343b249af48aeb5daec
Merge: c4366c6 8f9e506
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Apr 19 10:00:54 2014 -0700

    Merge pull request #727 from square/jwilson_0419_http_1_1_docs
    
    Document protocols and link to their specs.

commit 8f9e50686d16c357060e49ae9a0ccf54c4a59064
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Apr 19 12:54:57 2014 -0400

    Document protocols and link to their specs.

commit c4366c65818664182919adfb1131f7fae6a07e91
Merge: 1c7ab54 e9b5bf2
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Apr 19 09:49:13 2014 -0700

    Merge pull request #726 from square/jwilson_0419_http_1_1
    
    Rename HTTP_11 to HTTP_1_1.

commit e9b5bf2a1dd8c50a919846713eac16d6be35d715
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Apr 19 12:23:48 2014 -0400

    Rename HTTP_11 to HTTP_1_1.
    
    Otherwise it seems like HTTP_11 is version 11, greater than
    HTTP_2.

commit 1c7ab54e6ad964035b2cbb3b0280e4e8bf811d9a
Merge: d68fc05 617641d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 19 09:04:54 2014 -0400

    Merge pull request #724 from square/jw/more-okio
    
    Update Response bytes() to use Okio.

commit 617641d7d77e0334b41486d0519e169194c834f4
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Apr 19 03:28:29 2014 -0700

    Update Response bytes() to use Okio.
    
    Delete a bunch of now-unused java.io helpers from Util.

commit d68fc05bd22c9c59caef3932def9b0859bbb8396
Merge: 6c86d9a e76f8f6
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Apr 18 20:07:20 2014 -0700

    Merge pull request #722 from square/jwilson_0418_even_more_protocol
    
    Use 'Protocol' to describe framing.

commit e76f8f651dea7c2c2e43185b078f7854216bc37b
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Apr 18 22:51:36 2014 -0400

    Use 'Protocol' to describe framing.
    
    Drop setTransports/getTransports which was deprecated in favor
    of protocols.
    
    Rename setFollowProtocolRedirects to setFollowSslRedirects. I decided
    to use SSL rather than TLS for consistency with nearby APIs.

commit 6c86d9ad8026b551a218b99f9da80b058c209602
Merge: c48a646 2d3bdd9
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Apr 18 18:39:50 2014 -0700

    Merge pull request #721 from square/jwilson_0418_fewer_protocols_apis
    
    Fewer public APIs for Protocol identification.

commit 2d3bdd9d9269ab21e8acb191ac46e5c846f08891
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Apr 18 21:30:03 2014 -0400

    Fewer public APIs for Protocol identification.

commit c48a646267e4c8d2fc8693ef16e9b3f90814657e
Merge: 76fbd89 58717fd
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Apr 18 17:57:01 2014 -0700

    Merge pull request #720 from square/allocation-extermination
    
    Remove all implicit StringBuilder allocations in disk cache.

commit 76fbd892dbabb536a9e8732f3cae075ff98e207b
Merge: 17840ed ab4927b
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Apr 18 17:53:20 2014 -0700

    Merge pull request #719 from square/jwilson_0418_protocol_tostring
    
    Hide Protocol's internal byte string.

commit 58717fdc448c55dbf7efadcd20f1212a74dfd237
Author: Dimitris+Jake <dimitris+jw@squareup.com>
Date:   Fri Apr 18 17:41:13 2014 -0700

    Remove all implicit StringBuilder allocations in disk cache.

commit ab4927b857b1feb45d78f2fec8ae27ab6ad7d541
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Apr 18 20:46:54 2014 -0400

    Hide Protocol's internal byte string.

commit 17840eda568fd74aa48c648ac498d4fd0d378dc8
Merge: 80cac19 411a338
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Apr 18 15:06:02 2014 -0700

    Merge pull request #718 from square/jwilson_0418_use_file_helpers
    
    Use File helpers in Okio.

commit 411a33810512340fd68fc5c33423badd52d290e9
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Apr 18 17:29:35 2014 -0400

    Use File helpers in Okio.

commit 80cac1916cc9626333bd569ff420273793a041b0
Merge: 8fe12e1 41aa4b6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Apr 18 17:20:55 2014 -0400

    Merge pull request #716 from square/jwilson_0418_write_timeouts_for_http11
    
    Implement write timeouts for HTTP/1.1 streams.

commit 41aa4b6805141369d614964152d329a686aabdb8
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Apr 18 17:06:10 2014 -0400

    Implement write timeouts for HTTP/1.1 streams.

commit 8fe12e106e922b3cb34d29e2ad89f072409cb792
Merge: a867db6 9549fb4
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Fri Apr 18 15:09:19 2014 -0400

    Merge pull request #715 from square/jwilson_0418_remove_workaround
    
    Remove workaround for clients.google.com misconfiguration.

commit 9549fb4455f54d96a307ce17d280ff55df855470
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Apr 18 15:00:59 2014 -0400

    Remove workaround for clients.google.com misconfiguration.

commit a867db645727acfd8d77212552bf835e6e8eb1c8
Merge: cdc7a33 8e9d8f6
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Apr 18 11:56:25 2014 -0700

    Merge pull request #714 from square/jwilson_0418_rename_maybeRemove
    
    Change the signature of OkResponseCache.maybeRemove.

commit 8e9d8f6fbf4a505417ead296b2c2a1bb15e6ba5c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Apr 18 14:39:19 2014 -0400

    Change the signature of OkResponseCache.maybeRemove.
    
    The method now removes unconditionally, and it's the caller's responsibility
    to decide what should be removed.

commit cdc7a33c3cfc1751c3985d2c8d9cc83c516a3f33
Merge: 3956f67 c676ee2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Apr 18 14:15:48 2014 -0400

    Merge pull request #713 from square/jwilson_0418_vary_ii
    
    Move awkward bulk-read method out of Headers.

commit c676ee28ef959979adfd4fbe6cb183822e31e1a1
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Apr 18 14:08:56 2014 -0400

    Move awkward bulk-read method out of Headers.
    
    This was used for Vary only. Moving it into the callsite simplifies
    both.

commit 3956f67ac783fa3047c0126830209209ae5fff21
Merge: 0c1e1ce 889bc76
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Fri Apr 18 12:04:19 2014 -0400

    Merge pull request #712 from square/jwilson_0418_reader_close
    
    Let the reader thread clean up after itself.

commit 0c1e1ce724b20f9b9d9de252c82fc71d05920d17
Merge: 6597405 9babb8d
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Fri Apr 18 12:01:48 2014 -0400

    Merge pull request #711 from square/jwilson_0417_vary
    
    Move Vary headers and Last-Modified out of the public API.

commit 889bc764a5f1627090a69e6e100bcd18474dfb86
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Apr 18 11:58:54 2014 -0400

    Let the reader thread clean up after itself.
    
    Currently we're closing it from another thread, and that isn't safe.
    https://github.com/square/okhttp/issues/644

commit 9babb8d8e5578e2916d414e50ab539376581e4bb
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Apr 18 09:16:10 2014 -0400

    Move Vary headers and Last-Modified out of the public API.
    
    These fields and behaviors are needed for HTTP caching. If we want
    to expose certain headers to the application layer, we should do it
    more thoughtfully.

commit 6597405511ab6058146de1053ffe7f27832dbf8e
Merge: f3cc793 9d22181
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Apr 17 22:11:16 2014 -0700

    Merge pull request #710 from square/jwilson_0417_tidy
    
    Delete Response.Body.ready() which didn't make much sense.

commit 9d22181146a053cebb04e9be4a215bb43255f473
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Apr 18 01:04:20 2014 -0400

    Delete Response.Body.ready() which didn't make much sense.
    
    Also clean up some code to use more Okio.

commit f3cc7930a5d1e95b707eeb5ddc182746177d570e
Merge: 0365cf7 ff79464
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 17 22:22:17 2014 -0400

    Merge pull request #709 from square/jwilson_0417_some_spdy_flakiness
    
    Add some pings to force happens-before in SPDY tests.

commit ff7946416d86aedcf154b868ba869241cd4816e9
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Apr 17 22:16:44 2014 -0400

    Add some pings to force happens-before in SPDY tests.
    
    Previously we were relying on accidents to get our tests to pass. There
    may still be some that require work, but this should fix the three tests
    that I saw fail.
    
    https://github.com/square/okhttp/issues/525

commit 0365cf723f8073528dc2c379b2c6f8fb9e6669d3
Merge: b9efb8b af812cb
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Thu Apr 17 21:58:29 2014 -0400

    Merge pull request #708 from square/jwilson_0417_change_socket_policy
    
    Fix the socket policy to fix a flaky test.

commit af812cbe0fb290ac7b825b4203f2079b753cb085
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Apr 17 21:41:24 2014 -0400

    Fix the socket policy to fix a flaky test.
    
    postFailsWithChunkedRequestForSmallRequest was flaky because the socket policy
    wasn't triggering the expected exception at the expected time. Changing to
    a different socket policy should fix flakiness.
    
    https://github.com/square/okhttp/issues/651

commit b9efb8bf887ddc2a43d9fa2c90c7462cca9a24bb
Merge: 61c8636 62a7ea2
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Thu Apr 17 21:13:07 2014 -0400

    Merge pull request #707 from square/jwilson_0417_buffer_first
    
    Make Buffer the body type in MockResponse.

commit 61c8636f37516536aa7c0d9be75c2a0183adecc0
Merge: 853a579 34ab38d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 17 21:10:46 2014 -0400

    Merge pull request #704 from square/jwilson_0417_source_first
    
    Make Source the main type in Response.Body.

commit 34ab38d63613f861f7d14b6f572ac42b57b10b0f
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Apr 17 13:44:55 2014 -0400

    Make Source the main type in Response.Body.

commit 62a7ea2d2041ea4cd259d74d16714e3f00ebcaf3
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Apr 17 19:51:37 2014 -0400

    Make Buffer the body type in MockResponse.

commit 853a579b1a4f09bc96b6252c00c944acbbe86911
Merge: 37971d6 b8e50f5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 17 18:01:30 2014 -0400

    Merge pull request #705 from square/jw/apache-to-new-api
    
    Update OkApacheClient to use new API.

commit b8e50f57d34d84710493acd3610fd545b9aac88a
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Apr 17 00:50:05 2014 -0700

    Update OkApacheClient to use new API.

commit 37971d6a783f844734252f6196434f78a0418100
Merge: 09d8346 fc6c47f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 17 11:12:48 2014 -0400

    Merge pull request #698 from square/jw/towards-the-new-api
    
    Migrate samples to the new API.

commit fc6c47fddf595472f7a80d10fca57d3bf592b82d
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Apr 16 23:45:42 2014 -0700

    Migrate samples to the new API.

commit 09d83463a8ed0956174db85cd80b9464ee7420ae
Merge: 2f0ab08 a2a9fcb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Apr 16 16:24:10 2014 -0400

    Merge pull request #697 from square/adrian.start-client-at-id3
    
    Avoid use of SPDY stream ID 1, as that's typically for UPGRADE.

commit a2a9fcb567be89e3c49f2c2d932276ecb634fb7e
Author: Adrian Cole <adrian@squareup.com>
Date:   Wed Apr 16 16:00:26 2014 -0400

    Avoid use of SPDY stream ID 1, as that's typically for UPGRADE.

commit 2f0ab086386f9257efc55b2c2b313275e85151cf
Merge: 5a4bfc7 0b0fe2e
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Wed Apr 16 09:24:29 2014 -0400

    Merge pull request #696 from square/jwilson_0416_recording_push_observer
    
    Use synchronization when awaiting events.

commit 0b0fe2e03f4a45563b9f36fe51ddf73dd74bbb59
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Apr 16 09:15:58 2014 -0400

    Use synchronization when awaiting events.
    
    Should fix https://github.com/square/okhttp/issues/616

commit 5a4bfc71ecaaa1f426c3fe71fc1ef8e0786f0ead
Merge: 2dd62d4 b030260
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Apr 16 09:06:42 2014 -0400

    Merge pull request #692 from square/adrian.h2-10
    
    Update to HTTP/2 Draft 10 and HPACK Draft 6.

commit b03026067b3686e45d4e11886eaccf084c36b01e
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Apr 15 11:47:04 2014 -0400

    Update to HTTP/2 Draft 10 and HPACK Draft 6.

commit 2dd62d46cb067a1787dc7b10689b703bcc2a85a7
Merge: 4b433e4 b242024
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Apr 16 00:08:07 2014 -0400

    Merge pull request #684 from square/jwilson_0413_switch_to_okio
    
    Switch to Okio.

commit b2420242161a6098e28a3bf1809c0bed26771ebc
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Apr 13 14:23:21 2014 -0400

    Switch to Okio.
    
    This depends on a new method, Buffer.copy() not included in Okio 0.5.
    We may need to wait for an Okio 0.6 before merging this.

commit 4b433e49556f5c82a6cb22f12614960297595407
Merge: 18dfd08 825b31d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Apr 15 15:44:39 2014 -0400

    Merge pull request #694 from austynmahoney/am/okauthenticator/oauth
    
    Basic support for OAuth and other arbitrary schemes in OkAuthenticator

commit 825b31dc5ca5be249b165e8c6ae90340f3c678d1
Author: Austyn Mahoney <austyn.mahoney@octanner.com>
Date:   Tue Apr 15 11:55:12 2014 -0600

    Basic support for OAuth in OkAuthenticator

commit 18dfd08aeb50e02da7d3af2723d6ce81bae2502b
Merge: de32fea 1fd77e0
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Apr 15 09:34:18 2014 -0700

    Merge pull request #693 from square/adrian.okcurl-verify
    
    okcurl --insecure means allow any hostname

commit 1fd77e07c462d9d077bbd4232b9af8bb4411b41b
Author: Adrian Cole and Josh Humphries and Scott Blum <git+adrian+jh+scottb@squareup.com>
Date:   Tue Apr 15 12:19:16 2014 -0400

    okcurl --insecure means allow any hostname.

commit de32fead1454b5a58c6721ed40c5d92cf17528c0
Merge: 875cf46 ff5390d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Apr 15 10:48:15 2014 -0400

    Merge pull request #329 from square/jw/socket-factory
    
    Allow specifying a socket factory for connections.

commit ff5390d6dcaf79ef09a3ef94dbb7e8ac39572a7f
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Apr 15 00:53:58 2014 -0700

    Allow specifying a socket factory for connections.
    
    This socket factory will be used for all non-proxy connections and HTTP proxy connections.

commit 875cf4649412efcf231074f0ad745f8fa08bde1f
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Apr 14 22:50:03 2014 -0400

    1.5.4 changelog.
    
    (cherry picked from commit b77be40c67c398c146f3269717393a2aad70e43a)

commit c51e223ff96da5f6581515d7080a080808c35384
Merge: bb52caa a84901e
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Apr 13 19:41:15 2014 -0700

    Merge pull request #686 from square/jwilson_0413_dangling_semicolon
    
    Permit a dangling semicolon in media type parsing.

commit a84901e7c10552fe1bbbc9112d2341d8721d741e
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Apr 13 21:21:46 2014 -0400

    Permit a dangling semicolon in media type parsing.
    
    I found this in-the-wild with Crawler.

commit bb52caa1039b9ffd6c928112b9e5414c1bde96b8
Merge: 71ff30c 9c30213
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Apr 5 16:26:17 2014 -0400

    Merge pull request #674 from square/jwilson_0403_new_disconnect_strategy
    
    New disconnect strategy.

commit 71ff30ccb8ba6e7415d9c8fd6c2f01340987683e
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Apr 5 08:16:45 2014 -0400

    Fix language on SSL fallback.
    
    https://github.com/square/okhttp/issues/332

commit 9c302131491d05a4ca0209ef21770592c01f76fa
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Apr 3 00:18:59 2014 -0400

    New disconnect strategy.
    
    Support asynchronous disconnects by breaking the socket only, which
    should cause the thread using that socket to trigger clean-up.

commit b21b40e480cdcd09b618e399a349556de509d88d
Merge: 8b0cba5 358c0c0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Mar 31 18:39:31 2014 -0400

    Merge pull request #672 from nfuller/FixNullRequestKey
    
    Fix for Android: old app-bundled OkHttp uses new HttpResponseCache

commit 8b0cba5442ee87c268a76a10778bd0425a70d342
Merge: 2267888 6c57d76
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Mar 31 17:35:53 2014 -0400

    Merge pull request #669 from square/jwilson_0330_track_connection_ownership
    
    Track Connection ownership.

commit 358c0c016c06b09fee9e39e9f8a5281fc9225013
Author: Neil Fuller <nfuller@google.com>
Date:   Mon Mar 31 17:52:34 2014 +0100

    Fix for Android: old app-bundled OkHttp uses new HttpResponseCache
    
    Make JavaApiConversion explicitly ignore a request header with a null
    key. null keys were used by older versions of OkHttp to store the
    "request line".

commit 2267888d365db3462c7d59eb16ad33953554953d
Merge: 67685e1 4c86085
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Mar 30 22:09:04 2014 -0700

    Merge pull request #670 from square/jwilson_0330_drop_alpn
    
    Drop ALPN support.

commit 4c86085429edbeef0a383941936ee7b64cc3805e
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Mar 30 22:33:27 2014 -0400

    Drop ALPN support.
    
    https://github.com/square/okhttp/issues/666

commit 6c57d76915a7e79cc8b8f743ccd8ecc35889ce7c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Mar 30 19:40:21 2014 -0400

    Track Connection ownership.
    
    Connection ownership is somewhat racy: when an HttpURLConnection reads
    the last byte of a connection, its ownership is released and given to
    the connection pool.

commit 67685e1b3d3264c369418855b5c96a2fb3e5ae46
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Mar 29 17:21:12 2014 -0400

    Update changelog for 1.5.3.
    
    (cherry picked from commit 5a8c7d881ec10a0ef0fe1b33fd55f24ab728f858)

commit d34a9c9992931ed3d39ddaff42df2c37163e3398
Merge: 8edd2a4 64047a1
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Mar 29 13:44:24 2014 -0700

    Merge pull request #668 from square/jwilson_0329_post_redirect_get_regression
    
    Fix a bug when a POST was redirected to a GET.

commit 64047a14abd377dbbd5d51f714cf08f33e7817dd
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Mar 29 16:21:59 2014 -0400

    Fix a bug when a POST was redirected to a GET.
    
    We were keeping the Content-Length header, leading to conflicting
    body information.

commit 8edd2a4f9e5398c8476317ecaa790117a1d2a57e
Merge: 72fe1f1 664b65d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Mar 29 12:19:43 2014 -0700

    Merge pull request #667 from square/jwilson_0329_concurrency_model_thread_interrupt
    
    Don't do I/O if the thread is interrupted.

commit 664b65d18e164a571a2c8498fe372d3f934499c3
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Mar 29 13:06:49 2014 -0400

    Don't do I/O if the thread is interrupted.

commit 72fe1f1c01f328d221d546838c1d80c98ffa2192
Merge: bda555a bcf069c
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Mar 23 19:30:24 2014 -0700

    Merge pull request #663 from square/jwilson_0323_throttle_request_body
    
    Teach MockWebServer to throttle the request body.

commit bcf069cd2b2e5ee6cc324921e68ac6a8ef4f94f0
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Mar 23 11:22:54 2014 -0400

    Teach MockWebServer to throttle the request body.
    
    We use a single throttle for both request and response. This is
    sufficient for all of our current needs.
    
    This breaks API compatibility with previous custom dispatchers.
    Dispatchers that override peekSocketPolicy() must now override
    peek() instead.

commit bda555ad61ef55e9ad6e4a30d2e9cfde5fc216ca
Merge: 15fd7d2 cb7de5b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Mar 21 00:52:39 2014 -0400

    Merge pull request #661 from square/jw/jar-without-dependencies
    
    Remove 'jar-with-dependencies' qualifier from download link.

commit cb7de5bb40a506700565b9732e1574ce9161b442
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Mar 20 17:47:29 2014 -0700

    Remove 'jar-with-dependencies' qualifier from download link.
    
    This link is used when the jQuery Maven Artifact plugin cannot resolve the absolute URL of the latest artifact.

commit 15fd7d2e3ee03132b1f0b9cc43de81dfa187ea0c
Merge: 0da4d25 6cf56de
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Mar 20 18:30:03 2014 -0400

    Merge pull request #659 from nfuller/ResponseCacheGetPut2
    
    Return HttpResponseCache to previous (e.g. KitKat) behavior

commit 6cf56de5d0701ff26aa6043c552e17c4665c1287
Author: Neil Fuller <nfuller@google.com>
Date:   Thu Mar 20 17:19:52 2014 +0000

    Return HttpResponseCache to previous (e.g. KitKat) behavior
    
    This change required to handle this Android scenario:
    
    When this version of OkHttp is packaged into Android in a future
    release (in com.android.okhttp...) there is a possibility that
    an older version of OkHttp bundled with application
    (in com.squareup.okhttp...) will pick up the newer HttpResponseCache
    via ResponseCache.getDefault(). It will attempt to use the get() / put()
    methods. Commit e2599be9e073f1be8e929597c358e2664ab0c9a9 was
    intended to restore HttpResponseCache get() and put() and avoid the
    UnsupportedOperationException that would be thrown.
    
    Unfortunately, it didn't quite do it:
    
    In KitKat and older versions OkHttp, in HttpResponseCache the behavior
    was to ignore any calls to put(URI, URLConnection) including
    any HttpURLConnection/HttpsURLConnection that wasn't its own
    (i.e. only ones from com.android.okhttp would be cached). The previous
    fix to HttpResponseCache re-introduced get()/put() but didn't implement
    the necessary instanceof checks.
    
    Jesse also informs me that coexistance with other implementations
    of HttpURLConnection is not required (since OkHttp replaces the
    HTTP implementation on the desktop). I have also since discovered
    that HttpResponseCache didn't implement the cache-control logic
    required to follow the letter of the Java API anyway, which means
    that HttpResponseCache is not suitable for use in cases where
    the Http(s)URLConnection implementation expects a fully compliant
    implementation.
    
    Also addressed nits from e2599be9e073f1be8e929597c358e2664ab0c9a9.

commit 0da4d256c3dc1010296f48505b7da1525bec1a14
Merge: 1dc42da e2599be
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Mar 19 23:44:27 2014 -0400

    Merge pull request #656 from nfuller/ResponseCacheGetPut2
    
    Restore ResponseCache.get() / ResponseCache.put() methods on HttpRespons...

commit e2599be9e073f1be8e929597c358e2664ab0c9a9
Author: Neil Fuller <nfuller@google.com>
Date:   Wed Mar 19 16:44:29 2014 +0000

    Restore ResponseCache.get() / ResponseCache.put() methods on HttpResponseCache
    
    This is required for interoperability between HttpResponseCache
    with Java's HttpURLConnection and some scenarios on future Android
    releases where an app has bundled an older version of OkHttp that uses
    the ResponseCache API.

commit 1dc42da8d6cf1727c118db5eda5ab8094678188f
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Mar 17 21:31:52 2014 -0400

    Update changelog for OkHttp 1.5.2.
    
    (cherry picked from commit e3f961503cc8422c5310582b8f89d5e698b13fda)

commit b28cf79a605698e380db8a3b20b150e64ac6fae4
Merge: 68affbd d438892
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 16 19:43:37 2014 -0400

    Merge pull request #652 from square/adrian.hpack-no-emitty
    
    HPACK wasn't emitting header table entries to spec.

commit d4388929749320488237ae0259e374dc58c36c00
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Mar 16 12:17:53 2014 -0700

    Simplify HPACK E.1.4. Indexed Header Field from Static Table

commit ca0aff1e48984c1e588a38a6ebf72b287ea5f2f8
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Mar 16 10:31:20 2014 -0700

    fix #640: HPACK wasn't emitting header table entries to spec.

commit 68affbd24d63620e1785ea847f1936760947b9ae
Merge: 7874dbd 5778892
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Fri Mar 14 08:53:18 2014 -0700

    Merge pull request #650 from square/jwilson_0314_remove_absent
    
    Don't explode if removing an absent file fails.

commit 5778892f7b54e1738a706e039c840cb5fbe24ae8
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Mar 14 09:42:24 2014 -0400

    Don't explode if removing an absent file fails.
    
    We still got the desired result: the file is gone. This bug has existed in
    OkHttp's DiskLruCache for a long time, but it was masked by the fact that
    our cleanup callable was being run with a Future, and we never asked that
    Future whether it succeeded or failed. When we changed to call execute(),
    the problem became unmasked.

commit 7874dbda87cfafc9ac1f6e8e725e4f230b735882
Merge: 21a96eb dcb5dc5
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Mar 14 01:12:17 2014 -0700

    Merge pull request #649 from unguiculus/rm_protocols
    
    Fix build removing obsolete okhttp-protocols dependency

commit dcb5dc52a18663429a63d8a4b135f8bcdfa9899c
Author: Reinhard Nägele <reinhard.naegele@mgm-tp.com>
Date:   Fri Mar 14 09:02:05 2014 +0100

    Fix build removing obsolete okhttp-protocols dependency

commit 21a96eba9de19ce4efdbaa6b3d8cdbe348718fac
Merge: 63d2fc4 8d78da7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Mar 12 00:35:14 2014 -0400

    Merge pull request #645 from square/jwilson_0311_push_socket
    
    Push Socket into HttpConnection/SpdyConnection.

commit 8d78da7ce7e60d93fe8e299a83b963cd220a60ad
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Mar 12 00:08:41 2014 -0400

    Push Socket into HttpConnection/SpdyConnection.

commit 63d2fc4cb4796313ac01dc139d825c4dc57d9412
Merge: 087348c 7a43728
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Mar 11 20:28:08 2014 -0700

    Merge pull request #643 from square/adrian.single-thread
    
    Only use one thread for MockSpdyPeer

commit 7a43728529736eb2350f4b2c67e8e7a828258921
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Mar 11 20:22:47 2014 -0700

    Only use one thread for MockSpdyPeer.

commit 087348c2c70abaa50f119d608b19d13210bcc3c0
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Mar 11 22:31:31 2014 -0400

    More 1.5 changes.

commit 3687bc96c257efbf727b914c318899a09caf20a6
Merge: fd26673 06f09c2
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Mar 11 19:14:26 2014 -0700

    Merge pull request #641 from square/jwilson/crawler
    
    Sample: Crawler.

commit fd26673773c0b73b34cd8f6634dae4eafec21f5c
Merge: cfd1867 1cba1d1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Mar 11 22:04:44 2014 -0400

    Merge pull request #637 from square/jwilson_0311_conditional_cache_miss
    
    Fix a crash on conditional cache hits for new API.

commit 06f09c2da6d7927fa26c3c1f4d2d8a03e6e6b780
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Mar 11 22:03:32 2014 -0400

    Sample: Crawler.

commit 1cba1d1e4f1dd5ef77ddf699c17d2e7f49032f0a
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Mar 11 20:50:56 2014 -0400

    Fix a crash on conditional cache hits for new API.
    
    Previously we were returning null when a 304 didn't validate. The problem
    was caused by a bad test that specified Content-Length: 0 for a 304, which
    isn't appropriate.

commit cfd1867390523ab63bedd75a3809881a8c2efae2
Merge: ce63aa8 6191246
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Mar 11 21:50:19 2014 -0400

    Merge pull request #639 from square/jwilson_0311_dont_double_pool_on_cache_hit
    
    Don't double pool on a conditional cache hit.

commit 6191246d1996e5d4d1206683a3a096ef04658d97
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Mar 11 21:30:53 2014 -0400

    Don't double pool on a conditional cache hit.
    
    We were pooling the unused connection twice, and the pool was getting two
    copies of the same connection. Bad consequences followed.

commit ce63aa86f7f24c6174ef6c73768d5ea05f56a60f
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Mar 11 16:31:35 2014 -0700

    Empty line.

commit 52347f868b6352e932d262f2ba5e1e38b376e093
Merge: 408e68a b169dc4
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Mar 11 16:28:46 2014 -0700

    Merge pull request #636 from square/jwilson_0311_151_changelog
    
    Changelog updates.

commit b169dc4c272e116e297e101e6279ccbfa99426cb
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Mar 11 19:19:23 2014 -0400

    Changelog updates.

commit 408e68af29d9100cbdd6e4a3473a7a37ae47fa82
Merge: 02e9f40 6b17f9e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Mar 11 18:44:58 2014 -0400

    Merge pull request #634 from rtyley/okhttpclient-is-threadsafe
    
    Document that OkHttpClient is thread-safe

commit 6b17f9edf338173c6491cc30feeb6e4ff539be9d
Author: Roberto Tyley <roberto.tyley@gmail.com>
Date:   Tue Mar 11 19:57:33 2014 +0000

    Doc: OkHttpClient should be treated as immutable once shared
    
    ...given that requirement, it's safe for many threads to call the
    open() method concurrently to open their own connections.
    
    https://github.com/square/okhttp/pull/634#discussion_r10487815

commit 8a0b263b7a8a8ceae0bf72f8b463ee78f7963b80
Author: Roberto Tyley <roberto.tyley@gmail.com>
Date:   Tue Mar 11 17:51:41 2014 +0000

    Doc: OkHttpClient need not /always/ be a singleton

commit b8f3a029d3c59f037fd42eb2aed7ff926d62db8b
Author: Roberto Tyley <roberto.tyley@gmail.com>
Date:   Tue Mar 11 12:52:04 2014 +0000

    Document that OkHttpClient is thread-safe
    
    While investigating a race-condition, I was momentarily worried when I
    couldn't find any documentation actually stating that OkHttpClient is
    thread-safe, apart from this Google+ post:
    
    https://plus.google.com/118239425803358296962/posts/5nzAvPaitHu
    
    ...if I'm not the only person asking this question, probably best to
    document it.

commit 02e9f4020070fcdfc7f9c32f1327fc58a3e09d14
Merge: e879c19 b0d4805
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Mar 10 23:33:14 2014 -0700

    Merge pull request #632 from square/jwilson_0310_recover_from_failures
    
    Fix problems with connection recycling and recovery.

commit b0d4805f8040f5ac049bb448ea9f6b6fddb22fd5
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Mar 11 00:53:14 2014 -0400

    Fix problems with connection recycling and recovery.
    
    We were incorrectly attempting to recycle connections terminated by the end
    of a socket stream.
    
    And we were keeping the 'Accept-Encoding: gzip' header on a recovered request,
    which was suppressing our transparentGzip flag from getting the 'true' value
    it requires.

commit e879c195e45a8a485d79c6cd82035a04a5e70165
Merge: 739d876 abe9d75
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Mar 10 19:53:57 2014 -0700

    Merge pull request #629 from square/jwilson_0310_deflatersink_close
    
    Fix problems with DeflaterSink.

commit 739d8760fbee199855fe4a6ba96a835ed43bd744
Merge: 945619c 12ba910
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Mar 10 21:50:43 2014 -0400

    Merge pull request #628 from square/adrian.627
    
    fix #627: merge SPDY settings when clear flag set.

commit abe9d75e82ee480ce2aa5525965370b7687934df
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Mar 10 21:46:47 2014 -0400

    Fix problems with DeflaterSink.
    
    We weren't checking Deflater.needsInput() in the deflate loop. This is
    necessary on the RI, which returns 0 even when a subsequent call will
    deflate data.

commit 12ba9103d825b776d6cf4f74704332f4118ec1be
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Mar 10 14:05:08 2014 -0700

    fix #627: Merge SPDY settings when clear flag set. Revert Settings.DEFAULT_INITIAL_WINDOW_SIZE.

commit 945619c3f451bba092f772adbd62cd0a6fd7ec3b
Merge: 3587b4b 818d17e
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Mar 9 10:39:29 2014 -0700

    Merge pull request #625 from square/jwilson_0309_peersettings
    
    Use the peer's settings for outgoing window updates.

commit 818d17e3650f5c0fa048ae52279c559cd255f738
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Mar 9 13:23:02 2014 -0400

    Use the peer's settings for outgoing window updates.

commit 3587b4b9e53f9d704c7a2b354aa7f75c8abca97e
Merge: b8f3a45 d092c96
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Mar 8 16:31:27 2014 -0600

    Merge pull request #619 from square/jwilson_0308_okio
    
    API tweaks to Okio.

commit d092c9660abb6117811e99a5aafdb3f2e896fe4a
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Mar 8 13:08:14 2014 -0600

    API tweaks to Okio.

commit b8f3a455ebcff01f7527f7ac0ef7202542335eed
Merge: aec9b7a 6c92ae5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Mar 8 05:35:55 2014 -0800

    Merge pull request #617 from square/jwilson_fix_download_link
    
    Fix 1.5 doc and download link.

commit 6c92ae511733b3a82eff0289874986cd6be2ff69
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Mar 8 05:20:37 2014 -0800

    Fix 1.5 doc and download link.

commit aec9b7a12c6d6bbe0100fc9a268828f51ccf09de
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Mar 7 23:19:44 2014 -0800

    Update website to not use jar-with-dependencies classifier.

commit b1a135d8715cf14747d75b6a76036805ba700b22
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Mar 7 14:34:33 2014 -0800

    Update change log a bit.
    
    (cherry picked from commit acd9c8f6e5d7d1e708c228538fa7049b3d79bd13)

commit c1dfc6931174f50e5f9a53b860674539a7a81fb6
Merge: 7b10692 c863881
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Mar 7 14:46:14 2014 -0800

    Merge pull request #615 from square/jw/build-fixes
    
    Build setup tweak to work around release plugin bug.

commit c8638813ff5f90715417e489b342aae5e410c5b2
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Mar 7 14:45:06 2014 -0800

    Build setup tweak to work around release plugin bug.
    
    http://jira.codehaus.org/browse/MRELEASE-812

commit 7b106923e078ac2435e8c8ce9d615f9903106ed8
Merge: fb45436 cb2d297
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Mar 6 16:42:08 2014 -0800

    Merge pull request #602 from square/adrian.567.slow-network-tests
    
    Test case for read timeout granularity

commit fb454365c298f4596fe836737032843644862468
Merge: 5e1c5f5 f0941ff
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Mar 6 16:40:34 2014 -0800

    Merge pull request #610 from square/adrian.delete-body
    
    Allow DELETE Request Body, Ensure Sane Behavior.

commit f0941ff6eab4c90d6167cbaf6c627d291b6e85f4
Author: Adrian Cole <adrian@squareup.com>
Date:   Thu Mar 6 08:59:01 2014 -0800

    fix #605: Allow DELETE Request Body, Ensure Sane Behavior.

commit cb2d297ae2688e1daa914278b0a31025a45d3c96
Author: Adrian Cole <adrian@squareup.com>
Date:   Wed Mar 5 09:09:51 2014 -0800

    Test case for #567: read timeout granularity.

commit 26b5f35718ef3fc5500b492f43d520fd42606a53
Author: Adrian Cole <adrian@squareup.com>
Date:   Thu Mar 6 15:56:12 2014 -0800

    Update MWS to pay attention to throttling for SPDY streams.

commit 5e1c5f5f3e9f2dc53c62b2b076b9ddb9d5f9a665
Merge: 7a1c67a 8f035fc
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Thu Mar 6 09:00:53 2014 -0800

    Merge pull request #601 from square/jwilson_0305_cache_access
    
    Restore support for ResponseCache.setDefault().

commit 7a1c67a82f8e70e9ab04eb7929381da9c65e15c9
Merge: 57c221e 129c937
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Mar 6 08:24:30 2014 -0800

    Merge pull request #609 from nfuller/IOExceptionOnClose2
    
    Make HttpURLConnection streams throw IOException after close()

commit 57c221ede3816daa5c3b9d0e1cfaf05f40a68718
Merge: fda2265 fbbc694
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Mar 6 08:20:14 2014 -0800

    Merge pull request #604 from nfuller/ResponsePropertiesRequestLine
    
    Removing requestLine from HttpURLConnection.getRequestProperties()

commit 129c937fb33328e1f4ee8815a94e89676f242c2c
Author: Neil Fuller <nfuller@google.com>
Date:   Thu Mar 6 10:29:30 2014 +0000

    Make HttpURLConnection streams throw IOException after close()
    
    This is to revert to prior behavior found in earlier releases:
    OkHttp changed to throw IllegalStateException.
    
    HttpEngine has also been changed to explicitly close the request
    body on disconnect() to ensure that these exceptions are thrown
    at the expected moment (e.g. on write() on a closed, buffered
    stream).
    
    Additional close() checks have been added to okio classes and
    tests have been added. The tests are probes for interesting
    examples, not complete.

commit fbbc6942cf2f4f31d74e5cc35a0812f9174cd0f6
Author: Neil Fuller <nfuller@google.com>
Date:   Wed Mar 5 17:23:51 2014 +0000

    Removing requestLine from HttpURLConnection.getRequestProperties()
    
    This was breaking an Android test and appears not to be part of the spec for
    HttpURLConnection.
    
    To fix the test fully another change was required to add additional headers
    passed to the CookieHandler.
    
    Also added are some tests ported over from Android that test
    CookieHandler/CookieManager and improve coverage of this area.

commit fda2265d78260c401268086992fd0710683c4c79
Merge: 74027a4 8fa4242
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Mar 5 10:13:31 2014 -0800

    Merge pull request #603 from square/adrian.readSendsWindowUpdate-deflake
    
    Do not enforcing order of window update frames

commit 8fa4242d02c55ee30d40fac65881d0b60e9151fa
Author: Adrian Cole <adrian@squareup.com>
Date:   Wed Mar 5 09:37:37 2014 -0800

    Attempt to deflake readSendsWindowUpdate by not enforcing order of window update frames.

commit 8f035fc347f1ba9e4155ce99242c1a4f7d6e16dd
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Mar 5 08:56:12 2014 -0800

    Restore support for ResponseCache.setDefault().

commit 74027a4e0bf161fa11667e6ea29fab7f0c991ae7
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Mar 4 23:12:56 2014 -0800

    OkHttp 1.5 changelog.

commit 01d15a6ff242f39375419916b4a0e943cd85f949
Merge: f77bfc0 788a802
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Mar 4 21:08:26 2014 -0800

    Merge pull request #597 from square/jwilson_0304_kill_some_dead_code
    
    Kill some dead code on source and sink closing.

commit f77bfc0a77580932ad6ad399aa18c688ca41637d
Merge: 8cf085f 5f7c3bf
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Mar 4 21:07:42 2014 -0800

    Merge pull request #598 from square/adrian.fix-byteStringLength
    
    incorrect processing of variable-length quantity in http/2 hpack

commit 788a8025798b3a87519cc9bfc001f297cf497304
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Mar 4 16:25:52 2014 -0800

    Kill some dead code on source and sink closing.

commit 8cf085f4048afd91431554b8c2d5a760d5100684
Merge: 88c95dd 1ab398f
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Mar 4 21:01:14 2014 -0800

    Merge pull request #599 from square/adrian.pushobserver-nits
    
    Address PushObserver feedback

commit 5f7c3bf39c1dd04ca40f3020f6866039d1308a38
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Mar 4 20:45:45 2014 -0800

    fix #596: incorrect processing of variable-length quantity in http/2 hpack.

commit 88c95dd4f11fd756ac3b040da158b036dd3415eb
Merge: 11aa925 60ca889
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Mar 4 20:59:22 2014 -0800

    Merge pull request #594 from square/jwilson_0304_delegating_https_url_connection
    
    Share code between delegating HttpsURLConnections.

commit 1ab398fb93f61e6053ba0190fb76b2d312b83800
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Mar 4 20:53:13 2014 -0800

    Address PushObserver feedback.

commit 60ca88944f343d6941fde84eeaa66f3348e87a4a
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Mar 4 08:38:48 2014 -0800

    Share code between delegating HttpsURLConnections.

commit 11aa925a546a9ce8172e5dfb6b42282e380435b4
Merge: cc8e866 cf63fcc
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Mar 4 12:03:16 2014 -0800

    Merge pull request #595 from square/jw/no-more-fat-jar
    
    Remove creation of 'fat' jar.

commit cf63fcc48ae3e1dc3fb32120ca2fb04877fa041e
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Mar 4 10:55:48 2014 -0800

    Remove creation of 'fat' jar.
    
    Since the 'okhttp-protocols' module no longer exists we do not need to create this.

commit cc8e8664df7bfb2a383f75754e7881ee77b5f86c
Merge: f5eceb9 2a4b1c1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Mar 4 08:07:46 2014 -0800

    Merge pull request #574 from nfuller/ResponseCacheAdapter
    
    Adding ResponseCacheAdapter.

commit f5eceb9137e965c6b07d3db66c206131208fa7c7
Merge: a2e1016 444bde0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Mar 4 08:02:59 2014 -0800

    Merge pull request #593 from nfuller/FixImports
    
    Prefer org.junit over junit.framework for OkHttp code.

commit 444bde0ec133a7e73c8cdd249023be88283d84c1
Author: Neil Fuller <nfuller@google.com>
Date:   Thu Feb 20 14:36:49 2014 +0000

    Prefer org.junit over junit.framework for OkHttp code.

commit 2a4b1c18a375a53bb19b966a464e5dc7de38399f
Author: Neil Fuller <nfuller@google.com>
Date:   Mon Feb 24 17:41:09 2014 +0000

    Adding ResponseCacheAdapter.
    
    This allows OkHttp to continue supporting java.net.ResponseCache,
    which is desirable for Android's HttpURLConnection
    implementation.

commit a2e10166e049bb4dbe2d6ff0cdee6fbcf854c08a
Merge: 7f9ff37 3585ac2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Mar 3 13:14:22 2014 -0800

    Merge pull request #590 from square/jwilson_chunk_buffering
    
    Rely in external buffers in ChunkedSink.

commit 3585ac2207f4ce09a5f49b9d18dccb73dc208e49
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Mar 3 02:17:48 2014 -0500

    Rely in external buffers in ChunkedSink.
    
    The extra buffer doesn't add any value.

commit 7f9ff37791363b90d3127aa96c730054b1dfd656
Merge: 7c36814 e2d95bf
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Mar 3 13:12:46 2014 -0800

    Merge pull request #588 from square/jwilson_okio_docs
    
    Docs for Source and Sink.

commit e2d95bfaf2f3e3623bbae8937b79306767d5af78
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Mar 3 02:16:05 2014 -0500

    Docs for Source and Sink.

commit 7c36814eb1353188c9a45548d9ae4739ced0caf4
Merge: 2c47389 98f60cc
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Mar 3 09:03:59 2014 -0800

    Merge pull request #586 from square/jwilson_tls_fallback
    
    Don't blame modern TLS when a pooled connection fails.

commit 2c473896602cd4b8e3601e01636a2134a55ae35b
Merge: d48eb0d e5b90c6
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Mar 3 08:58:48 2014 -0800

    Merge pull request #587 from square/jwilson_spdy_sink_buffer
    
    Rely in external buffers in SpdyDataSink.

commit d48eb0dcb3d49387a27dd5edc568d70be3cc2517
Merge: acccc68 1e475f9
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Mar 2 23:50:07 2014 -0800

    Merge pull request #589 from square/jwilson_disklrucache_okio
    
    Use Okio in DiskLruCache.

commit 1e475f9a203b8a7cd7948e34600fb0cc9e96dbab
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Mar 3 02:16:53 2014 -0500

    Use Okio in DiskLruCache.

commit e5b90c6e3d83e1107d06dbf734fdb1d8127dc9e6
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Mar 3 02:15:06 2014 -0500

    Rely in external buffers in SpdyDataSink.
    
    The extra buffer doesn't add any value.

commit 98f60cc9f0b1af08803dde269386877b9cf1c7d3
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Mar 3 02:14:06 2014 -0500

    Don't blame modern TLS when a pooled connection fails.

commit acccc681f4156695885486ab03e9502fd20ad202
Merge: 24b6957 a5ba3e9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Mar 2 14:55:24 2014 -0500

    Merge pull request #566 from square/adrian.push-observer
    
    Add HTTP/2 PushObserver

commit a5ba3e9062f3bde4bb6896f1db433a2408119e94
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Mar 1 10:27:00 2014 -0800

    Add HTTP/2 PushObserver.

commit 24b6957992d0051fdb88fca008028296168f26c2
Merge: 5b359bf 99e2dc2
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Mar 1 08:23:40 2014 -0800

    Merge pull request #584 from square/jwilson_0301_sneakythrow
    
    Use a sneaky throw when RealBufferedSink.close() fails.

commit 5b359bfd81907c36bcdeea94b8aa4bccdf1d0a1a
Merge: f52de4c c6316bf
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Mar 1 11:08:43 2014 -0500

    Merge pull request #583 from square/jwilson_0301_method
    
    Fix and test PATCH.

commit 99e2dc2df88345776c48f8f005d0ee17017a39f6
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Mar 1 11:04:19 2014 -0500

    Use a sneaky throw when RealBufferedSink.close() fails.
    
    This is the same technique used by the buffered streams in AOSP. It's
    a little more reliable than what we were doing before because it will
    still close the underlying sink regardless of what write() throws.

commit c6316bfa4c592c436c948251fc71ea910437168f
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Mar 1 10:04:48 2014 -0500

    Fix and test PATCH.

commit f52de4c7714a4916147358856a8921a1ad9586fb
Merge: 85129f1 4fa4694
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Mar 1 10:10:17 2014 -0500

    Merge pull request #582 from square/jwilson_0301_readlongs
    
    Don't require OkBuffer callers to cast.

commit 85129f1c396b993fe5f172037d03f6c70bec7deb
Merge: f060212 8b0401e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Mar 1 10:10:05 2014 -0500

    Merge pull request #579 from square/jwilson_03031_multiple_routes
    
    Ignore a broken test for SPDY failure recovery.

commit f0602129f253a1e5c1f40a4f802a4109cecc605f
Merge: e623811 e40ebf8
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sat Mar 1 09:34:44 2014 -0500

    Merge pull request #577 from square/jwilson_0301_recover_from_ssl_protocol_failures
    
    Recover from SSL protocol exceptions.

commit 4fa4694839ab2eedd314be5af46206c78638c3f2
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Mar 1 09:34:26 2014 -0500

    Don't require OkBuffer callers to cast.
    
    The casting masks bugs. Instead accept a long and do a range check in
    OkBuffer.

commit e62381130ca5b2ccf86644b15521f57ab413905d
Merge: 3746efe c66899b
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sat Mar 1 09:33:46 2014 -0500

    Merge pull request #580 from square/jwilson_0301_date_formats
    
    Use the server's date format.

commit 3746efe89700f8026561d22595d4cfc62de90893
Merge: edb8164 5c3cfd9
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sat Mar 1 09:31:42 2014 -0500

    Merge pull request #581 from square/jwilson_0301_gmt_dates
    
    Confirm that we use GMT formatting in setIfModifiedSince().

commit 5c3cfd9148500c19794aec4ba44c426247b7bd72
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Mar 1 09:15:56 2014 -0500

    Confirm that we use GMT formatting in setIfModifiedSince().

commit c66899bbead9dffe4381fe6a25428679ea72b3f0
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Mar 1 08:55:14 2014 -0500

    Use the server's date format.
    
    Slightly related to this AOSP bug report:
    https://code.google.com/p/android/issues/detail?id=66135

commit 8b0401eb7a01d2d93fe144bcc38b346df471b987
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Mar 1 08:13:28 2014 -0500

    Ignore a broken test for SPDY failure recovery.
    
    https://github.com/square/okhttp/issues/578

commit e40ebf8f4380c3086e9566f771f9031c486cae39
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Mar 1 07:55:51 2014 -0500

    Recover from SSL protocol exceptions.
    
    Previously this appeared to work, but only because our test environment
    usually had multiple IP addresses for localhost.

commit edb8164469296e27abd1ab69ff554711a41a79be
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Feb 28 22:52:27 2014 -0500

    Tweak Markdown.

commit 6d8e198e2dd1ef808e81c57a9e88aa6218e0dbab
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Feb 28 22:47:02 2014 -0500

    New mockwebserver docs.

commit 8d40ed8a98b1f100e9a1885c889c5de911dfe03d
Merge: d5cbd0a 110a4fa
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Thu Feb 27 21:39:45 2014 -0800

    Merge pull request #573 from square/jwilson_0227_modules
    
    Rearrange OkHttp modules.

commit 110a4fac4257fe2df0e23149fbef76e750604cf4
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Feb 27 23:12:10 2014 -0500

    Rearrange OkHttp modules.
    
    The HTTP client and SPDY code are now a single module that
    mockwebserver depends upon.
    
    The tests are now in a separate module that depends on both
    OkHttp and mockwebserver.

commit d5cbd0aebe090d956f54b6697068fcbff6d668e7
Merge: a64621d e7354e3
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Feb 25 19:34:25 2014 -0800

    Merge pull request #571 from square/jwilson_0225_size
    
    Rename OkBuffer.byteCount() to size().

commit e7354e311ca0b5873ea89a4cccc0c575530d0182
Author: jwilson <jwilson@squareup.com>
Date:   Tue Feb 25 21:19:08 2014 -0500

    Rename OkBuffer.byteCount() to size().
    
    Continue to use byteCount as a parameter name wherever we're
    referring to the number of bytes to read or write.

commit a64621dd14b218b8ac93453c078001ddde7598d1
Merge: 0fbe50c 7c99d00
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Feb 24 23:23:07 2014 -0500

    Merge pull request #569 from square/jwilson_0224_keep_a_handshake
    
    Keep the handshake after connecting.

commit 7c99d00088a168ad060311d278479c29a3032113
Author: jwilson <jwilson@squareup.com>
Date:   Mon Feb 24 22:57:42 2014 -0500

    Keep the handshake after connecting.
    
    https://github.com/square/okhttp/issues/568

commit 0fbe50cbc00e125568f659e39591fa03a7ea95ec
Merge: 494f894 29ffd52
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Feb 23 20:50:15 2014 -0800

    Merge pull request #565 from square/jwilson_0223_redirect_leak
    
    Test for redirect leak bug.

commit 29ffd5237ec89577a67c781c746ce72f968efabe
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 23 23:31:22 2014 -0500

    Test for redirect leak bug.

commit 494f8946300a10e5adee029a82570b8f3c8f5b30
Merge: 267ca98 a562b99
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Feb 23 17:27:39 2014 -0800

    Merge pull request #564 from square/jwilson_0223_kill_strictlinereader
    
    Kill StrictLineReader.

commit 267ca9834a963251bc7322e7b31983c63c335fc3
Merge: eb86e20 fb46f10
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Feb 23 17:26:59 2014 -0800

    Merge pull request #563 from square/adrian.http2-push
    
    Teach MockWebServer HTTP/2 Push Promise

commit fb46f100a4d66342a0b101624fd351a51b6f14a9
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Feb 23 16:44:15 2014 -0800

    Teach MockWebServer HTTP/2 Push Promise.

commit a562b99d794a7a8079a09c9c79b55175dd6bcb9f
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 23 20:07:22 2014 -0500

    Kill StrictLineReader.

commit eb86e20a87c831f03563a457172fc6bd4c53b500
Merge: 0537eed 440fb30
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Feb 23 16:55:05 2014 -0800

    Merge pull request #562 from square/jwilson_0223_readUtf8_line
    
    Promote line reading to BufferedSource.

commit 440fb302ff9c7cabdaae954f64683e92009df36d
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 23 19:35:13 2014 -0500

    Promote line reading to BufferedSource.

commit 0537eedd5d0223bfa08998f85a865a22b192c61d
Merge: bf976c6 2681bc4
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Feb 23 16:08:39 2014 -0800

    Merge pull request #561 from square/jwilson_0223_death_to_abstractoutputstream
    
    Delete AbstractOutputStream and FaultRecoveringOutputStream.

commit bf976c6a52cbb0dd84603450813ba438814e223c
Merge: e56fe1c 416e59e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Feb 23 18:52:26 2014 -0500

    Merge pull request #560 from square/jwilson_0223_death_to_bytearraypool
    
    Death to ByteArrayPool.

commit 2681bc424719e40477830230dfc84913b1f8694c
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 23 18:48:40 2014 -0500

    Delete AbstractOutputStream.

commit e56fe1c07eb29aaa344963d3e044f5c497af83bd
Merge: 40c9522 c24e49c
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Feb 23 15:46:42 2014 -0800

    Merge pull request #559 from square/jwilson_0223_test_cleanup_2
    
    Use OkBuffer in Spdy3Test.

commit 416e59e219804c8eca46b9317b19b8f8ac3cf24e
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 23 18:44:23 2014 -0500

    Death to ByteArrayPool.
    
    Murdering this was the motivation of the entire Okio refactor.

commit 40c952281a3d4ae05d6ed35f5083bb46b46fded4
Merge: 8e0b862 97524fb
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Feb 23 15:41:09 2014 -0800

    Merge pull request #558 from square/jwilson_0223_test_cleanup
    
    Use OkBuffer in Http20Draft09Test.

commit c24e49c4421885a6dd582f272759db14bc00e095
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 23 18:38:08 2014 -0500

    Use OkBuffer in Spdy3Test.

commit 97524fb5c9b94b1544a641f115318a41d976a801
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 23 18:33:15 2014 -0500

    Use OkBuffer in Http20Draft09Test.

commit 8e0b862667dc8bb027a5b38f109f883b68631485
Merge: 8858ca8 84184af
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Feb 23 18:19:33 2014 -0500

    Merge pull request #557 from square/jwilson_0223_httpconnection_sink_ii
    
    Use Sink in HttpEngine.

commit 84184afdb26b42ff615896f9c0161157cc84ec73
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 23 15:11:18 2014 -0500

    Use Sink in HttpEngine.

commit 8858ca8aba466201a49a169060376ddc5534118f
Merge: 2ea11f6 c16436f
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Feb 23 10:07:25 2014 -0800

    Merge pull request #556 from square/jwilson_0223_httpconnection_sink_i
    
    Use BufferedSink in HttpConnection.

commit c16436f8b2020e4bb2cbdddbd0eddd5ae5c528c4
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 23 12:55:03 2014 -0500

    Use BufferedSink in HttpConnection.

commit 2ea11f66b8220a0f9791a8121282042e70a2d89c
Merge: 877de57 ab78dad
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Feb 23 09:00:12 2014 -0800

    Merge pull request #555 from square/jwison_0223_buffered_sink_in_spdy
    
    Use BufferedSink in SPDY and HTTP/2.

commit ab78dadb4bb94db74770e179e04e2ed791c4a51e
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 23 11:42:59 2014 -0500

    Use BufferedSink in SPDY and HTTP/2.

commit 877de57447b6d56e02873e2487277c1743a46c32
Merge: 0a26d85 ef1fdcc
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Feb 23 08:35:45 2014 -0800

    Merge pull request #554 from square/jwilson_0223_equals_hashcode
    
    More equals, hashCode and toString.

commit ef1fdccbeb6c9ca960025844b7af7d1a5b4b276f
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 23 10:01:51 2014 -0500

    More equals, hashCode and toString.

commit 0a26d85a55a4b2bfe1c6cd5f42d4e973fc221ca3
Merge: 08ce8f7 0954485
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Feb 22 13:17:34 2014 -0800

    Merge pull request #553 from square/jwilson_0222_hex
    
    OkBuffer toString and hex.

commit 08ce8f75159f030a299bfea0be0f2430cb0addc0
Merge: b0ed4b3 9080b73
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Feb 22 16:15:38 2014 -0500

    Merge pull request #552 from square/adrian.sync-api
    
    Added blocking alternative to HttpUrlConnection

commit 095448552ee41e62e58994be0f424df750c6822f
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 22 16:08:25 2014 -0500

    OkBuffer toString and hex.

commit 9080b73109e2832a1487a667461d9fb48cd6043c
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Feb 22 12:25:16 2014 -0800

    Added blocking api per #405.

commit b0ed4b34ec3a9ae8f8b6cc56a4f7e73a722b0c65
Merge: 90450e5 2581c36
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Feb 22 14:38:05 2014 -0500

    Merge pull request #551 from square/jwilson_0222_okio
    
    Okio module.

commit 2581c36905db13dcd1df9a602c6201e3a9f80965
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 22 14:23:52 2014 -0500

    Okio module.

commit 90450e57130927cf3945255bf75694913fb915c0
Merge: 59b8adc 7995b46
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Feb 22 13:57:39 2014 -0500

    Merge pull request #550 from square/jwilson_0222_buffer_interfaces
    
    Interfaces for BufferedSource and BufferedSink.

commit 7995b46276295a7c1d8afd920d6900777dfeae59
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 22 13:16:36 2014 -0500

    Interfaces for BufferedSource and BufferedSink.
    
    This means OkBuffer implements these interfaces directly.
    That's much simpler for code that sometimes wants to access
    an in-memory OkBuffer and sometimes wants to access an
    I/O backed stream like a socket.

commit 59b8adc74bdd9d890fb7fe7195e008e65b9005db
Merge: 9dfeda5 5e220ac
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Feb 22 13:03:09 2014 -0500

    Merge pull request #549 from square/adrian.whoops-deadline
    
    Fix the build wrt deadline

commit 5e220ac5160013d6560ac05d1c57f75d11564d9d
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Feb 22 09:37:37 2014 -0800

    Fix flakey SpdyConnection tests that closed before reading all frames.

commit 5ce96235151e818cd0d2af67134da46200c4a143
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Feb 22 08:58:54 2014 -0800

    Fix the build wrt deadline.

commit 9dfeda588a5ec1741e9f6b84602fe5d890f33a87
Merge: ef370dc 6ad4d98
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Feb 22 08:14:28 2014 -0800

    Merge pull request #548 from square/jwilson_0222_self_terminating_gzips
    
    Make GzipSource exhaust its input.

commit ef370dcc80839eb8a22674252d2b8f058a37c1ac
Merge: e086680 8377182
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Feb 22 08:13:00 2014 -0800

    Merge pull request #547 from square/jwilson_0222_invalid_host
    
    Don't do DNS lookups on null hosts.

commit e08668065b155b64234b8514c46e5e27fa95b23d
Merge: 8c154a3 686133c
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Feb 22 08:12:20 2014 -0800

    Merge pull request #546 from square/jwilson_0224_drop_readlowercase
    
    Drop readLowerCase.

commit 8c154a34c43f2d76cebfa73cf00de9fd0cb0cf18
Merge: dce4bb2 cca9142
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Feb 22 08:06:44 2014 -0800

    Merge pull request #545 from square/jwilson_0221_move_deadlines
    
    Deadlines are per-stream, not per-operation.

commit 6ad4d9856a7bfcea81d39c900eafaa226ece4bf7
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 22 10:49:49 2014 -0500

    Make GzipSource exhaust its input.
    
    https://github.com/square/okhttp/issues/507

commit 8377182cfe5ea862516726899dbef5bfb699176d
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 22 09:11:30 2014 -0500

    Don't do DNS lookups on null hosts.

commit 686133cc893b2f2430a146f3eb1363766c769f4c
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 22 08:51:52 2014 -0500

    Drop readLowerCase.

commit cca9142903097dbe4643944bbb4dbe5e2b87d922
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 22 00:45:10 2014 -0500

    Deadlines are per-stream, not per-operation.

commit dce4bb2c1390a59ca1c3e1cb21add1aff90a3647
Merge: f41e2c8 f5d0782
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Fri Feb 21 21:39:30 2014 -0800

    Merge pull request #544 from square/jwilson_0221_okbuffer_refactor
    
    Small OkBuffer API changes.

commit f5d07820a2bbafe2d5cb6b4ff8b067a6dc17e41d
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 22 00:17:26 2014 -0500

    Small OkBuffer API changes.

commit f41e2c8c0488279a17b4b7706cd6cb6bf3efee90
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Feb 21 00:08:02 2014 -0800

    Deprecate G+ community in favor of StackOverflow.

commit 9e8b022f089d42ba1ea3fcf1a9b3525cb344669f
Merge: 0effa60 a3e9485
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Feb 19 23:49:30 2014 -0500

    Merge pull request #539 from square/adrian.unthrottle-client-reads
    
    When a SPDY client, do not flow-control the server

commit a3e9485b81517653ae5a2f4a37a5b56c5180f83d
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Feb 18 22:50:05 2014 -0800

    When a SPDY client, use a large flow-control window.

commit 0effa6003156d224b84e9d721273d06bc695285d
Merge: ad0ff58 e9d95f5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Feb 19 08:16:47 2014 -0500

    Merge pull request #538 from square/jwilson_0219_deflatersink
    
    DeflaterSink.

commit e9d95f5b8ba5ee81d0ac53cbbbccf70cbf26679d
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Feb 18 22:04:35 2014 -0800

    Animal Sniffer

commit ad0ff5847c1fff4f16e5c25d95c1a1140f31ee6c
Merge: 15fff4c ccd54b7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Feb 19 00:47:56 2014 -0500

    Merge pull request #537 from square/adrian.remove-old-header
    
    Remove OkHttp-Selected-Transport header

commit ccd54b7025cc96d812f72a303831c530e840b1df
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Feb 18 21:35:07 2014 -0800

    Removed OkHttp-Selected-Transport header.

commit 60e68ab19876d2e815a4c02411aa70ed55596c61
Author: jwilson <jwilson@squareup.com>
Date:   Wed Feb 19 00:27:32 2014 -0500

    DeflaterSink.

commit 15fff4c325684415e05b5500f9bcb354a189240b
Merge: 625909b a669069
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Feb 18 08:27:20 2014 -0800

    Merge pull request #536 from square/jwilson_0217_source_in_engine
    
    Use OkBuffer+Source in HttpEngine.

commit a669069599893a774748181a238e0b009a4f3e87
Author: jwilson <jwilson@squareup.com>
Date:   Mon Feb 17 20:36:59 2014 -0500

    Use OkBuffer+Source in HttpEngine.

commit 625909bcd003a776ff9eaaa05ee36fdd38246454
Merge: 000e62e dac5aed
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Feb 17 17:13:53 2014 -0800

    Merge pull request #533 from square/jwilson_0215_rethink_recycle
    
    Move connection pooling logic.

commit 000e62ec37cf9eb630116a62a8cc7c6d0c404543
Merge: 5be60e4 415841c
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Feb 17 15:37:05 2014 -0800

    Merge pull request #534 from square/jwilson_0217_buffered_sink
    
    BufferedSink.

commit 5be60e4b7003d1cb77b6974d064c7903a610ec6b
Merge: ce76cae 167245b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Feb 17 18:33:09 2014 -0500

    Merge pull request #535 from square/jwilson_0217_base64
    
    Give Base64 lots of love.

commit 167245bb4ab0ca21bb47c529b07617f6b29ac812
Author: jwilson <jwilson@squareup.com>
Date:   Mon Feb 17 13:41:11 2014 -0500

    Give Base64 lots of love.
    
    Fix some bugs, such as decoding of input that contains lots
    of padding or whitespace. See
    https://code.google.com/p/android/issues/detail?id=66078
    
    Improve performance by correctly guessing the output array
    size whenever the input doesn't contain whitespace.
    
    Build Base64 into ByteString, and expose it through there
    only.
    
    Use more reasonable names in the implementation.

commit 415841c48f1d15018338f0c0438a91232a3b2a22
Author: jwilson <jwilson@squareup.com>
Date:   Mon Feb 17 09:17:32 2014 -0500

    BufferedSink.

commit dac5aed3d5f9307b9d1ab0a8c7840b232d053ef3
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 15 18:27:19 2014 -0500

    Move connection pooling logic.
    
    Previously we had this ugly, awkward release() method that
    attempted to manage connection pooling, discarding streams
    for caching, and closing broken streams.
    
    Move connection reuse to HttpConnection, with policy informed
    by HttpEngine. It specifies what to do when the connection
    becomes idle: pool, close or hold. The connection does what
    it's told.

commit ce76caedda03789463439f8f798528cd15db5a52
Merge: 4caed5c 322e9f3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Feb 15 13:30:23 2014 -0500

    Merge pull request #532 from square/jwilson_0215_statemachine
    
    Enforce the implicit state machine in HttpConnection.

commit 322e9f3700be4b9ebcf8b004d82868da71f919c5
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 15 11:21:07 2014 -0500

    Enforce the implicit state machine in HttpConnection.
    
    This checks that calls into HttpConnection occur in the correct
    sequence.
    
    Once this is merged I can follow up by making HttpConnection
    responsible for its own pooling rather than relying on HttpEngine
    to do that work.

commit 4caed5ca3b9567d80debc7c808e3c437764f0f82
Merge: efaf141 504b9cf
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Feb 14 16:56:50 2014 -0500

    Merge pull request #530 from square/jwilson_0214_http_connection
    
    Split HttpTransport in two.

commit 504b9cf55afd9d642e2a5323e18f79db607ad1a9
Author: jwilson <jwilson@squareup.com>
Date:   Fri Feb 14 16:14:21 2014 -0500

    Split HttpTransport in two.
    
    The new (awkwardly-named) HttpConnection class now owns the
    socket, and stays around between HTTP requests. It matches
    SpdyConnection in lifecycle: it is tied to the socket.
    
    The HTTP transport class is a dumb adapter that adapts the
    protocol-specific decisions (chunked-encoding, content-length
    stuff).
    
    This should make it possible to make significant simplifications
    to how connection recycling works: in a follow up change the
    HttpConnection class will know when it can be recycled and take
    that action automatically.

commit efaf141801d3ce8b6472007d86e256c161d0e0b1
Merge: 3265ded 334584b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Feb 14 15:27:10 2014 -0500

    Merge pull request #527 from square/jw/okcurl-bodies
    
    Add body support to OkCurl. Introduce tests.

commit 334584b8349ed62efac23c80062c24b062d00d4f
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Feb 13 22:33:12 2014 -0800

    Add body support to OkCurl. Introduce tests.

commit 3265dedc647dcdc0e1fa42c3eb0103575002d9e6
Merge: 8720ab4 622e6a2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Feb 14 08:01:27 2014 -0500

    Merge pull request #529 from square/jw/java7
    
    Make Java 7 build requirement more clear.

commit 622e6a23cc4cc2f97e4437afa78ff99607d562b3
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Feb 13 22:59:07 2014 -0800

    Make Java 7 build requirement more clear.

commit 8720ab420f4433a08a9d4fcabba1b42287a8404b
Merge: c40cb63 c8507d0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Feb 12 17:20:53 2014 -0500

    Merge pull request #526 from square/jwilson_0212_okbuffer_in_spdystream
    
    Use OkBuffer in SpdyStream.

commit c8507d05b45d9699b6501aed74d735eb58a8fcdc
Author: jwilson <jwilson@squareup.com>
Date:   Wed Feb 12 12:35:18 2014 -0500

    Use OkBuffer in SpdyStream.

commit c40cb632ffce9b80c244a541c3b612ea4d4716b6
Merge: 545807e 9c6a433
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Wed Feb 12 08:58:32 2014 -0800

    Merge pull request #524 from square/jwilson_0211_buffered_source
    
    BufferedSource.

commit 9c6a433725364dc8d4639e712aef8ca9c9eeec20
Author: jwilson <jwilson@squareup.com>
Date:   Tue Feb 11 20:48:38 2014 -0500

    BufferedSource.
    
    The Source API is nice for source implementors: no annoying
    skip method, no annoying available() method, just one API to
    supply bytes to the caller.
    
    But it isn't as nice of an API for source callers. It lacks
    convenient APIs!
    
    This bridges the gap. Calling code should use BufferedSource,
    and implementing code should implement Source.

commit 545807ee8ddde7178dfb3a6085a281f44f288a24
Merge: a2cb34d 72d5fae
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Feb 11 17:15:30 2014 -0500

    Merge pull request #523 from square/jwilson_0211_okbuffer_in_http2_source
    
    Use OkBuffer in http/2 source stream

commit 72d5faec97063faec64403624740611a213ca60c
Author: jwilson <jwilson@squareup.com>
Date:   Tue Feb 11 16:05:04 2014 -0500

    Use OkBuffer in http/2 source stream

commit a2cb34de5f98ea3daa18c47444a674e12cec68a6
Merge: 12f7e64 d60d8e1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Feb 11 15:54:55 2014 -0500

    Merge pull request #519 from square/jwilson_0209_okbuffer_in_spdy3_source
    
    Use OkBuffer in spdy/3 source stream.

commit d60d8e143a337b48f2e9a7373cb2a9e539423b19
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 9 14:59:00 2014 -0500

    Use OkBuffer in spdy/3 source stream.
    
    This isn't quite as simple as I had hoped. We still lack something
    like DataInputStream/BufferedInputStream that combines a buffer with
    a Source. That means there's a bunch of methods that must manually
    refill the buffer before acting upon it.
    
    I'm going to continue to migrate code, and will follow up with
    changes to simplify this interaction.

commit 12f7e649bc438ac388fa91078667017a104da307
Merge: f11832d 6587a86
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Feb 11 09:05:19 2014 -0800

    Merge pull request #522 from square/adrian.curl-X
    
    Add -X to okcurl, permitting HEAD requests

commit 6587a862cf4e60832a07dea2c1b420493b5a7e93
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Feb 11 08:58:37 2014 -0800

    Add -X to okcurl, permitting HEAD requests.

commit f11832d5cfe602359cec57c6ab07b896bd6eaca8
Merge: de6d505 5d7fdba
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Feb 9 10:54:43 2014 -0500

    Merge pull request #518 from square/adrian.okclient-provided-sslcontext
    
    OkHttp no longer uses default ssl context.

commit 5d7fdbaf30a411c56666462bd032d86e8eb4ddf7
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Feb 8 19:22:58 2014 -0500

    fix #184: OkHttp no longer uses default ssl context.

commit de6d505c03419a53e0387802a6cc2196572dd99e
Merge: 1151c98 acd45e1
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Feb 8 18:45:46 2014 -0500

    Merge pull request #514 from square/jw/okcurl
    
    Initial implementation of an OkHttp-backed curl clone.

commit acd45e124e05b3f1a8624a193480791acfb51419
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Feb 6 14:26:30 2014 -0500

    Initial implementation of an OkHttp-backed curl clone.

commit 1151c9853ccc3c9c3211c613b9b845b925f8c6a6
Merge: 4c8ce7c cd16580
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Feb 8 10:20:34 2014 -0500

    Merge pull request #517 from square/jwilson_0208_buffer_fixes
    
    Fix some OkBuffer bugs.

commit 4c8ce7cad57e41fc789883e2d51474ed71edd78b
Merge: 1b25214 1f97e6b
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Feb 8 10:17:00 2014 -0500

    Merge pull request #516 from square/jwilson_0208_byte_at_to_get_byte
    
    Rename byteAt to getByte.

commit cd16580d2ea22901b8273b22914be9205af5a9f7
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 8 08:22:22 2014 -0500

    Fix some OkBuffer bugs.
    
    GzipSource exceptions used six hex digits instead of
    8 to print ints.
    
    readUtf8 always did an extra copy of the bytes being
    read.
    
    Moving bytes between buffers crashed when the destination
    was empty and the source was a prefix.
    
    InputStream reading returned values in -128..127 instead
    of in 0..255.

commit 1f97e6b74cd1f8a880264f6da500087172adfa7f
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 8 07:44:47 2014 -0500

    Rename byteAt to getByte.
    
    Should we later support random access for other primitives
    or random bulk access, I'd like the prefix to stay constant
    (getByte, getInt, getLong, getBytes) vs. the suffix (byteAt,
    intAt, longAt). Prefixing may work better for autocomplete
    in IDEs, particularly since we already use a prefix for our
    consuming reads (readByte, readInt, readLong).

commit 1b25214f59eefa81d40a529fceb85666947937cd
Merge: 08b68ac 2c6f99d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Feb 7 21:28:14 2014 -0500

    Merge pull request #510 from square/jwilson_0203_gzip_beginnings
    
    GzipSource beginnings.

commit 2c6f99dd56c707c5f12f72d7c5fbde54855a7fd4
Author: jwilson <jwilson@squareup.com>
Date:   Mon Feb 3 01:24:59 2014 -0500

    GzipSource beginnings.

commit 08b68ac717f54748be430574ef2f5c7c55700f46
Merge: 85fbb0a 0ca4c82
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Thu Feb 6 01:36:25 2014 +0100

    Merge pull request #513 from adamsp/master
    
    Fix for NPE when the OpenSSLSocketImpl returns null from getNpnSelectedProtocol

commit 0ca4c82dd1032625831a5814ea2ddcf165029bdc
Author: Adam Speakman <adam.speakman@gmail.com>
Date:   Thu Feb 6 12:06:17 2014 +1300

    Fix for NPE when the OpenSSLSocketImpl returns null from getNpnSelectedProtocol.

commit 85fbb0abeb6d94ba963ea4302be02035a1563927
Merge: b149fec fdee6f1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Feb 5 12:49:22 2014 -0500

    Merge pull request #512 from square/adriancole_02_05_findbugs
    
    FindBugs sweep.

commit fdee6f13a4c5bf5bd24f2c237c2996aea01cc5ff
Author: Adrian Cole and Jesse Wilson <git+adrian+jwilson@squareup.com>
Date:   Wed Feb 5 11:49:21 2014 +0100

    FindBugs sweep.

commit b149fec75e4bcd49886e47c00cc48e130625be0d
Merge: 8be6646 4313b7a
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Feb 2 22:54:46 2014 -0800

    Merge pull request #509 from square/jwilson_0202_targetbacklog
    
    Promote the target backlog to a parameter.

commit 4313b7af81f7023aa7210f08f2992eaf9fa15633
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 2 10:43:43 2014 -0500

    Promote the target backlog to a parameter.

commit 8be66466354ef0d663c3a5f59489a7245f050b28
Merge: a12d6a6 220c30b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Feb 2 22:21:26 2014 -0800

    Merge pull request #508 from square/jwilson_0202_inflater_source
    
    InflaterSource. Like InflaterInputStream.

commit 220c30ba20ab4ed80788aac18582b989ccf2c1b2
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 2 17:53:43 2014 -0500

    InflaterSource. Like InflaterInputStream.

commit a12d6a6fcc26806aebc242eef192e10c8bf43fb2
Merge: 810a917 18ef05d
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Feb 1 16:59:41 2014 -0800

    Merge pull request #503 from normanmaurer/pooled
    
    Use the pooled allocator for performance reasons

commit 810a9175dabfffc93c22d30a5c4685179c1caa12
Merge: b2293c2 15099af
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Feb 1 16:59:10 2014 -0800

    Merge pull request #505 from adriancole/flush-control-frames-dont-flush-user-frames
    
    Flush control frames; don't flush user frames.

commit b2293c266067ca22d7d2732fec8daec98c8de703
Merge: f2ef66f 99841ae
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Feb 1 12:53:18 2014 -0800

    Merge pull request #504 from square/jwilson_0201_caliper
    
    Use Caliper for benchmarking.

commit 15099af48064c22bc3357b01c9efcb1aa43c4819
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Feb 1 12:52:12 2014 -0800

    Flush control frames; don't flush user frames.

commit 99841aecb4273e0cbd22e7d67399bee20b806c52
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 1 15:35:54 2014 -0500

    Use Caliper for benchmarking.

commit f2ef66fd22e57c0ff791c54863ec2624259055d5
Merge: b52e041 66b2582
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Feb 1 11:23:29 2014 -0800

    Merge pull request #502 from adriancole/mws-npn
    
    Tell MockWebServer which NPN protocols to use.

commit 18ef05d70d3b5ac90e8df8b80cd83af82b82197b
Author: Norman Maurer <nmaurer@redhat.com>
Date:   Sat Feb 1 20:09:25 2014 +0100

    Use the pooled allocator for performance reasons

commit 66b25823795f14f156576d633294eb8c62382c4a
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Feb 1 11:01:27 2014 -0800

    Add instructions to execute the benchmark with correct JVM parameters.

commit 08bc3c8808ec4495a1284ed6eb2325d44b435d33
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Feb 1 11:00:49 2014 -0800

    Add MockWebServer.setNpnProtocols

commit b52e0412f56fc4ac13b16efff4f208c23ca20f47
Merge: 7032f69 13ce4a0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Feb 1 10:34:05 2014 -0800

    Merge pull request #501 from square/jwilson_0201_netty
    
    New benchmark target for Netty.

commit 13ce4a09bec4cb9c999f5e45d4cf3d3a90c1c95d
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 1 12:20:28 2014 -0500

    New benchmark target for Netty.
    
    This required some reworking to the harness since Netty doesn't
    want to be used with an ExecutorService.
    
    NettyHttpClient [HTTP_11]
    bodyByteCount=1048576 headerCount=20 concurrencyLevel=10
    Requests per second: 597.1
    
    OkHttp [HTTP_11]
    bodyByteCount=1048576 headerCount=20 concurrencyLevel=10
    Requests per second: 705.2

commit 7032f69b8acca1a1e1e3c350aa8f5b1cb270be36
Merge: e369755 7c21992
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Feb 1 06:59:00 2014 -0800

    Merge pull request #500 from square/jwilson_0130_mo_benchmarks
    
    New benchmark targets for Apache HTTP Client and URLConnection.

commit 7c21992db56623b9d77f682d7e4edea078c3985b
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 1 00:52:44 2014 -0500

    New benchmark targets for Apache HTTP Client and URLConnection.
    
    OkHttp [HTTP_11]
    bodyByteCount=1048576 headerCount=20 threadCount=10
    Requests per second: 690.9
    
    UrlConnection [HTTP_11]
    bodyByteCount=1048576 headerCount=20 threadCount=10
    Requests per second: 671.3
    
    ApacheHttpClient [HTTP_11]
    bodyByteCount=1048576 headerCount=20 threadCount=10
    Requests per second: 317.4

commit e369755806fc676b06e6f056997ece421ddbd163
Merge: 52804f6 9bbdf3a
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Fri Jan 31 20:40:25 2014 -0800

    Merge pull request #499 from square/benchmarks
    
    Quick and dirty benchmark.

commit 9bbdf3a9245e83dfb2a2f20afce7fd1dc41f95fb
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 31 22:24:05 2014 -0500

    Quick and dirty benchmark.
    
    Sample output:
    
    OkHttp [gzip, chunked, HTTP_11]
    bodyByteCount=1048576 headerCount=20 threadCount=10
    Requests per second: 121.0
    Requests per second: 304.6
    Requests per second: 379.1
    Requests per second: 386.9
    Requests per second: 369.2
    Requests per second: 390.8
    Requests per second: 368.8
    Requests per second: 325.2
    Requests per second: 409.4
    Requests per second: 389.1

commit 52804f6d9aa02c59f4b1727f97dd4e4d5bc389bd
Merge: d587a44 2d01579
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jan 30 22:30:10 2014 -0800

    Merge pull request #496 from square/jwilson_0130_adapters
    
    Adapters that go the other way, to java.io.

commit 2d01579a18cc50c33147e3e51924515dbdbf950b
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 30 22:20:55 2014 -0500

    Adapters that go the other way, to java.io.
    
    These ones are slightly more awkward because they need to do
    their own internal buffering.

commit d587a443993cde35957801f7d86093070f035ce9
Merge: a3db2d7 0b3ec2b
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Wed Jan 29 11:25:40 2014 -0800

    Merge pull request #495 from adriancole/hpack-write-literal-name-no-indexing
    
    HPACK: Write headers using indexed names where possible.

commit 0b3ec2b55d4ecbaf3cbfecee79599a71ac1481d2
Author: Adrian Cole <adrian@squareup.com>
Date:   Wed Jan 29 10:23:02 2014 -0800

    HPACK: Write headers using indexed names where possible.

commit a3db2d7239a8cb25ffc437920e3974a5a2c39fb0
Merge: e50e4b7 855c114
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 28 21:52:01 2014 -0800

    Merge pull request #494 from square/jwilson_0128_data_in_buffers
    
    Read/write access for byte, short and int.

commit 855c114f4f6fce3e0e1ae71479f89c9d5ad066d6
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jan 29 00:08:27 2014 -0500

    Read/write access for byte, short and int.
    
    This is big-endian only because that's all we use in OkHttp.

commit e50e4b7bf493f695bb4038633f771a04a3b5a4e8
Merge: 99a8dae 25cb503
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 28 21:04:23 2014 -0800

    Merge pull request #493 from square/jwilson_0128_okbuffers
    
    Adapters for sources and sinks.

commit 25cb503a4116ffe800aefde81bfbaffe5441ff7e
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jan 28 22:56:24 2014 -0500

    Adapters for sources and sinks.

commit 99a8dae9433b18c522dcb3eb7d5dd2a90bf36096
Merge: c30a661 bcacc38
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 27 20:00:24 2014 -0800

    Merge pull request #492 from square/jwilson_0127_indexof
    
    More buffer stuff: deadlines, indexOf and read.

commit bcacc38f7ddd87adce636610c6c3b9d4d2b29873
Author: jwilson <jwilson@squareup.com>
Date:   Mon Jan 27 21:38:55 2014 -0500

    More buffer stuff: deadlines, indexOf and read.
    
    Rename Timeout to Deadline. I'm still unsatisfied with this API,
    but at least the new name is accurate.
    
    Implement indexOf as a linear scan and read by delegating to
    write.

commit c30a661bf04a5b5d1e7099e823dd309621e29f30
Merge: 0feedd1 d152445
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Jan 27 14:22:23 2014 -0800

    Merge pull request #489 from adriancole/spdy-3.1
    
    Update to spdy/3.1 and ignore old spdy frames.

commit d152445db7f7c444cb6e79f659fbd1a1c6facc2f
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Jan 27 08:47:12 2014 -0800

    Update to spdy/3.1 and ignore old spdy frames.

commit 0feedd1e65ecaf0a7de4f7ec2da252e2a26d7de4
Merge: 236b631 b77e76c
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Jan 27 14:05:01 2014 -0800

    Merge pull request #490 from adriancole/close-test-peers
    
    Use latest junit maven config and close test resources

commit b77e76c7367af5a09097f407c0066a227454dec8
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Jan 27 10:33:35 2014 -0800

    Test de-flakiness attempt
    
    Update surefire to latest and set travis to emit maven version.
    
    Only use one MockSpdyPeer in SpdyConnectionTest and close its executor.
    
    Consistency in HttpURLConnection tests.
    
    Bump so and read timeouts in ConnectionPoolTest.

commit 236b631fbab485b5a6274e1c152f7f32826173ba
Merge: 7bf4853 35b031f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 27 06:27:45 2014 -0800

    Merge pull request #488 from jgilfelt/patch-1
    
    Fix mockwebserver jar download 404

commit 7bf48539c1ab12498957a4484671e19028b5db98
Merge: d4e80bc 358169b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 27 06:27:21 2014 -0800

    Merge pull request #486 from adriancole/window-update
    
    Send window update after the peer sends half the limit on a stream or connection

commit 35b031fb63534b9664e622ca4ecf5b19536f63a8
Author: Jeff Gilfelt <jgilfelt@gmail.com>
Date:   Mon Jan 27 10:41:27 2014 +0000

    Fix mockwebserver jar download 404

commit 358169b89f32c00bf229b4e42ccef756588da71f
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Jan 26 15:46:35 2014 -0800

    Send window update after the peer sends half the limit on a stream or connection.

commit d4e80bcc06211515ef822d5f87a90e1d15ddd15e
Merge: e33ee39 5fe67f1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 26 21:49:04 2014 -0800

    Merge pull request #487 from square/jwilson_0126_buffer_to_buffer
    
    Implement moving bytes between OkBuffers.

commit 5fe67f1bfc00a1c2027802515079137f6fd70bea
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 26 23:46:30 2014 -0500

    Implement moving bytes between OkBuffers.
    
    This is more complicated than I'd anticipated.

commit e33ee39e4186eba613e5c02155d12ec47ca9d1be
Merge: 3cf4546 32a2b1d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 26 16:07:35 2014 -0800

    Merge pull request #485 from square/okbuffer
    
    OkBuffer API sketch.

commit 32a2b1d8d000a19d4a340cc1d77a68973a9d65dc
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 26 11:31:23 2014 -0500

    OkBuffer API sketch.
    
    I'm unhappy with java.io:
     * No timeouts.
     * Every layer needs to copy bytes around. Always copying bytes.
     * Features like mark/reset and available() are clumsy.
     * Its awkard in mixed text/binary protocols like HTTP because
       character decoding is separate and takes over the stream.
    
    Unfortunately java.nio isn't better, just different:
     * It's complex.
     * Buffers are fixed size.
     * No built-in buffer pooling.
     * Features like mark/reset/position are clumsy.
    
    This is an obnoxious attempt at a 3rd I/O interface, mostly
    inspired by InputStream and OutputStream, but using growable
    buffers instead of byte arrays as the core data container.

commit 3cf454698b15dd64907524b2ef74fd38d5d9686a
Merge: 8a79b6c d990b58
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Jan 26 14:02:55 2014 -0800

    Merge pull request #484 from adriancole/stream-window-update
    
    spdy streams honor write window updates

commit d990b5819cd6282923134564f3bcc59263eb0616
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Jan 26 13:01:34 2014 -0800

    spdy streams honor write window updates.

commit 8a79b6cdcce89d0b5733753d04b8b53e4dc53828
Merge: b9b5c84 d450814
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Jan 26 12:21:28 2014 -0800

    Merge pull request #483 from adriancole/connection-settings-changes-write-window
    
    Honor change in initial write window from peer settings.

commit d4508141fc9fa1b816c5a1ff3f39149d4dfb22de
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Jan 26 11:33:49 2014 -0800

    Honor change in connection-level initial write window from peer settings.

commit b9b5c8462da2abe26dcf157d2df483ba61e3d379
Merge: a26ddbb 2207d16
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Jan 26 09:36:54 2014 -0800

    Merge pull request #482 from square/jwilson_0126_flow_control_writes
    
    Honor connection-level flow control for writes.

commit 2207d16d458d5f595a2f3dbfcff3fd6f64bed396
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 26 09:37:05 2014 -0500

    Honor connection-level flow control for writes.
    
    We don't write until the peer has given us a budget.

commit a26ddbb76c8b02ba61450dcb7261e986e6ce3735
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 25 18:02:26 2014 -0500

    Style fixes

commit 69cabb714e2a9972a69be991e660bae99b356824
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 25 11:44:14 2014 -0500

    Improve some Markdown

commit 93e079b9368190561f46b56c7528b82dfcc9b1ec
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 25 11:40:17 2014 -0500

    Create concurrency doc.

commit 4221e270076e7eadddd0ddadabd19e7ea416bbbf
Merge: 43463c0 2418142
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Fri Jan 24 12:09:45 2014 -0800

    Merge pull request #480 from adriancole/backfill-tests
    
    Backfill spdy and http/2 related tests wrt zero-length messages.

commit 241814257b774f39896d7384c3452ef22612307f
Author: Adrian Cole <adrian@squareup.com>
Date:   Fri Jan 24 10:47:03 2014 +0100

    Backfill spdy and http/2 related tests wrt zero-length messages.

commit 43463c019c214364d6775e703bd7586ca24f60b9
Merge: 10fa81c 08a3845
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Thu Jan 23 13:05:27 2014 -0800

    Merge pull request #478 from adriancole/harden-reads
    
    cleanup frame handling in http/2

commit 08a3845a599b51d4f3bcc81f4f369ec497bfc055
Author: Adrian Cole <adrian@squareup.com>
Date:   Thu Jan 23 21:12:22 2014 +0100

    Fixed bad length bugs in http/2 reader, ignore unknown frames, and cleaned up frame handling.

commit 10fa81cf1991f42e691ca7c8a8de94803b44afd1
Merge: 76258ca b2cff2e
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Thu Jan 23 12:05:53 2014 -0800

    Merge pull request #479 from adriancole/hide-settings
    
    Simplify settings and hide SPDY Variant construction

commit b2cff2e9163182b48812f8a01ffbf2eae5720a37
Author: Adrian Cole <adrian@squareup.com>
Date:   Thu Jan 23 19:01:18 2014 +0100

    Simplify settings and hide SPDY Variant construction.

commit 76258cab6c89fc10bca9de0d517e84b1b8cd95d6
Merge: abd0cb9 154cbb4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jan 22 16:17:47 2014 -0800

    Merge pull request #477 from adriancole/ids-and-fields
    
    frame metadata field cleanup

commit 154cbb4b9fb52b92d46ad01ab1d81c6bbe2cc236
Author: Adrian Cole <adrian@squareup.com>
Date:   Wed Jan 22 21:29:32 2014 +0100

    convert http/2 params to natural primitive types.

commit abd0cb99abe627166bd1040fbac6f28376228195
Merge: ac58482 28017b1
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Wed Jan 22 11:19:34 2014 -0800

    Merge pull request #476 from adriancole/http2-goaway
    
    Add HTTP/2 GOAWAY frame

commit 28017b150683316ebb60b6d5be94c5c749ceb9bc
Author: Adrian Cole <adrian@squareup.com>
Date:   Wed Jan 22 12:24:02 2014 +0100

    Add GOAWAY support to http/2 and backfill tests.

commit 471ed070e9e0b0860b0146f26458c5c0bd8169e0
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Jan 21 20:53:56 2014 +0100

    Remove FLAG_END_FLOW_CONTROL as it is no longer in http/2.  Backfill test and implementation window update on http/2.

commit ac584820ea09515538da4112fedf324358da7952
Merge: f18ede8 ded437b
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Jan 21 21:25:08 2014 -0800

    Merge pull request #472 from adriancole/backfill-data-test
    
    Backfilled http/2 data frame test and clarified comments.

commit f18ede8f9ce9d29506afaafb82cf83d71b636fa3
Merge: 2014031 97741e9
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jan 21 19:51:46 2014 -0800

    Merge pull request #474 from square/jwilson_0121_gzip
    
    Don't unzip if there isn't a response body.

commit 97741e94fba896f2aede30aecb789efe409202cf
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jan 21 22:47:50 2014 -0500

    Don't unzip if there isn't a response body.
    
    https://github.com/square/okhttp/issues/358

commit ded437b77a08ba230a789c7a86f378aa8137fb38
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Jan 21 21:23:43 2014 +0100

    Backfilled http/2 data frame test and clarified comments.

commit 20140314299c0e0266f480c84fad4f2a47e36d62
Merge: d4a0268 5dc83fd
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Jan 21 11:47:34 2014 -0800

    Merge pull request #471 from adriancole/http2-ping
    
    Enable ping for http/2

commit 5dc83fd2b8eda3e0b880b8264f118113b5389206
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Jan 21 19:48:47 2014 +0100

    Enable ping for http/2

commit d4a02682bf25fb898850aae94d22e0510a52e100
Merge: 47c640a 4a62aef
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Jan 21 08:45:54 2014 -0800

    Merge pull request #470 from adriancole/push-promise
    
    Push promise

commit 4a62aef3f8a0bcd42c730d02191e89f2d91a2dad
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Jan 20 18:25:08 2014 -0800

    Basic support for reading and writing http/2 push promise frames.

commit 47c640a1a4c37482d474bdd34038597e551b96e5
Merge: 7260ffa f214cf9
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Jan 21 08:36:56 2014 -0800

    Merge pull request #469 from adriancole/header-continuation-fix
    
    Fix header frame processing in http/2

commit f214cf9670339b850f97da4a2d4ad64758fd0e4d
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Jan 20 18:25:08 2014 -0800

    Framing of headers blocks happen after compression.

commit 0c5b5454bc8e9c24160a5df1f5b83a0532323ee1
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Jan 20 20:55:14 2014 -0800

    Read priority flag on http/2 headers frame.

commit 7260ffab9b7cb7c7b3f012aedfde97b32161a4d6
Merge: e65221c 9110ef8
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 20 20:53:02 2014 -0800

    Merge pull request #468 from adriancole/test-enable-push-flag
    
    Correct and backfill tests for default http/2 push setting.

commit 9110ef83bf35a006368ae251ccd170cd72ba6415
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Jan 20 13:12:54 2014 -0800

    Correct and backfill tests for default http/2 push setting.

commit e65221c5431902f0689d093ac88cb787eb1372c2
Merge: c2f5b47 4fa9814
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Jan 20 13:43:55 2014 -0800

    Merge pull request #466 from adriancole/schedule-hpack-change
    
    Clarify action taken when hpack reader applies new header table size.

commit 4fa9814e3018a3c8797f79485f0132b4d9b8b690
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Jan 20 12:52:48 2014 -0800

    Clarify action taken when hpack reader applies new header table size.

commit c2f5b4728d24ddbd9bf7d9a9487fb459aca2c560
Merge: aa907e2 65ed03e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 20 11:35:53 2014 -0800

    Merge pull request #467 from adriancole/fix-eq
    
    Fix bug in ByteString.equalsAscii when param is null and ByteString not yet initialized.

commit 65ed03e0a091b03971dd646a38ef0af8c30b32d0
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Jan 20 09:11:19 2014 -0800

    Fix bug in ByteString.equalsAscii when param is null and ByteString not yet initialized.

commit aa907e2de96327e6d7b5e3c7a5876fc780864b09
Merge: 14e87e8 3a21915
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 19 20:59:09 2014 -0800

    Merge pull request #465 from square/jwilson_0119_imports
    
    Drop obsolete imports.

commit 3a21915069bd7930f5d1d65fadcaf841ba6f1a80
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 19 23:53:16 2014 -0500

    Drop obsolete imports.
    
    These crept in after rebase.

commit 14e87e8d8adc62048bd09c900b9f1999ed87b0e0
Merge: 132c459 c1458f7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 19 20:49:50 2014 -0800

    Merge pull request #461 from square/jwilson_0119_more_cache_headers
    
    Move more cache headers out of public API.

commit 132c459c5a385d25db6667dc45b8579aafd20afe
Merge: 436d91d 4a627bb
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Jan 19 20:22:57 2014 -0800

    Merge pull request #462 from adriancole/bytestring-eqic
    
    Change spdy and http/2 headers to always lowercase

commit c1458f74d8ede24d188dff928f13376188f9122d
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 19 16:50:39 2014 -0500

    Move more cache headers out of public API.

commit 4a627bb009725d7fa938c1599137cfd77d3fb6d9
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Jan 19 16:05:32 2014 -0800

    Change spdy and http/2 headers to always lowercase. Introduce allocation-free ByteString.equalsAscii.

commit 436d91d347e3df6e485ee6af7631e214ed0e8372
Merge: 3e63e7a 27463b5
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Jan 19 20:15:53 2014 -0800

    Merge pull request #464 from square/jwilson_0119_fix_race
    
    Synchronize when acking settings.

commit 27463b509fb6d468d3ddfa71a1a71bef509128f4
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 19 23:08:16 2014 -0500

    Synchronize when acking settings.
    
    Without this tests fail.

commit 3e63e7a5e4234c8fd62d7ab1b5bd101390b9111e
Merge: 01ac101 b95a0cc
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Jan 19 10:46:04 2014 -0800

    Merge pull request #460 from adriancole/header-entry
    
    Reduce duplication around ascii header names.  Do not emit :version in http/2.

commit b95a0ccbcae50f92acc923d62fc6c9cecc6bbb63
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Jan 19 10:33:36 2014 -0800

    Top-level immutable, internal HeaderEntry class to reduce duplication around header names.  Do not emit :version in http/2.

commit 01ac1019bb48b77ea33e998e052f916f8dd271de
Merge: 35b30f9 9c15cba
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Jan 19 08:49:04 2014 -0800

    Merge pull request #459 from square/jwilson_0119_icy
    
    Permit status lines like 'ICY 200 OK'

commit 9c15cba43d4d097d00a6f558916362b96ab55ae8
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 19 11:25:02 2014 -0500

    Permit status lines like 'ICY 200 OK'

commit 35b30f943fcaf1938fab02b384e2dcf2bce3ae1f
Merge: ebae67d 8da2510
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 19 06:16:59 2014 -0800

    Merge pull request #458 from adriancole/variable-bitset
    
    Reduce allocation for HPACK decompression

commit 8da2510c3cf6965c685f8b0eabe66ec8f9b3c223
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Jan 18 23:05:00 2014 -0800

    Reduce allocation for HPACK decompression.

commit ebae67db861bdea159e418778435957cba46941b
Merge: 1c71c90 7fccb68
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Jan 18 21:23:01 2014 -0800

    Merge pull request #457 from adriancole/hpack-toggle
    
    In HPACK, specifying the index of an referenced entry dereferences it.

commit 7fccb687b261759e7443900befc4bd1c1f3d2fb4
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Jan 18 21:16:52 2014 -0800

    In HPACK, specifying the index of an referenced entry dereferences it.

commit 1c71c9059396fdd10c0cf626c841f7b39fbbf792
Merge: 04bd1ad ef30f7e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 18 21:13:21 2014 -0800

    Merge pull request #456 from adriancole/read-settings
    
    Settings: Wiring, Variant-specific defaults, and HTTP/2 acks

commit ef30f7efc61ac249c1a8b43e41dba03a2bf0bef8
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Jan 18 15:54:51 2014 -0800

    Extract default settings to variants.  Read windowSize (spdy/3) and headerTableSize (http/2) from peer.

commit 04bd1ad5a68647fff2857699d023390f4b029422
Merge: 7b34075 5843bd3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 18 11:06:42 2014 -0800

    Merge pull request #455 from adriancole/client-npn
    
    Fix JettyNpnProvider.invoke() to pick the right protocol

commit 7b340752a660147f9c8493a82d98d46e5aeed941
Merge: 2a5b956 f6f3497
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 18 10:38:33 2014 -0800

    Merge pull request #454 from square/jwilson_0118_spdy_caches
    
    Cache SPDY responses even if the body isn't fully consumed.

commit 5843bd35bd607a189ea7cbc82462dfd10f0488b5
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Jan 18 09:49:04 2014 -0800

    fix #447: Fix JettyNpnProvider.invoke() to pick the right protocol

commit bfa278803211f759dbfd5e6b4884366beb189d60
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Jan 18 09:49:04 2014 -0800

    fix #447: Fix JettyNpnProvider.invoke() to pick the right protocol

commit f6f3497ef7d01c2e11b68ca96b7f84e566e6c745
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 18 12:24:47 2014 -0500

    Cache SPDY responses even if the body isn't fully consumed.
    
    https://github.com/square/okhttp/issues/450

commit 2a5b9562d298193f8950fc185bd2fa1d9dba57f6
Merge: b50c9c6 04e1002
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 17 15:03:13 2014 -0800

    Merge pull request #452 from adriancole/hpack-gt-64
    
    Support more than 64 referenced headers in HPACK

commit 04e1002ad11b41d6483e614c673cfaa81ae1a551
Author: Adrian Cole <adrian@squareup.com>
Date:   Fri Jan 17 13:18:45 2014 -0800

    Support more than 64 referenced headers in HPACK.

commit b50c9c6540dc7c866c252a1794394d03c9f3e4e9
Merge: 92d3845 ce40dc7
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Fri Jan 17 13:17:11 2014 -0800

    Merge pull request #453 from square/jw/bit-array
    
    Introduce BitArray, a simple BitSet clone that supports shifting.

commit ce40dc702d3d3f6e2d8c56ec897f5e1e969c70a1
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Jan 17 02:03:05 2014 -0800

    Introduce BitArray, a simple BitSet clone that supports shifting.

commit 92d38450d73b4464fbd73c8e9c320b18a5d61289
Merge: fdafbbb 9766de5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 17 09:01:24 2014 -0800

    Merge pull request #438 from adriancole/consolidate-protocol
    
    consolidate protocol constants

commit 9766de54dc8be4560b45d89452b016998277dae3
Author: Adrian Cole <adrian@squareup.com>
Date:   Wed Jan 15 22:36:51 2014 -0800

    consolidate protocol constants

commit fdafbbb934e0fffa34d246dc6a63c9c9509730d9
Merge: 295a2e4 46a0852
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jan 16 06:17:51 2014 -0800

    Merge pull request #448 from square/jwilson_0115_tls_modes
    
    Don't attempt TLS modes we know will fail.

commit 46a0852c202acf68cd890867a35f8e51b81c2948
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 16 00:46:09 2014 -0500

    Don't attempt TLS modes we know will fail.
    
    https://github.com/square/okhttp/issues/442

commit 295a2e4e7e9e909af8b55aa9bbee7035fd469964
Merge: f32f997 fb21058
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 14 15:17:03 2014 -0800

    Merge pull request #446 from square/jw/everything-is-java6-now
    
    Drop explicit and now duplicate Java 6 enforcement.

commit fb21058af36c7c500e5c73407e9ab071f001a4ea
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Jan 14 15:15:29 2014 -0800

    Drop explicit and now duplicate Java 6 enforcement.
    
    The root pom now enforces Java 6 across the entire project so there is no need to explicitly enable it for MockWebServer.

commit f32f997bdc830c766bbb69c6bc8df80616153bda
Merge: 70c2f68 b7a07f0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 14 15:07:10 2014 -0800

    Merge pull request #445 from square/jw/fat-jar
    
    Ship a fat jar for MockWebServer.

commit b7a07f0fe1164b88b6c7bd2e2dc7ab704fac6bb2
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Jan 14 14:59:03 2014 -0800

    Ship a fat jar for MockWebServer.

commit 70c2f68e68b370ad8845730f81f309ab8a59919f
Merge: de84b28 8972a94
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Jan 13 20:15:58 2014 -0800

    Merge pull request #443 from square/jwilson_0113_job_recover
    
    Recover from connectivity problems in the async API.

commit 8972a94aee5b1a8732b4f8246c6ce43fd9e5e1cb
Author: jwilson <jwilson@squareup.com>
Date:   Mon Jan 13 23:10:47 2014 -0500

    Recover from connectivity problems in the async API.
    
    This promotes HTTP engine failure recovery from HttpURLConnectionImpl
    to HttpEngine. That has the nice side-effect of getting to hide some
    more implementation details in HTTP engine.

commit de84b282e8b420c44954058d76d30554326c8bbf
Merge: 0c008f3 a8e2f93
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jan 12 19:48:05 2014 -0800

    Merge pull request #440 from square/jwilson_0112_alpn
    
    Support ALPN on Android 4.4+.

commit a8e2f930ea2be9393a12d0000ecd966086488a78
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 12 22:39:04 2014 -0500

    Support ALPN on Android 4.4+.
    
    ALPN is the successor to NPN. When it's widely deployed we
    can drop support for NPN altogether.
    
    Verified manually on my Android device against https://gmail.com
    (which uses ALPN) and https://twitter.com (which uses NPN only).
    
    https://github.com/square/okhttp/issues/128

commit 0c008f34b1ba63fcb48ea49230b03ffd225409c3
Merge: 8d9c85b 5c84000
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Jan 12 18:47:22 2014 -0800

    Merge pull request #439 from square/jwilson_0112_flatten_android
    
    Flatten Android platforms.

commit 5c84000ca35706bbdeaa3a508c2b2ef6124d9803
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 12 21:37:06 2014 -0500

    Flatten Android platforms.
    
    In preparation for addition of ALPN, which would add a
    third class, where inheritance starts to break.

commit 8d9c85bcb3f8d5d62b5afaf7f8de7c692f17098a
Merge: 7736880 c05cb7e
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sun Jan 12 08:13:10 2014 -0800

    Merge pull request #435 from square/jwilson_0112_latest_vogar
    
    Update steps to run tests on-device.

commit c05cb7e93c463b23a06c0d93aee2acac309f06fc
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 12 11:13:21 2014 -0500

    Update steps to run tests on-device.

commit 77368806f329123a0d33aa84fa52ee7b1f1b79f5
Merge: c4696e8 c05949c
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sun Jan 12 07:50:01 2014 -0800

    Merge pull request #434 from intrications/patch-1
    
    Correct spelling mistake in change log.

commit c4696e8ee0690709f90048a2d2a209ac86cfc566
Merge: faea360 749a65b
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sun Jan 12 07:45:40 2014 -0800

    Merge pull request #432 from square/jwilson_0112_threadnames
    
    Use thread names everywhere.

commit c05949c4832f0b9df088d315c18a6438b36c1991
Author: Michael Basil <michael@intrications.com>
Date:   Sun Jan 12 15:14:55 2014 +0000

    Correct spelling mistake in change log.

commit 749a65b776c8fc4b39b6463695980275da34da51
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 12 09:47:56 2014 -0500

    Use thread names everywhere.
    
    Sometimes we name a thread both via its ExecutorService
    and via a NamedRunnable. The ExecutorService thread needs
    to be named because threads are cached and will be visible
    in a thread dump even when no runnables are running.
    
    NamedRunnables are also used because they provide additional
    context: the host or URL being serviced by a thread.

commit faea360ddf7c6a3fc8668bfb3856456712e7f71d
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jan 11 18:59:47 2014 -0800

    Toward a 2.0!

commit f7af480a068c20d9fa844b4c927ec951ae68fba6
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jan 11 17:57:35 2014 -0800

    Update change log for cherry-picked commits.
    
    (cherry picked from commit 43fbe22f0fe33ff45b38b83a655aabdbf986f9ca)

commit 9be60ae66ee09869b1d7848871a1fb34f1eb4c7e
Merge: 40a8d2e 1b8a7c0
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Jan 11 14:22:22 2014 -0800

    Merge pull request #428 from adriancole/hpack-huffman
    
    Implement huffman decoding using code from twitter/hpack

commit 1b8a7c02bf6b7b067af07006b3e9a99685a0db96
Author: Adrian Cole <adrian@squareup.com>
Date:   Fri Jan 10 09:22:07 2014 -0800

    implement huffman decoding using code from twitter/hpack

commit 40a8d2ee3a0a48dff0ec7a74041dc8177a13b833
Merge: 8e4c591 684aa14
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 11 14:03:02 2014 -0800

    Merge pull request #431 from square/jwilson_0111_cache_control
    
    New CacheControl class.

commit 684aa14bca9b1b0f2efef96317ddd9aedd8fa19e
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 11 15:33:25 2014 -0500

    New CacheControl class.
    
    This moves cache control headers from the main request
    and response classes to their own class.

commit 8e4c591f573b3d44051b57b5e004ec49bd56f513
Merge: 796467b c688873
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jan 11 10:38:02 2014 -0800

    Merge pull request #430 from square/jwilson_0111_timely_stream_discarding
    
    Fix a bug where discardStream took way too long.

commit c6888734b441e2513fa48de8b0575bf160ec8141
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 11 09:09:32 2014 -0500

    Fix a bug where discardStream took way too long.
    
    We were relying on the socket timeout of a single read,
    but performing multiple reads each with independent
    timeouts.

commit 796467b43826022dbc4cd5da7c33e29f01a41784
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jan 11 00:28:37 2014 -0800

    Update change log.

commit 6727caa03257c88609447639f2744d178cc1c7ed
Merge: 81c99d2 9eb2760
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Fri Jan 10 07:57:06 2014 -0800

    Merge pull request #427 from square/jwilson_0109_more_docs
    
    Small docs fixes. Remove OkHttp 2 warnings.

commit 9eb276043fc14cda856671ccdba4065bba2a7bae
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 10 10:01:32 2014 -0500

    Small docs fixes. Remove OkHttp 2 warnings.

commit 81c99d24c9c959a898f01e5f856787044715df65
Merge: 6c4a0f0 8acdabd
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Thu Jan 9 21:02:40 2014 -0800

    Merge pull request #425 from square/jwilson_0109_retransmit
    
    Test that POST bodies are retransmitted on redirect.

commit 8acdabd3b365079b481ad2c9c9c1b9d6f58babe2
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 9 22:17:56 2014 -0500

    Test that POST bodies are retransmitted on redirect.

commit 6c4a0f01ab52e97c1013a7241a8b0397d287cafa
Merge: 34ad7ec 38a5b93
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Thu Jan 9 14:19:15 2014 -0800

    Merge pull request #423 from adriancole/optimize-bitset
    
    Change header table to array and track references with long

commit 38a5b93da06f6dfa25a67e3106cb644e3f5b73e6
Author: Adrian Cole <adrian@squareup.com>
Date:   Thu Jan 9 13:19:34 2014 -0800

    add http2 api example: https://twitter.com

commit 287152568a4328a31b575dbc5c1d44c1164ddd6e
Author: Adrian Cole <adrian@squareup.com>
Date:   Wed Jan 8 19:08:58 2014 -0800

    Changed HeaderEntry to be immutable and refactored to use array/bitset for table and references.

commit 34ad7ecf405b584e93d6275e17f71dbfc3c0e40e
Merge: 839b74c 3aa7089
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jan 9 09:00:00 2014 -0800

    Merge pull request #421 from lingmingyb/test_spdyTimeout
    
    Testcase for spdy connection socket timeout.

commit 839b74cf741d749e2345f8d47a17ccac17c6e137
Merge: 497bedc ed2ee02
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jan 9 08:58:45 2014 -0800

    Merge pull request #424 from lingmingyb/nullpointer
    
    Connected after everything is initialized

commit ed2ee02570bac36b89bd93836e200840cb8fa59d
Author: lingming.yb <lingming.yb@alibaba-inc.com>
Date:   Thu Jan 9 11:10:39 2014 +0800

    Connected after everything is initialized

commit 3aa708978d83c272e2a24348dfdd7d6695c3d27b
Author: lingming.yb <lingming.yb@alibaba-inc.com>
Date:   Wed Jan 8 11:46:32 2014 +0800

    Testcase for spdy connection socket timeout.

commit 497bedce262b2d0bc291506d1d0b8d343fefb044
Merge: 2a05908 576530c
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Wed Jan 8 11:02:15 2014 -0800

    Merge pull request #422 from adriancole/extra-alloc-headers
    
    Remove unnecessary allocation in building Headers.

commit 576530cdf04ef9abb69845e1ef5be2c6a4a6a197
Author: Adrian Cole <adrian@squareup.com>
Date:   Wed Jan 8 09:57:42 2014 -0800

    Remove unnecessary allocation in building Headers.

commit 2a059081240cdbd98e3b57f5bd2e8263b7b3c167
Merge: bd4ef09 2fb9064
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Jan 7 20:57:15 2014 -0800

    Merge pull request #420 from square/jwilson_0107_cleanup
    
    Cleanup when a job finishes, cleanly or otherwise.

commit 2fb9064eb6ecbd5bafc0bc8fd0e42933dd13fe7a
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jan 7 22:41:46 2014 -0500

    Cleanup when a job finishes, cleanly or otherwise.
    
    This also names the job thread.

commit bd4ef0935c3089786d90d44e8e8e2fdcb0e72c7e
Merge: 432c80b 16ff09a
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Jan 7 17:20:11 2014 -0800

    Merge pull request #419 from adriancole/hpack-lazy-clone
    
    Lazy clone static table entries to avoid copying strings.

commit 16ff09a9ea24bdc7dce883681238a006e6a2e68f
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Jan 7 14:02:58 2014 -0800

    Lazy clone static table entries to avoid copying strings.

commit 432c80b7f3292a0ed9737cd6c98fca06ccf8e1c9
Merge: 09264ca 379e4ff
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 7 10:36:24 2014 -0800

    Merge pull request #415 from adriancole/bytestring-nits
    
    feedback from #413

commit 379e4ff19987539fdf8fe397a4b948e327ea7600
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Jan 6 20:54:48 2014 -0800

    feedback from #413 and a few optimizations on hpack.

commit 09264ca41ca5a0e79b2b9849a93ea7770210eab9
Merge: 277c1e7 efcffd0
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Jan 7 09:49:49 2014 -0800

    Merge pull request #418 from square/jw/update-npn
    
    Remove duplication of protocols in MWS' NPN declaration.

commit efcffd0c1c314ab78943973e07afbf6f4627d232
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Jan 7 09:38:46 2014 -0800

    Remove duplication of protocols in MWS' NPN declaration.

commit 277c1e7865b4d660b93f546c43098804603c7568
Merge: ba86cf3 9cc4404
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 7 07:19:05 2014 -0800

    Merge pull request #417 from lingmingyb/spdyTimeout
    
    fix spdy connection timeout issue

commit 9cc440480a3a4ba9231ff8e98e6b5ca35254bfb3
Author: lingming.yb <lingming.yb@alibaba-inc.com>
Date:   Tue Jan 7 15:06:19 2014 +0800

    fix spdy connection timeout issue

commit ba86cf3d9825b39dd9243c16841c27994b50c8c4
Merge: e0b64b7 3eda83a
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Jan 6 20:34:39 2014 -0800

    Merge pull request #414 from square/jwilson_0106_mtu_is_dead
    
    Platform.getMtu is unused.

commit 3eda83ab14d334bf5a5cb900674df1552de74e73
Author: jwilson <jwilson@squareup.com>
Date:   Mon Jan 6 23:28:04 2014 -0500

    Platform.getMtu is unused.
    
    This was a failed experiment.

commit e0b64b7d10f292ecc88857fce7e8ad8aeb4cbfda
Merge: a9157db 5c787a0
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 6 19:26:19 2014 -0800

    Merge pull request #413 from adriancole/spdy-bytestring
    
    Refactor SPDY code to use ByteString for headers.

commit 5c787a0b9d5c83c764880da4b1503a65ee0ff267
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Jan 6 18:51:11 2014 -0800

    Refactor SPDY code to use ByteString for headers.

commit a9157db5359e31cac13ab35c1e5e39584c3d3e17
Merge: 358c4e5 bd26cf9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 6 15:51:37 2014 -0800

    Merge pull request #411 from adriancole/efficient-iteration
    
    Switch list iteration to index-based as it is more efficient on android.

commit bd26cf927a8ee69aab11890c5d0bfe9b9312404d
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Jan 6 12:44:01 2014 -0800

    Switch list iteration to index-based as it is more efficient on android.

commit 358c4e50256830fda9eee271eb6bdc55eba9c742
Merge: 4146851 89219ab
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 6 12:37:38 2014 -0800

    Merge pull request #412 from adriancole/bytestring
    
    ByteString based on the one in wire

commit 89219abb01224a6cc26eb71b79861989033bf838
Author: Adrian Cole <adrian@squareup.com>
Date:   Mon Jan 6 11:35:49 2014 -0800

    ByteString based on the one in wire

commit 41468517f97d9b549b00d7d42fa01431b220904d
Merge: d20201a 57c0b5e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 6 08:06:13 2014 -0800

    Merge pull request #403 from lingmingyb/syncRequest
    
    test case for syncRequest

commit d20201a596809f34f37f5dbd9d78e74c6b9ea67c
Merge: 0b69a9a d7444f5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 6 07:57:02 2014 -0800

    Merge pull request #410 from adriancole/spdy-prohibited-headers
    
    portably handle prohibited headers across SPDY variants.

commit 57c0b5ed5b98180488f937d6dd8dbeed3ace942d
Author: lingming.yb <lingming.yb@alibaba-inc.com>
Date:   Sun Jan 5 22:22:35 2014 +0800

    test case for syncRequest

commit 0b69a9a69a5c6880a19f633defe47d70d42b3a6a
Merge: 8e45865 f3a450b
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jan 5 17:53:26 2014 -0800

    Merge pull request #409 from square/jwilson_0105_redirect_tests
    
    Code to handle redirect limits in the async API.

commit d7444f5fc4414b51b2708606257381cc0de404e1
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Jan 5 16:47:41 2014 -0800

    portably handle prohibited headers across SPDY variants.

commit f3a450bf4f0e9428cf8b3c2780236162bbeb803a
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 5 19:26:45 2014 -0500

    Code to handle redirect limits in the async API.

commit 8e45865c13c21a5ad75a9a7ce3eb3452e3f12c1d
Merge: 4b6d6db 656bca2
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Jan 5 16:02:12 2014 -0800

    Merge pull request #408 from adriancole/http2-draft09-comments
    
    address comments from issue #400

commit 656bca2dc8bc9f2f13b8aa42e0bdd3b94202f527
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Jan 5 11:48:52 2014 -0800

    address comments from issue #400

commit 4b6d6db2e91e6398d2c5fc602b76174ab29dcec2
Merge: 0670d01 59a6804
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Jan 5 15:06:18 2014 -0800

    Merge pull request #407 from square/jwilson_0105_cancel
    
    Tests for canceling async requests.

commit 0670d011c9a61f377a31b487400f005d7696ca45
Merge: 64750d1 6a2062c
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sun Jan 5 11:50:06 2014 -0800

    Merge pull request #406 from square/jwilson_0105_order_of_init
    
    Change SpdyStream to be safe for any initialization order.

commit 59a6804c91328c2d1eb096054590b213ab711d22
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 5 14:11:10 2014 -0500

    Tests for canceling async requests.

commit 6a2062cb3fc6767459b49b28500725c0f6e847d0
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jan 5 14:10:08 2014 -0500

    Change SpdyStream to be safe for any initialization order.
    
    Previously we were assuming a field initializer wouldn't be
    run until after the constructor. It wasn't and we were getting
    NullPointerExceptions looking up the bufferPool.

commit 64750d1dd1a273f53fb937f857ae9c5e074966d2
Merge: 5c995dd a31a519
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 5 10:25:01 2014 -0800

    Merge pull request #399 from square/jwilson_0104_dispatcher
    
    Implement simple limits in the dispatcher.

commit 5c995ddb34e16e1481f47ea55ff47f3bccfff23e
Merge: 87cab92 68de030
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 5 08:38:29 2014 -0800

    Merge pull request #400 from adriancole/http2-draft09
    
    update http2 to draft 9 and hpack to draft 5

commit 87cab927b1c07accd2edf3a23a4309a77a91a238
Merge: c5f9449 8ad6e96
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 5 07:38:41 2014 -0800

    Merge pull request #396 from hwrdprkns/avoid_buffer_gc
    
    Use AOSP ByteArrayPool to try and avoid buffer GC.

commit a31a5192d1604131d5239fbf2f5280f1ac5eeeaa
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 4 20:31:28 2014 -0500

    Implement simple limits in the dispatcher.
    
    This adds Dispatcher to the public API so that application
    code can tweak the policy.

commit c5f94496924bd02397aa62d9340d98b8b50edc1c
Merge: d02c685 86e730f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 5 07:01:23 2014 -0800

    Merge pull request #401 from square/jw/one-six
    
    Only Java 6 and up are supported now.

commit 86e730f612e4daba3ab83550661d390424c4d6a2
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Jan 5 00:41:15 2014 -0800

    Only Java 6 and up are supported now.

commit 68de030b356e83ca5680986a290e98cfee8fd550
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Jan 4 19:33:14 2014 -0800

    update http2 to draft 9 and hpack to draft 5

commit d02c685a28ecdee6ffe76a9189d06efd2b3ce588
Merge: 5395edc 7c9300b
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Jan 4 18:34:21 2014 -0800

    Merge pull request #398 from lingmingyb/timeout_issue
    
    timeout issue

commit 5395edcb11defa9d08d286313eb155d4ca9fe73b
Merge: 1393746 1cfab33
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Jan 4 07:19:48 2014 -0800

    Merge pull request #397 from lingmingyb/timeout_test
    
    add read response header timeout case

commit 7c9300be5f62117ab048ce841cdadefe8e36e40d
Author: lingming.yb <lingming.yb@alibaba-inc.com>
Date:   Sat Jan 4 15:20:58 2014 +0800

    timeout issue

commit 1cfab333332f8e64b10d32bf133b37cb2ca2f974
Author: lingming.yb <lingming.yb@alibaba-inc.com>
Date:   Sat Jan 4 11:48:49 2014 +0800

    add read response header timeout case

commit 139374624c1e22bead2f91845002a2e12ee287af
Merge: 8f04f6b 9417fa5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jan 3 14:35:41 2014 -0800

    Merge pull request #394 from square/jwilson_0102_headers_apis
    
    Another round of header APIs cleanup.

commit 9417fa5c2e84580411e0fa4905b1f109e2d49533
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 2 23:43:34 2014 -0500

    Another round of header APIs cleanup.
    
    This promotes Headers to a public API from the internal package.
    It moves some of its methods to OkHeaders, which has been renamed
    from SyntheticHeaders.
    
    Making the Headers class public API makes it possible to remove
    more exotic APIs from Request and Response like the APIs to track
    headers by index rather than by name.

commit 8ad6e962e8cdf67f7fd629d944f0f5f4aa47620f
Author: Taylor H. Perkins <taylorhp@gmail.com>
Date:   Fri Jan 3 11:16:40 2014 -0800

    Use AOSP ByteArrayPool to try and avoid buffer GC.
    
    Re-using buffers can help avoid GC and make things run more smoothly when streaming data.
    
    squash! Use AOSP ByteArrayPool to try and avoid buffer GC.
    
    Copy tests over and attempt at better formatting.
    
    squash! Use AOSP ByteArrayPool to try and avoid buffer GC.
    
    ArrayDeque is <= API level 9 :-(
    
    squash! Use AOSP ByteArrayPool to try and avoid buffer GC.
    
    Another attempt at formatting.
    
    fixup! squash! Use AOSP ByteArrayPool to try and avoid buffer GC.
    
    Indent code properly attempt.

commit 8f04f6b17b595dc0e5c4c50c39023a18d2ddaa0a
Merge: 4ad28cd b21ea3a
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jan 2 21:58:20 2014 -0800

    Merge pull request #395 from square/jwilson_0102_async_redirects
    
    Make redirects work with the async API.

commit b21ea3a7daf9de0a5deb9bf7cf6d791c2ff63d3b
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 3 00:49:48 2014 -0500

    Make redirects work with the async API.

commit 4ad28cde18d37455542c7c67fae78acaa5331605
Merge: 46fa517 d451e93
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jan 2 13:12:58 2014 -0800

    Merge pull request #393 from square/jwilson_0102_delegate_everything
    
    Fix a bug where HTTPS POSTS were always buffered.

commit d451e9399442fc52db3435320227dbf5568ee0d8
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 2 15:43:10 2014 -0500

    Fix a bug where HTTPS POSTS were always buffered.
    
    https://code.google.com/p/android/issues/detail?id=64348

commit 46fa5178bf9e6ad07b88011bf6a2c75433d52c63
Merge: e2f5b47 0ef26ad
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jan 2 07:23:06 2014 -0800

    Merge pull request #391 from square/jwilson_0101_headers
    
    Remove some 'implementation detail' headers from the public API.

commit 0ef26ad2e9e6b28a181ebc128f96671cff295043
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jan 1 13:25:50 2014 -0500

    Remove some 'implementation detail' headers from the public API.
    
    Application code doesn't need to worry about headers like
    'Connection' or 'Transfer-Encoding', so don't include them
    in the API.

commit e2f5b474ae8efc7d28bf8b25e7685e8d4b9c9f65
Merge: 050dfce 262e3d4
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Wed Jan 1 17:17:10 2014 -0800

    Merge pull request #390 from square/jwilson_0101_prepare_request
    
    Don't let transports rewrite the request.

commit 262e3d43b63083ad9f87f3f332827b2ae37a30ff
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jan 1 10:53:54 2014 -0500

    Don't let transports rewrite the request.
    
    Now that we're preparing Content-Length and Transfer-Encoding
    before passing a request to the HTTP engine, we have no strict
    need to rewrite requests in the transport.
    
    The nice upside of this change is that the transport becomes
    even less obvious when it's in place.

commit 050dfce07ca338cf0d70952f63eb4fc11a543271
Merge: bff93ff dbca0ac
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jan 1 07:29:30 2014 -0800

    Merge pull request #389 from square/jwilson_1231_killing_policy
    
    Kill the Policy interface.

commit dbca0acc6f8c188dfa48f07bb5886606bec8d28f
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jan 1 02:28:57 2014 -0500

    Kill the Policy interface.
    
    This interface was necessary while cleaning up the delicate
    intertwined relationship between HttpURLConnection and HttpEngine.
    With this change HttpEngine no longer has a reverse dependency
    on HttpURLConnection.

commit bff93ffe62999a03507909f32926aa1ed44086ad
Merge: 3ed1e2a 9575377
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Dec 31 18:05:27 2013 -0800

    Merge pull request #388 from square/jwilson_1231_send_request
    
    Clean up around HttpEngine.sendRequest().

commit 957537774b319bb0109819258a11af78a98bcb97
Author: jwilson <jwilson@squareup.com>
Date:   Tue Dec 31 20:52:49 2013 -0500

    Clean up around HttpEngine.sendRequest().
    
    Move gateway timeout failures to CacheStrategy, and inline
    methods nearby for a strict top-to-bottom flow in this method.
    
    It becomes more obvious that the end of sendRequest has two
    cases: we need a connection (opening if necessary) or we don't
    need a connection (closing if necessary). Previously this was
    true but not as explicit.

commit 3ed1e2a744b5c5d75c20fa49552f7c159dd9d30a
Merge: 611b005 29fb61c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Dec 31 15:53:51 2013 -0800

    Merge pull request #387 from square/jwilson_1231_response_source
    
    Improve cache strategy.

commit 29fb61cca0340598ec28a0f8240b055d4eeb5949
Author: jwilson <jwilson@squareup.com>
Date:   Tue Dec 31 18:28:33 2013 -0500

    Improve cache strategy.
    
    This renames ResponseStrategy to CacheStrategy and cleans up
    the code that calls into it.
    
    This fixes a bug where we were incorrectly reporting stats
    when the caller was requesting only-if-cached. In those cases
    we were tracking stats before applying that constraint. Tests
    for these cases have been added

commit 611b00530b16207758b25e646daf4c31aec5675d
Merge: 5755734 fd0d3c9
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Tue Dec 31 08:41:20 2013 -0800

    Merge pull request #385 from square/jwilson_1231_followup_on
    
    Small changes to follow up on PR 384.

commit fd0d3c93f2872e20d3afa6b93869482652bc9882
Author: jwilson <jwilson@squareup.com>
Date:   Tue Dec 31 10:39:52 2013 -0500

    Small changes to follow up on PR 384.

commit 575573414e930506388f409ab7f26233a889607c
Merge: c3170f7 4831a8d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 30 23:12:58 2013 -0800

    Merge pull request #384 from square/jwilson_1230_rename_raw_headers
    
    Rename RawHeaders to Headers.

commit 4831a8dc6577f762e0f21fd15dd9700fe824740d
Author: jwilson <jwilson@squareup.com>
Date:   Tue Dec 31 01:57:47 2013 -0500

    Rename RawHeaders to Headers.
    
    Now that Request and Response self-describe, I think the
    word Headers is sufficient. And it's a lot less ugly than
    RawHeaders.
    
    Also move header serialization code to HttpTransport and
    SpdyTransport.

commit c3170f7feab0d977e32e41ad455f9be8fcd391d1
Merge: 23d0b83 60f20dc
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 30 22:55:05 2013 -0800

    Merge pull request #383 from square/jwilson_1230_policy
    
    Remove more stuff from Policy.

commit 60f20dc23cb08d598d605f51f7526725ec42abd9
Author: jwilson <jwilson@squareup.com>
Date:   Tue Dec 31 01:15:15 2013 -0500

    Remove more stuff from Policy.
    
    Policy is a bridge to get us from a place where HttpEngine
    depends 100% on HttpURLConnection to a place where it
    doesn't.
    
    We've refactored the code in HttpEngine enough now that
    some Policy methods are no longer necessary. Delete 'em.

commit 23d0b8349aa9e33ec460362cbf4f378dca5bc07e
Merge: d53dae2 bc25934
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 30 22:08:23 2013 -0800

    Merge pull request #382 from square/jwilson_1230_requestline
    
    Move request line and status line out of RawHeaders.

commit bc259348300d6e2dd735fc3066773acf8d8e8d53
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 30 21:39:08 2013 -0500

    Move request line and status line out of RawHeaders.
    
    The request line is now standalone because it depends
    on the proxy (for full URL or not) and the connection
    (for HTTP version). I may change this later and put
    this info in the request.
    
    The status line now moves into Response. I have a
    helper class StatusLine that does the parsing. I may
    later want to hide this or make it public; I'm not
    quite sure yet!
    
    The net result is that RawHeaders is getting dumber
    and used in fewer places, which is good news. This
    change also shows nice simplifications to the
    authenticator (which needs fewer args) and to the
    tunnel builder.
    
    Also fold together HttpsEngine and HttpEngine; the
    HTTPS subclass wasn't pulling its weight.

commit d53dae207e05a8fde2dba3847b997a00410cad6b
Merge: f836889 14b6e76
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Dec 30 14:20:55 2013 -0800

    Merge pull request #381 from square/jwilson_1229_requestheaders
    
    Combine Request+RequestHeaders and Response+ResponseHeaders.

commit 14b6e76e7d7af9b99a7fdc1a56d7ee9309711722
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 29 22:23:58 2013 -0500

    Combine Request+RequestHeaders and Response+ResponseHeaders.
    
    This cleans up a lot of the unnecessary moving parts in
    HttpEngine. That class is still stuck with some complexity
    around request and response bodies, but it's getting better.
    
    We're also stuck escalating the visibility of a lot of
    members in Request and Response. I've got some ideas on
    how to fix this; that'll have to wait for a follow up.

commit f83688962cb8fd25675f83453482a1555e883586
Merge: 63a278d 350c43b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Dec 29 18:29:29 2013 -0800

    Merge pull request #380 from square/jwilson_1229_immutable_headers
    
    Make RawHeaders, RequestHeaders and ResponseHeaders immutable.

commit 350c43b6fe02401a73f967d9ef322061638b372a
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 29 19:14:06 2013 -0500

    Make RawHeaders, RequestHeaders and ResponseHeaders immutable.
    
    This introduces a new, poorly-named class ResponseStrategy
    that pulls some code out of ResponseHeaders. That was necessary
    because the old method mutated itself and its parameters in
    place.
    
    Obvious follow-up for this is to combine ResponseHeaders with
    Response, and RequestHeaders with Response.

commit 63a278d2f4da0a5d5be19ab90bf6cdb53e1996ff
Merge: f2d3e0f 30ecba8
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Dec 29 16:06:54 2013 -0800

    Merge pull request #379 from square/jwilson/new_cache_api
    
    Use Request and Response types in OkResponseCache.

commit 30ecba897fb624df201f0a014b54a604418a0e73
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 29 12:58:20 2013 -0500

    Use Request and Response types in OkResponseCache.
    
    This breaks support for java.net.ResponseCache implementations. That's
    good. That API is akward and can't support important features like
    conditional GETs and hit tracking.

commit f2d3e0f92cca2224be01f689d09b390f1ef88410
Merge: fa11bae e2bfa5d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Dec 28 21:40:08 2013 -0800

    Merge pull request #378 from square/jwilson/handshake
    
    Introduce Handshake as a value object.

commit e2bfa5dd6c0aee7d7e34b224a649500b9e5c267f
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 28 22:14:14 2013 -0500

    Introduce Handshake as a value object.
    
    I needed a non-terrible way to provide the HTTPS handshake
    information to the async API. Previously we were passing the
    live socket around, which was leaky and gross.
    
    This creates a new value object that captures the relevant
    bits of the handshake. We can use it in the response, the
    connection, and also in the cache. It's plausible that in
    the future we can use it to allow the application to block
    requests if the handshake is insufficient.

commit fa11baea6dd9d67485a84dff67ca8af550621336
Merge: f0fc449 37c0189
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Dec 28 17:47:14 2013 -0800

    Merge pull request #377 from square/jwilson/async_apis
    
    Define async APIs and switch Job to use HttpEngine directly.

commit 37c01895cca5ec2bec26a3d381611f0938acd6d0
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 28 11:20:55 2013 -0800

    Define async APIs and switch Job to use HttpEngine directly.
    
    Using HttpEngine directly introduces some duplicated code with
    HttpURLConnection. It also breaks the response cache. I think
    this is the best route going forward; and eventually we could
    invert this relationship to have HttpURLConnection depending on
    Job directly rather than vice versa.

commit f0fc449f9ac958e9745bfd24c30fa505ad002698
Merge: 5dc27c7 1c90331
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Sat Dec 28 09:29:48 2013 -0800

    Merge pull request #376 from lingmingyb/mtu
    
    getMtu issue

commit 1c90331a3dc9856e31fac14b58d856cb2dd83d89
Author: lingming.yb <lingming.yb@alibaba-inc.com>
Date:   Sat Dec 28 13:30:22 2013 +0800

    getMtu issue

commit 5dc27c71726de9a05f7267bb4ef2cd49bb848d89
Merge: 29f48ef b9c3ffb
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Wed Dec 25 06:14:07 2013 -0800

    Merge pull request #374 from lingmingyb/wrapper
    
    Buffered Stream wrapper should be taken place before SpdyConnection buil...

commit b9c3ffb26afeff02ab978c8e42f9a0fd242cdd51
Author: lingming.yb <lingming.yb@alibaba-inc.com>
Date:   Tue Dec 24 10:43:38 2013 +0800

    format

commit 35ead0f5d17b0c53610b0947aa9bd8fee6da50fa
Author: lingming.yb <lingming.yb@alibaba-inc.com>
Date:   Mon Dec 23 17:02:52 2013 +0800

    extract a method

commit 13c06879f4e98c86436bdca765046ef815e34838
Author: lingming.yb <lingming.yb@alibaba-inc.com>
Date:   Sun Dec 22 11:22:12 2013 +0800

    Buffered Stream wrapper should be taken place before SpdyConnection build.

commit 29f48ef7d9e3cc1432db119c3b7fc1540299f71f
Merge: 514ae54 d0e4952
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Dec 13 09:12:37 2013 -0800

    Merge pull request #368 from nacx/mock-patch
    
    Support PATCH requests in MockWebServer

commit d0e49527c78974841511f8b028815bc79848eb26
Author: Ignasi Barrera <nacx@apache.org>
Date:   Fri Dec 13 17:35:05 2013 +0100

    Support PATCH requests in MockWebServer

commit 514ae5478c70c9d1a5433acd29ac1cc99f200c86
Merge: a6d63eb 4db7288
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Dec 9 09:31:56 2013 -0800

    Merge pull request #366 from adriancole/fix-hpack
    
    MockWebServer can now read headers sent by http2 clients

commit 4db72885614c8e9224b0836b85f58acdb4f005cd
Author: Adrian Cole <adrian@squareup.com>
Date:   Sun Dec 8 16:27:33 2013 -0800

    Adjust hpack impl to be compliant with draft 3 examples, and enable http2 in MWS.

commit a6d63eb816b29d6f1a9a26f1bd8a4d3439ad1ad2
Merge: 54d4fcd af5e60a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Dec 7 16:55:52 2013 -0800

    Merge pull request #365 from adriancole/spdy-post-content-length
    
    set content-length on spdy post

commit af5e60af84da628125b6fa832bdb45093c4bba71
Author: Adrian Cole <adrian@squareup.com>
Date:   Sat Dec 7 12:16:34 2013 -0800

    issue #364: spdy should set content-length when it is known.

commit 54d4fcde2086439a73859b46eb7f1a17fed57e4f
Merge: e138eb7 f7d96b2
Author: Adrian Cole <adrian.f.cole@gmail.com>
Date:   Mon Dec 2 10:28:38 2013 -0800

    Merge pull request #356 from adriancole/draft6-headers
    
    Update to http/2 draft 6 CONTINUATION after HEADERS frame

commit f7d96b25631612860a1a3e3ebed76d5a4511b90c
Author: Adrian Cole <adrian@squareup.com>
Date:   Thu Nov 28 08:18:22 2013 -0800

    update http/2 implementation to draft 6

commit e138eb73a0b94c81043c61a873264403fae47892
Merge: 04ffc0d 39ede8f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Nov 26 17:18:38 2013 -0800

    Merge pull request #355 from adriancole/http2-test
    
    backfill base test of simple http/2 headers frame

commit 39ede8fc00acaeb3c8f689765d7a1de15a14b0be
Author: Adrian Cole <adrian@squareup.com>
Date:   Tue Nov 26 10:42:02 2013 -0800

    backfill base test of simple http/2 headers frame

commit 04ffc0d4fc2fe8aafd253288d785970a124dff02
Merge: 19a2193 998202c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Nov 12 07:08:55 2013 -0800

    Merge pull request #347 from Ponyets/Cache-Control_separator
    
    Support use ';' as separator of "Cache-Control"

commit 998202c0097c9623b19c750b96680b9004793e47
Author: panmingwei <panmingwei@meituan.com>
Date:   Tue Nov 5 16:14:16 2013 +0800

    Support use ';' as separator of "Cache-Control"

commit 19a21936ffbb5e358799af9e4fb7306af45f3824
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Nov 3 20:28:59 2013 -0800

    Remove useless String.format call.

commit dcddd5eec198877653964ce9156127a0067ce85c
Merge: 26724f2 98c9288
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Nov 3 20:28:18 2013 -0800

    Merge pull request #346 from square/jwilson/trailing_bytes
    
    Handle name/value header blocks with trailing bytes.

commit 98c9288d8eb14f7af93716aa50735d28c6aa91eb
Author: jwilson <jwilson@squareup.com>
Date:   Sun Nov 3 20:58:58 2013 -0500

    Handle name/value header blocks with trailing bytes.
    
    https://github.com/square/okhttp/issues/333

commit 26724f25bfb6010b4f1a258ebacac750d781bfaf
Merge: cf03bed f2a6a64
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Nov 3 11:38:36 2013 -0800

    Merge pull request #345 from square/jwilson/case_sensitive_auth
    
    Fix a bug where authentication was incorrectly case sensitive.

commit f2a6a6496fb90f71d2f7facdc1798e28b0737248
Author: jwilson <jwilson@squareup.com>
Date:   Sun Nov 3 13:58:08 2013 -0500

    Fix a bug where authentication was incorrectly case sensitive.

commit cf03bed951fc6ef56fbc72a85e1ef6dabdef64fb
Merge: 648eb95 adec488
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Nov 3 08:38:56 2013 -0800

    Merge pull request #343 from JonWatson/master
    
    PATCH body/output support

commit adec488f99795bcba135cbbdb1b9821880425b4c
Author: Jon Watson <jonwatson8080@gmail.com>
Date:   Thu Oct 31 16:06:56 2013 -0500

    Allow PATCH to have body/output

commit 648eb95745de4745941b2f31562c0d00dc68089e
Merge: 3827afe 8161a89
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Oct 27 07:14:22 2013 -0700

    Merge pull request #339 from rupertbates/master
    
    Change HTTP date formats from UTC to GMT to conform to section 3.3 of HT...

commit 3827afe4d277b11d2865f561678ea8b882f1a294
Merge: d2be30b a4f22a2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Oct 26 19:50:30 2013 -0700

    Merge pull request #340 from square/jw/link
    
    Use 'jar-with-dependencies' version for jar download links.

commit a4f22a2168496c991f901a20aa3c78a7bce8c84b
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Oct 26 13:00:22 2013 -0700

    Use 'jar-with-dependencies' version for jar download links.

commit 8161a89c8f5d4566929beb243dbbdcc5a4cc38f0
Author: rbates <rupert.bates@gmail.com>
Date:   Thu Oct 24 22:02:16 2013 +0100

    Fix up HttpResponseCacheTest.setIfModifiedSince test to work with GMT timezone format in if-modified-since header

commit 7679acdbde7f311d0958c52135c859edd659aed1
Author: rupertbates <rupert.bates@guardian.co.uk>
Date:   Thu Oct 24 12:18:09 2013 +0100

    Change HTTP date formats from UTC to GMT to conform to section 3.3 of HTTP spec document RFC2616 (http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3)
    
    Addresses issue https://github.com/square/okhttp/issues/337

commit d2be30b3223a49761a23c77d165ad4601f0c055b
Merge: ef44b9e 32a7166
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Oct 16 15:01:11 2013 -0700

    Merge pull request #322 from desseim/master
    
    Fix unresolved function call on JVM < 1.7

commit ef44b9ef89b1cc8146f4f16ee7f88e87fe475bb1
Merge: dd4c662 c74050b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Oct 11 16:49:15 2013 -0700

    Merge pull request #327 from everett-toews/patch-1
    
    Added description and download info for MockWebServer.

commit dd4c662f84c80fe4e35c12fe9d49e5bb72ba3c6f
Merge: 5538ed2 cd727cd
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Oct 11 13:44:31 2013 -0700

    Merge pull request #325 from square/jw/hide-missed-2.0-api
    
    Hide a 2.0 API that was left public.

commit c74050b71c0bf06693c8c772fd9e30ee6a68317a
Author: Everett Toews <everett.toews@gmail.com>
Date:   Fri Oct 11 10:36:05 2013 -0400

    Added description and download info for MockWebServer.

commit cd727cd34987980da5d4e1ca0bfab0c7b2e39818
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Oct 10 18:23:11 2013 -0700

    Hide a 2.0 API that was left public.

commit 32a716667db8e1be88ba4ccd68a1317bf37c43fd
Author: Guillaume Legrand <guillaume.legrand@payleven.de>
Date:   Tue Oct 8 15:14:10 2013 +0200

    Fix unresolved function call on JVM < 1.7
    
    This notably allows the mockwebserver project to be run on Android.
    ServerSocket only implements Closeable since Java 1.7 and thus calling of
    closeQuietly(Closeable) with a ServerSocket argument fails when running
    on Java 1.5 or 1.6 JVMs. This is the same as is already done for
    closeQuietly(Socket).

commit 5538ed21d7e829910ffafe2c8e83eafe800ef347
Merge: 43a7c60 29ab48b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Sep 29 19:29:59 2013 -0700

    Merge pull request #320 from square/jwilson/idle
    
    Fix a race condition in Connection.isExpired().

commit 29ab48bf0dfbac1b249f2233de08fa948bad11d8
Author: jwilson <jwilson@squareup.com>
Date:   Sat Sep 28 15:43:31 2013 -0400

    Fix a race condition in Connection.isExpired().
    
    This was causing some SPDY connections to be evicted early,
    and preventing connection reuse.
    
    The spdyConnectionReuse test becomes flaky with the
    fix that makes MockWebServer use different sequenceNumbers
    for different requests on the same socket. With the fix
    the test is no longer flaky. The old test wasn't good enough
    to detect what it wanted to detect!
    
    This race has existed in the code since we added more
    aggressive time-based expiration in January 2013. In my
    basic tests the race impacted ~20% of connections on a
    desktop VM. It may have been more on mobile.

commit 43a7c604c973abec9bceddbeb67cc2aa4113b226
Merge: d45b067 357f772
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Sep 28 12:46:11 2013 -0700

    Merge pull request #315 from aahlenst/fix-issue-298
    
    Bug fixed that caused gzipped responses to be returned from cache after ...

commit d45b067b46d7eeab31db0904c57f2f4da44025ce
Merge: 23b1216 2deaf15
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 23 11:51:34 2013 -0700

    Merge pull request #318 from levelup/empty-map
    
    returning null where a Map is expected is not nice

commit 2deaf1520a0bb0864547b7ffc035c065434fbff1
Author: Steve Lhomme <robux4@gmail.com>
Date:   Mon Sep 23 15:40:17 2013 +0200

    returning null where a Map is expected is not nice

commit 23b1216f85bca770358a892f154b06c94f62a3e8
Merge: 081258a 40d0bcb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Sep 18 19:43:27 2013 -0700

    Merge pull request #316 from square/jw/jarjar
    
    Use 'jar-with-dependencies' classifier on website.

commit 40d0bcbf6dfd0c5a915fe355268de24f01b02256
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Sep 18 16:17:44 2013 -0700

    Use 'jar-with-dependencies' classifier on website.

commit 357f77221cd4a41d06c6c84b7bb26cd79b307190
Author: aahlenst <andreas@ahlenstorf.ch>
Date:   Mon Sep 16 12:21:17 2013 +0200

    Bug fixed that caused gzipped responses to be returned from cache after cache validation (#298).

commit 081258a266a45b4d46824d09717dab54ed0f38ed
Merge: 943969d 742cee9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Sep 7 09:59:34 2013 -0700

    Merge pull request #314 from square/jwilson/__sample_server
    
    Static HTTPS/SPDY3/HTTP2 server example

commit 742cee9e41eebb3f8af3b830f7b62ef898a14976
Author: jwilson <jwilson@squareup.com>
Date:   Sat Sep 7 11:21:14 2013 -0400

    Static HTTPS/SPDY3/HTTP2 server example

commit 943969db9bb08dd51476ad3c83b1fb8879afa946
Merge: 3a85712 8f03548
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Sep 3 10:26:39 2013 -0700

    Merge pull request #312 from square/jwilson/cookiestyle
    
    Fix checkstyle issues in new Cookie code.

commit 8f03548249d3292ab95fc5cf016b51133705e771
Author: jwilson <jwilson@squareup.com>
Date:   Tue Sep 3 11:13:03 2013 -0400

    Fix checkstyle issues in new Cookie code.

commit 3a85712e7b71449a8d760715e9e9e8be27eb7240
Merge: 365bfb3 98920e2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Sep 3 07:38:36 2013 -0700

    Merge pull request #308 from romkavt/romkavt/issue-265
    
    issue-265 Multiple HTTP Cookie: headers

commit 98920e22a7f5410278e97d9d5a1111481e62e8fd
Author: Roman Tsirulnikov <romkavt@gmail.com>
Date:   Tue Sep 3 16:54:39 2013 +0400

    Changes by suggensions on /square/okhttp/pull/308:
    1. fixed identations
    2. fixed space char
    3. memory allocation optimization

commit 365bfb3989de8646a8bb14e2488b6e572df7f9ce
Merge: 61ec053 8dee226
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 2 10:33:03 2013 -0700

    Merge pull request #309 from square/jwilson/write_http2_frames
    
    Write some HTTP/2.0 frames

commit 8dee226c7c974f6c3dfaf54770c1e87bd6fefff8
Author: jwilson <jwilson@squareup.com>
Date:   Mon Sep 2 12:49:56 2013 -0400

    Write some HTTP/2.0 frames

commit 61ec05322055ae5b937859442b5f27455adb82c6
Merge: 47829d8 a91124b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 2 09:26:31 2013 -0700

    Merge pull request #306 from square/jwilson/headers_frames
    
    Use one callback for SYN_STREAM, SYN_REPLY and HEADERS.

commit 47829d8a60131723b7344d482c8e1e6bca00a147
Merge: dd82416 155a516
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Sep 2 08:57:23 2013 -0700

    Merge pull request #307 from narayank/master
    
    Upstream changes made directly to AOSP.

commit a1d42ed5bd895f964dc0881115c9e3948613fb74
Author: Roman Tsirulnikov <romkavt@gmail.com>
Date:   Mon Sep 2 19:25:11 2013 +0400

    issue-265 Multiple HTTP Cookie: headers

commit 155a516b54ed60ec796cf5b9f2d8705012c5ceae
Author: Narayan Kamath <narayan@google.com>
Date:   Fri Aug 16 14:30:14 2013 +0100

    Upstream changes made directly to AOSP.
    
    This change is a combination of 4 separate commits
    to fix various bugs observed during android platform
    testing.
    
    https://android-review.googlesource.com/#/c/63781/
    --------------------------------------------
    Allow certificate inspections after connect.
    
    We don't have to wait for the request to be sent
    before allowing inspection of SSL certs. They can be
    inspected as soon as the connection is established.
    
    Fixes CTS test UrlConnectionTest#testInspectSslAfterConnect
    
    https://android-review.googlesource.com/#/c/63821/
    ---------------------------------------------
    Respect read timeout on recycled connections.
    
    Partial fix for CTS test : URLConnectionTest#testGetKeepAlive.
    
    https://android-review.googlesource.com/#/c/63782/
    -----------------------------------
    Fix HttpUrlConnection#isUsingProxy.
    
    The earlier implementation disregarded what the
    ProxySelector had to say. We now query the selected
    route (if one has been established).
    
    Fixes compatibility test:
    HttpURLConnectionTest#testUsingProxySelector
    
    https://android-review.googlesource.com/#/c/63872/
    --------------------------------------------
    Don't support anything other than Basic auth.
    
    We should disregard authentication schemes other than
    "Basic" and let clients handle them themselves.
    
    The java Authenticator API gives us a user name and
    password combination, but we can't know how to format
    that information for any scheme other than basic.
    
    Historically:
    
    The JB implementation responds to challenges from an
    arbitrary scheme "X" by sending a header with scheme
    "X" but formatted like the "Basic" scheme.
    
    The current implementation responds to challenges from
    an arbitrary scheme "X" by sending a header with scheme
    "Basic" and formatter like the "Basic scheme".
    
    Partial fix for test cases in URLConnectionTest:
    - testAuthenticateWithCommaSeparatedAuthenticationMethods
    - testAuthenticateWithMultipleAuthenticationHeaders

commit a91124b6d4e2eb1bb3c71a7a8ddff7d40b7db55a
Author: jwilson <jwilson@squareup.com>
Date:   Sun Sep 1 13:56:26 2013 -0400

    Use one callback for SYN_STREAM, SYN_REPLY and HEADERS.
    
    This is closer to the semantics of HTTP/2.0, which uses the HEADERS
    frame for all three types. SPDY is a bit more strict because it
    relies on redundancy; it's an error to send a SYN_REPLY after a
    HEADERS frame. With HTTP/2.0, there's only one type so there's
    no error to detect.

commit dd82416bc5b6c45d4aeecd6acdc0f178eb4ac841
Merge: 3695902 18b73c1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Aug 29 08:29:31 2013 -0700

    Merge pull request #301 from levelup/disk-garbage
    
    When invalid sizes are used to initialize the ArrayList

commit 18b73c180cde4aaa8dc1596345751149b7dafef0
Merge: 638ae21 3695902
Author: Steve Lhomme <slhomme@levelupstudio.com>
Date:   Thu Aug 29 17:18:00 2013 +0200

    Merge branch 'master' of https://github.com/square/okhttp into disk-garbage

commit 638ae21c7a6edc0e51bc624a80dfbc6fb8aa4236
Author: Steve Lhomme <slhomme@levelupstudio.com>
Date:   Thu Aug 29 17:17:24 2013 +0200

    safer check for invalid values, without catching OOM

commit 36959025875ed6060ac31f9ecdc77dcb8f7fbc2d
Merge: eaf806a 1a824f3
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Aug 28 23:18:36 2013 -0700

    Merge pull request #302 from square/jwilson/old_bad_cache_responses
    
    Continue to read old bad cache responses.

commit 1a824f3c644fbc7f014a910d3c786677a260cf7a
Author: jwilson <jwilson@squareup.com>
Date:   Wed Aug 28 22:45:37 2013 -0700

    Continue to read old bad cache responses.

commit 3b83a3ba3e735fd92a7a61936feb78b54d429d2a
Author: Steve Lhomme <slhomme@levelupstudio.com>
Date:   Wed Aug 28 17:03:58 2013 +0200

    When invalid sizes are used to initialize the ArrayList, don't crash with an uncaught exception

commit eaf806a1be857d01d44c09efc6f7dd7b18c0be09
Merge: 6097735 5663f81
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Aug 27 07:26:38 2013 -0700

    Merge pull request #299 from square/jwilson/hpack
    
    Implement HPACK, HTTP header compression.

commit 5663f815af072160f344712d5b353439bd2066f1
Author: jwilson <jwilson@squareup.com>
Date:   Mon Aug 26 03:50:39 2013 -0400

    Implement HPACK, HTTP header compression.

commit 6097735fde4c61ef6cbc3648f4ed0106cee58feb
Merge: ca7d09b a948ffc
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Aug 24 18:25:48 2013 -0700

    Merge pull request #297 from square/jwilson/post_to_get
    
    Drop body headers when redirected from POST to GET.

commit a948ffce1eb2b9ec46069722f6744f252d6dbfc7
Author: jwilson <jwilson@squareup.com>
Date:   Sat Aug 24 11:56:39 2013 -0400

    Drop Content-Length when redirected from POST to GET.
    
    https://github.com/square/okhttp/issues/296

commit ca7d09b4e84410d743a5d6016dbb25f2a988e594
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Aug 23 23:19:52 2013 -0700

    [maven-release-plugin] prepare for next development iteration

commit 4eb81fee1f807cb97bf8fb39d23652c947561bf2
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Aug 23 23:19:48 2013 -0700

    [maven-release-plugin] prepare release parent-1.2.1

commit e0d360e98c230f3d06fd567b23fede783199bd86
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Aug 23 22:52:44 2013 -0700

    Update change log with an additional fix description.

commit 4ed57b92fbf64e0f7e39be7533fdeea1d5242cdb
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Aug 23 22:50:01 2013 -0700

    Prepare 1.2.1 release.

commit 41997f3f96704371d7ed0ed4fbb1b818da668596
Merge: 350c1f7 64b2571
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Aug 23 22:48:17 2013 -0700

    Merge pull request #295 from square/jw/switch-optional
    
    Switch NPN from optional to provided.

commit 64b257183fbdc620b6a255ff87b9d61293ede9f4
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Aug 23 14:04:36 2013 -0700

    Switch NPN from optional to provided.
    
    Optional dependencies get included in the fat jar but are not transitive. Provided dependencies do NOT get included in the fat jar and are also not transitive.
    
    I believe the former is a bug in the Maven assembly plugin so the latter case is used as a workaround.

commit 350c1f77801d91c78b8a0aec1df404e745352658
Merge: 801cd34 787ec36
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Aug 20 16:46:21 2013 -0700

    Merge pull request #289 from levelup/double-negative
    
    the numberOfPairs may not be negative when numberOfPairs*2 is negative

commit 787ec360de379839edad577bb21fd96e7a5e6014
Author: Steve Lhomme <slhomme@levelupstudio.com>
Date:   Tue Aug 20 09:10:19 2013 +0200

    the numberOfPairs may not be negative when numberOfPairs*2 is negative

commit 801cd34d4807895c99af4100e25b941e94bc796d
Merge: 540a885 6e382aa
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Aug 19 11:10:13 2013 -0700

    Merge pull request #287 from square/jwilson/read_frames
    
    Read HTTP/2.0 frames and error codes.

commit 6e382aa9b807c61adc88eb0a2cddc047382e36d9
Author: jwilson <jwilson@squareup.com>
Date:   Sat Aug 17 20:01:33 2013 -0400

    Read HTTP/2.0 frames and error codes.
    
    This introduces a new ErrorCode class that identifies
    codes for HTTP/2.0, SPDY/3 RST codes, and SPDY/3 GO_AWAY
    codes.

commit 540a885043613345e0d986a60fc418744d2fbb94
Merge: bb5d91a 2f31d71
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Aug 15 04:37:42 2013 -0700

    Merge pull request #283 from square/jwilson/hide_more_flags
    
    Hide more flags from SPDY APIs.

commit 2f31d7122d8806b6c32d2d1e181ca635fb80bba7
Author: jwilson <jwilson@squareup.com>
Date:   Thu Aug 15 00:17:17 2013 -0400

    Hide more flags from SPDY APIs.
    
    Flags are not portable between SPDY/3 and HTTP/2.0,
    so hide them in the reader & writer code.
    
    Also rename SpdyReader to FrameReader and SpdyWriter to
    FrameWriter. Other classes will be renamed as they become
    independent of the underlying protocol.

commit bb5d91ab4ff59092d3cb17de5388390939f200fe
Merge: edf6173 39c0d7d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Aug 14 13:38:32 2013 -0700

    Merge pull request #280 from square/jwilson/push_flags
    
    Push stream flags into Spdy3.

commit 39c0d7d56397ab14892db8032464cb8a9f983ff1
Author: jwilson <jwilson@squareup.com>
Date:   Wed Aug 14 01:00:07 2013 -0400

    Push stream flags into Spdy3.
    
    Previously flags were being interpretted in SpdyConnection
    and SpdyStream. This won't work for HTTP/2.0, which has its
    own flag setup.

commit edf6173c37719f519dd562f4855169a3dc144799
Merge: 5b076fb d3a92ff
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Aug 14 04:14:15 2013 -0700

    Merge pull request #279 from lingmingyb/length0
    
    spdy 3 support length 0 header value

commit d3a92ff9d511b40ce65f24f95901f53a1240dc74
Author: lingming <lingming.yb@taobao.com>
Date:   Wed Aug 14 11:52:54 2013 +0800

    spdy 3 support length 0 header value

commit 5b076fbe4a0d2d8f93b42a61fde0baee551086b8
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Aug 12 11:40:12 2013 -0700

    Add '0' to version number.

commit 6998bf3b87520b3b86370987b05e71dd51df4de9
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Aug 12 11:38:45 2013 -0700

    Fix changelog formatting.

commit 1b0eee78f723a8a0c694a6d5fa4a588b3d12a01f
Merge: 9937196 83e77ea
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Aug 12 11:37:47 2013 -0700

    Merge branch 'master' of https://github.com/square/okhttp

commit 993719684df534525606d33b0db545dbf3f91cc8
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Aug 12 11:37:41 2013 -0700

    Fix change log formatting.

commit 83e77ea3103f074a748cacf75c973feae54f3c10
Merge: db3b3f4 21dc92f
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Aug 12 00:09:56 2013 -0700

    Merge pull request #277 from square/jwilson/http2_or_spdy3
    
    Support multiple variants of the SPDY protocol.

commit db3b3f4d2a910360339ed115db77ac024a72ff5e
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Aug 12 00:01:30 2013 -0700

    [maven-release-plugin] prepare for next development iteration

commit f7699d92436ccb8f240d003469b128bfdedc378a
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Aug 12 00:01:26 2013 -0700

    [maven-release-plugin] prepare release parent-1.2.0

commit f6ec6f74badc8538f1cf3b48366ed5d58a639d69
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Aug 11 23:55:03 2013 -0700

    Add jar-with-dependencies for the main artifact.

commit bc3aa64462552d3e1c2e621e0cb15880b71b933c
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Aug 11 23:45:35 2013 -0700

    Revert "[maven-release-plugin] prepare release parent-1.2"
    
    This reverts commit ad928c668de84199f277f083627a262485a987d1.

commit 490019163fb28fc2b0d92373bd81158054adfe34
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Aug 11 23:43:03 2013 -0700

    Update checkstyle stuffs.

commit 9ddc3d75de2b4ad83e2551c1d4dfc7fa5f4f3e56
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Aug 11 23:42:55 2013 -0700

    Only exclude Javadoc from 'internal' package in the main artifact.

commit 542a2912b22b61604cee88646fb054eb8d6515b4
Author: Jake Wharton <jw@squareup.com>
Date:   Sun Aug 11 20:21:05 2013 -0700

    Eleven.

commit 21dc92f967d01c2da3ace57b7cc04421e2fd296b
Author: jwilson <jwilson@squareup.com>
Date:   Sun Aug 11 10:18:34 2013 -0400

    Support multiple variants of the SPDY protocol.
    
    This behavior-free refactoring makes the first baby steps towards
    supporting HTTP/2.0. It adds indirection on the framing layer so
    we can frame either using SPDY/3's syntax or HTTP/2.0's.

commit 3626d698139b7b95c91b0e802fe7754ce5445c21
Author: jwilson <jwilson@squareup.com>
Date:   Sun Aug 11 10:30:12 2013 -0400

    [maven-release-plugin] prepare for next development iteration

commit ad928c668de84199f277f083627a262485a987d1
Author: jwilson <jwilson@squareup.com>
Date:   Sun Aug 11 10:30:06 2013 -0400

    [maven-release-plugin] prepare release parent-1.2

commit e93511be3422b9da595e417b8b5f252a606c3975
Merge: 17e54c0 efc95d9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Aug 10 13:52:05 2013 -0700

    Merge pull request #275 from square/jwilson/gzip_304
    
    Test gzipped HTTP 304 response bodies

commit 17e54c05547fcb3555fb4ce21987f59c2f395379
Merge: 6e6b415 e7d13c4
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Aug 10 13:51:46 2013 -0700

    Merge pull request #276 from square/jwilson/prepare_okhttp_1_2
    
    Prepare for OkHttp 2.0.

commit e7d13c48027f676ef5a6b5abf2b8fbfdf0cc3538
Author: jwilson <jwilson@squareup.com>
Date:   Sat Aug 10 11:03:09 2013 -0400

    Prepare for OkHttp 1.2.
    
    Hide the async APIs (package-private), moving test code to
    the same package as necessary.
    
    Also write release notes.

commit efc95d993f813cf5ffc22a66ce99d97b4ac9651b
Author: jwilson <jwilson@squareup.com>
Date:   Sat Aug 10 08:41:15 2013 -0400

    Test gzipped HTTP 304 response bodies

commit 6e6b4152b72564d52f725ddfcbd03462ce92041f
Merge: 84e0b48 d5ab35a
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Aug 5 16:28:29 2013 -0700

    Merge pull request #267 from square/jwilson/style
    
    Use the OkHttp code style in MockWebServer

commit d5ab35a272dfd9a7eca1072a72d3d57f29c438b4
Author: jwilson <jwilson@squareup.com>
Date:   Mon Aug 5 18:59:57 2013 -0400

    Use the OkHttp code style in MockWebServer

commit 84e0b4875a90aa394e2e268e460b1c5e5e74b055
Merge: 894743d 00a50d1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Aug 5 15:33:22 2013 -0700

    Merge pull request #266 from square/jwilson/kill_mock_spdy_server
    
    Teach MockWebServer SPDY.

commit 00a50d1919549b51d941aeb893b2a5ed465aa472
Author: jwilson <jwilson@squareup.com>
Date:   Mon Aug 5 18:09:31 2013 -0400

    Teach MockWebServer SPDY.
    
    Kill MockSpdyServer in the process.

commit 894743dd5cfeb198d904903fa8598163e1f80808
Merge: df815ef 8535f24
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Aug 5 15:05:17 2013 -0700

    Merge pull request #263 from square/jwilson/import_mockwebserver
    
    Import mockwebserver from code.google.com.

commit 8535f2447c4269531de53e9e37aa37f2d4d1da51
Author: jwilson <jwilson@squareup.com>
Date:   Sun Aug 4 09:14:30 2013 -0400

    Repackage mockwebserver in com.squareup.okhttp.mockwebserver.

commit 8508ae98fd2fc176996acdc50221803b0c226624
Merge: df815ef 6010229
Author: jwilson <jwilson@squareup.com>
Date:   Sun Aug 4 09:03:29 2013 -0400

    Merge branch 'mockwebserver' into jwilson/import_mockwebserver

commit 60102293782e942ec86d7e2c26836ed6fa992cf5
Author: jwilson <jwilson@squareup.com>
Date:   Sun Aug 4 09:03:08 2013 -0400

    Imported mockwebserver source into mockwebserver/

commit df815ef9242bdf542d27afc15f79200df477c3f5
Merge: cc46339 3c0faa9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Aug 3 14:48:06 2013 -0700

    Merge pull request #261 from square/jwilson/home_for_mockwebserver
    
    Make a home for MockWebServer in OkHttp.

commit 3c0faa9ca18de3be0a178e590086888f4f89612a
Author: jwilson <jwilson@squareup.com>
Date:   Sat Aug 3 11:50:32 2013 -0400

    Make a home for MockWebServer in OkHttp.
    
    To build HTTP/2.0 support into OkHttp I'm going to simultaneously
    build HTTP/2.0 support into MockWebServer. To make that possible,
    I'm first going to fork MockWebServer and then combine it with
    MockSpdyServer.

commit cc4633943800572673c03b32d0b2bc9a08ae184d
Merge: 4b70a92 c2366b7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jul 20 11:14:36 2013 -0700

    Merge pull request #255 from square/jwilson/spdy_layering
    
    Fix a bug in SPDY plus HTTP caching.

commit c2366b7658fdf497cb7277e89a640eac56688c8e
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 20 12:04:53 2013 -0400

    Fix a bug in SPDY plus HTTP caching.
    
    With spdy/3 the built-in headers were renamed from 'status'
    to ':status' and 'version' to ':version'. This caused the
    response cache to break, since it was parsing lines like
    ':status: 200 OK' by splitting on the first colon.
    
    The fix drops these synthetic headers as soon as they're
    received; converting them to the HTTP form immediately.

commit 4b70a9272855d580a1e03840710cc8ec51652a5d
Merge: abc8c9a de1b5f2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jul 20 08:15:01 2013 -0700

    Merge pull request #254 from square/jwilson/warpspins_isalive_detector
    
    More aggressive heuristics on pooled connections.

commit de1b5f244df1e29c457fdd87e91b9919c2336da7
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jul 20 10:44:06 2013 -0400

    More aggressive heuristics on pooled connections.
    
    These are only turned on for non-GET requests. This
    replaces the RetryableOutputStream mechanism, which
    was causing problems for clients whose POSTs weren't
    idempotent.

commit abc8c9a30bc0c5a9a5d128ebcccf0958a306eb25
Merge: 3e7ffd6 a87b569
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jul 12 05:24:45 2013 -0700

    Merge pull request #250 from kriswuollett/apache_client_contentType
    
    Added check for length < 0 for transparent gzip response.

commit a87b569d0140e77650e95c47a3a9dd5e091deaf0
Author: Kristopher Wuollett <kwuollett@twitter.com>
Date:   Fri Jul 12 00:06:21 2013 -0700

    Added check for length < 0 for transparent gzip response.
    
    The documentation for org.apache.http.HttpEntity::getContentLength()
    states that a negative number will be returned when the length of the
    content is not known.

commit 3e7ffd60ffb242b5bcfed45eecf7cbb380b32c2e
Merge: 8e5eab2 c7a90b1
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jul 11 23:42:04 2013 -0700

    Merge pull request #249 from kriswuollett/website_index_trailing_whitespace
    
    Removed trailing whitespace in website/index.html.

commit c7a90b13f205ec0374c5ac7950986ba41b4a60a3
Author: Kristopher Wuollett <kwuollett@twitter.com>
Date:   Thu Jul 11 23:32:28 2013 -0700

    Removed trailing whitespace in website/index.html.
    
    Made the empty line consistent with the others in the html file.

commit 8e5eab2373c2eee3844000eb2ce3a13d235f05b0
Merge: 4a13338 8035fda
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jul 11 23:30:11 2013 -0700

    Merge pull request #248 from kriswuollett/apache_client_contentType
    
    Added contentType/Encoding to HttpResponse's Entity.

commit 8035fda72fd7c582d2f1b7df52fdae90d3959909
Author: Kristopher Wuollett <kwuollett@twitter.com>
Date:   Thu Jul 11 22:46:30 2013 -0700

    Added contentType/Encoding to HttpResponse's Entity.
    
    Clients should expect that OkHttpClient HttpResponse Entity's contentType
    and contentEncoding are not null when the headers are present.

commit 4a13338569fe510251a6e0eb250fc8ffa4713f89
Merge: 452afb3 ef09f79
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jul 11 21:44:32 2013 -0700

    Merge pull request #247 from square/jwilson/new_ioe
    
    Don't use IOException APIs not in Gingerbread

commit ef09f798a32dc4d0593388054e446f199c14ec8f
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jul 12 00:43:03 2013 -0400

    Don't use IOException APIs not in Gingerbread

commit 452afb381a5f49e40f3a739bc25930306fd45e1b
Merge: 0b4b3c4 63508d9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jul 11 21:36:30 2013 -0700

    Merge pull request #246 from kriswuollett/no_fin_on_closed_stream
    
    Stopped sending final empty frame on stream initiated in sender half-closed state.

commit 63508d956aca8a174c5808697e5518328197956d
Author: Kristopher Wuollett <kwuollett@twitter.com>
Date:   Thu Jul 11 16:03:33 2013 -0700

    Stopped sending empty frame on stream initiated in sender half-closed state.
    
    The SPDY protocol states the sender of FLAG_FIN must not send further frames
    on that stream.  This change skips the sending of a final (empty) frame with
    FLAG_FIN set when the stream is already half-closed because SYN_STREAM was
    sent with FLAG_FIN set.

commit 0b4b3c46be7a4444356b84f100f9588b499b6c57
Merge: 142b707 6cb214f
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jul 11 13:29:00 2013 -0700

    Merge pull request #245 from kriswuollett/checkstyle_platform_java
    
    Removed trailing whitespace in Platform.

commit 6cb214f0f4c634479c09bf771d084d80614c050c
Author: Kristopher Wuollett <kwuollett@twitter.com>
Date:   Thu Jul 11 13:03:14 2013 -0700

    Removed trailing whitespace in Platform.

commit 142b7073134acc72c8814ed03a7a53349455aab3
Merge: 9a63d68 d66810b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jul 11 05:28:10 2013 -0700

    Merge pull request #244 from narayank/master
    
    Catch SecurityExceptions from socket connects.

commit d66810bf0efbfad5c2afb9b304e1091ac6107a65
Author: Narayan Kamath <narayan@google.com>
Date:   Thu Jul 11 11:37:35 2013 +0100

    Catch SecurityExceptions from socket connects.
    
    Versions of android prior to 4.3 would throw RTEs
    if the underlying socket threw an EACCES error.
    
    See change 50144 on the Android Open Source Project.

commit 9a63d68b04022e955b5a7eb3618bf2dba0a56f79
Merge: 64e58d4 7e3e8bb
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jul 9 04:06:15 2013 -0700

    Merge pull request #243 from kkocel/patch-1
    
    Fixed Alcatel getByInetAddress bug.

commit 7e3e8bb8c56c701aab2f0f79d14425b4fe5c0c55
Author: Christopher Kocel <k.kocel@hme.com.pl>
Date:   Tue Jul 9 10:45:34 2013 +0200

    Fixed Alcatel ```getByInetAddress``` bug.
    
    Added catch for NullPointerException. I wish it was java7 when You could catch multiple exceptions ...

commit 64e58d4ed04692ae6a15592d41f1e3be1f5b179e
Merge: 13f4633 5f87fc1
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jul 9 00:25:47 2013 -0700

    Merge pull request #241 from square/jwilson/introduce_policy
    
    Introduce a Policy interface between engine and connection.

commit 5f87fc19ab269a929b61c088a806a674644caa6a
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jul 9 01:17:26 2013 -0400

    Introduce a Policy interface between engine and connection.
    
    This breaks the direct dependency from HttpEngine to
    HttpURLConnectionImpl. With this dependency broken, we
    can start to use HttpEngine directly from Dispatcher and
    Job.

commit 13f46339d9887481ff65b4f2f532a753d3f1f5a3
Merge: cc59ecd c2da9cc
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jul 8 22:55:41 2013 -0700

    Merge pull request #238 from square/jwilson/long_length
    
    Support streaming request bodies longer than 2 GiB.

commit c2da9cc6450196c0c0c1067ca62c82a71a670a3d
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jul 5 14:48:28 2013 -0700

    Support streaming request bodies longer than 2 GiB.
    
    This uses a new API only available in Java 1.7 and
    better.

commit cc59ecd578d11a091c26c43cdae4f0b5031ee566
Merge: 76d3637 39b3b59
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jul 8 21:21:26 2013 -0700

    Merge pull request #239 from square/jwilson/refactor_to_client
    
    Push state from HttpURLConnectionImpl to OkHttpClient

commit 39b3b59f6f6cea6335f264b56e370787d92082e1
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jul 7 21:41:07 2013 -0400

    Push state from HttpURLConnectionImpl to OkHttpClient
    
    We aren't going to use HttpURLConnectionImpl for
    requests with the new API.
    
    This is safe because we always do a shallow copy of
    the OkHttpClient before using it to create a
    HttpURLConnectionImpl.

commit 76d3637d47571f2d93f846b267381074c2a5c7de
Merge: eb3a162 1bd4dd1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jul 5 18:03:42 2013 -0700

    Merge pull request #237 from square/jwilson/request_bodies
    
    Add factory methods to create request bodies

commit 1bd4dd1a5579009e06a2485bc8f1b86cf3d5e7db
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jul 5 14:06:58 2013 -0700

    Add factory methods to create request bodies

commit 76275fc9733168320d9472b8982c7d38956058fb
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Fri Jul 5 22:08:35 2013 +0000

    Really support requests greater than 2 GiB.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@45 cf848351-439f-e86a-257f-67fa721851d5

commit a43db05b64bcd59518f3b34b3e8c61db98597096
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Fri Jul 5 22:00:23 2013 +0000

    Support requests greater than 2 GiB
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@44 cf848351-439f-e86a-257f-67fa721851d5

commit eb3a162c77dc2cba64c3a17dd0be5326d077f409
Merge: 6bf1eb0 c365268
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jul 4 23:16:13 2013 -0700

    Merge pull request #236 from square/jwilson/mediatype
    
    Add a media type class to OkHttp.

commit 6bf1eb07b0b6f502ae868e4bd8382554f891fe93
Merge: c175767 3108f7c
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jul 4 22:37:38 2013 -0700

    Merge pull request #233 from square/jw/invalidation
    
    Ensure cache entries are invalidated even for uncacheable POST-like requests.

commit c175767b7f1df32a57485fbf16d5af55f1f23482
Merge: a08cb32 03902bc
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jul 4 22:36:19 2013 -0700

    Merge pull request #235 from square/jw/sdf-lazy-cache
    
    Cache all non-standard date format instances lazily.

commit c3652689c4e645e680af39fefe401d7f0dd02748
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jul 4 10:23:02 2013 -0700

    Add a media type class to OkHttp.
    
    This allows us and our users to parse out the charset of
    a content type, so we can cleanly create Readers and Strings
    for content of any type.
    
    This is similar to Guava's MediaType but with many differences.
    
    * Guava's MediaType parses all parameters independently. We don't.
      We may later want to support this lazily for users like MimeCraft.
    
    * Guava uses a custom Tokenizer; we use regular expressions.
    
    * Guava includes a registry of common media types; we don't.
    
    * Guava supports media queries and building media types; we don't.
    
    Applications that need advanced features should probably use
    Guava's MediaType class. My goal here was to get everything we
    need in a small amount of code.

commit 03902bc48fbd9dfbf45f82271c7c9d0b27125091
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Jul 3 21:58:41 2013 -0700

    Cache all non-standard date format instances lazily.

commit a08cb3235b0e014deccf04f6cd8c09fc1b640e1d
Merge: 1d33ae5 c8e37ce
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Jul 4 07:51:33 2013 -0700

    Merge pull request #225 from square/jwilson/experimental
    
    First step in an async HTTP API.

commit c8e37ce19bf439a6a36931069fd01921ec67ae0b
Author: jwilson <jwilson@squareup.com>
Date:   Mon Jul 1 17:31:33 2013 -0400

    First step in an async HTTP API.
    
    This is very experimental right now but it sets us up
    for a full asynchronous API. The current implementation
    builds an async API over our existing synchronous API.
    Future refactorings to the internals should promote the
    async API throughout the codebase, particularly in SPDY.
    That way we can have more requests in flight than threads
    processing those requests.

commit 1d33ae5968a34b74e2023628c60f5ca18b57f741
Merge: b6a68e1 53e12cc
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jul 4 00:34:20 2013 -0700

    Merge pull request #232 from square/jw/apache-thangs
    
    Request entity tests for the Apache client shim.

commit b6a68e1add22f035ad8025ef7ec13b40fa770270
Merge: cee52c4 27861c6
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jul 4 00:34:01 2013 -0700

    Merge pull request #234 from square/jw/header-prefix
    
    Change custom headers to 'OkHttp-Foo-Bar' format.

commit 3108f7c233dda01f2f41bc199a65da70a95c1075
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Jul 3 19:13:36 2013 -0700

    Ensure cache entries are invalidated even for uncacheable POST-like requests.

commit 53e12cca33f7d24cd8ea6c6ead262559b3553fbb
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Jul 3 18:22:57 2013 -0700

    Request entity tests for the Apache client shim.

commit cee52c48aaf8c5c28c9da7e7987a37740db53493
Merge: ad5ac4a 4d506df
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jul 3 23:40:07 2013 -0700

    Merge pull request #231 from square/jw/default-timeouts
    
    Allow specifying default timeouts for connect and read per OkHttpClient.

commit 4d506df096eca1f624a7cc127aa2a211a208e845
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Jul 3 17:43:57 2013 -0700

    Allow specifying default timeouts for connect and read per OkHttpClient.

commit 27861c698b24931b7698c94cabd2746f705fe82d
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Jul 3 19:47:00 2013 -0700

    Change custom headers to 'OkHttp-Foo-Bar' format.
    
    Provide a public but internal API for setting this to different values. For example, the Android OS will need to call this method with 'X-Android' as a value.

commit ad5ac4a57f79e2b96fd576d4bb03b06b2fbdc0cb
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 23 20:01:05 2013 -0400

    [maven-release-plugin] prepare for next development iteration

commit d439855a9d061a274730409e471310ea9291c693
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 23 20:01:02 2013 -0400

    [maven-release-plugin] prepare release parent-1.1.1

commit 5315a9376f73900c1fd51e082d23d127f4b36d34
Merge: 74b4d04 a39032c
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sun Jun 23 16:52:03 2013 -0700

    Merge pull request #218 from square/jwilson/keep_alive_timeout
    
    Make ConnectionPoolTest less flaky

commit a39032cb0af0de4cbc1c18397c64f67074981538
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 23 19:50:08 2013 -0400

    Make ConnectionPoolTest less flaky
    
    I was seeing flaky results in the debugger because pooled
    connections were being evicted as the test ran.

commit 74b4d049d0bebfe3da09e36e875973ac5461da43
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 23 19:32:07 2013 -0400

    Prepare for the 1.1.1 release

commit 83c569277bd20597bc62ec7e3dc6cd7ed893fc22
Merge: 5516526 08ac824
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jun 23 16:29:33 2013 -0700

    Merge pull request #217 from square/jwilson/http_to_https_redirect_and_caching
    
    Fix a bug in caching cross-protocol redirects.

commit 08ac8245dc8903e285e1e7cd8ada9578b4a27c46
Author: jwilson <jwilson@squareup.com>
Date:   Sun Jun 23 18:53:15 2013 -0400

    Fix a bug in caching cross-protocol redirects.

commit 5516526004f35d78daa657664fc9d3a237b535a2
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 15 20:28:32 2013 -0400

    [maven-release-plugin] prepare for next development iteration

commit 20f7eebbf58109009577e3369f68e0e241f2cd61
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 15 20:28:28 2013 -0400

    [maven-release-plugin] prepare release parent-1.1.0

commit c24a62e32599cbe264c1b54c272e2decee6a9c05
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 15 20:25:38 2013 -0400

    Prepare for the 1.1.0 release

commit b49e7086bddad06048cfd3c4c169d7aa87253136
Merge: 8a322f3 812ba5e
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sat Jun 15 08:35:47 2013 -0700

    Merge pull request #211 from square/jwilson/constant_hostname_verifier
    
    Make OkHostnameVerifier a constant. This fixes connection reuse.

commit 8a322f353968daddb892162305ff8153949dc595
Merge: ecfb205 07a97dc
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sat Jun 15 08:34:48 2013 -0700

    Merge pull request #213 from square/jwilson/URLStreamHandlerFactory
    
    Tweak the API for URLStreamHandlerFactory

commit ecfb20575c7577cf01114bec2a80c9f491ab16bf
Merge: 6309975 550a414
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sat Jun 15 08:31:45 2013 -0700

    Merge pull request #212 from square/jwilson/dontwhitelist
    
    Don't whitelist routes when recycling them

commit 07a97dc250bcb7402246f8bd48ac6d7806ef99e3
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 15 09:36:04 2013 -0400

    Tweak the API for URLStreamHandlerFactory
    
    This follows up on candrews committed change.

commit 63099750f22791a17e96d7be921d4aece43b6c1d
Merge: c84d84d f9f55b1
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Jun 15 06:23:14 2013 -0700

    Merge pull request #192 from candrews/master
    
    Add an implementation of URLStreamHandlerFactory

commit 550a4148d36597d6eeb2022588534ac8add55d64
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 15 09:14:40 2013 -0400

    Don't whitelist routes when recycling them
    
    We haven't gathered any additional evidence that the route
    works or doesn't work at this point!

commit 812ba5ea6314b1b439166bd1d73af18df5fe44a6
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jun 15 09:03:38 2013 -0400

    Make OkHostnameVerifier a constant. This fixes connection reuse.
    
    Previously HTTPS connection reuse was broken because the
    hostname verifier is included as a route identifier, and
    with a different hostname verifier on every request we weren't
    reusing connections.

commit c84d84d1ca6911534fe993e177f632ee7e7ba46f
Merge: cc9e7c7 06e6bee
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jun 14 06:50:59 2013 -0700

    Merge pull request #210 from narayank/master
    
     Fix bad locking in SpdyConnection

commit 06e6beeb3d96214694310f116e1f440c5db18288
Author: Narayan Kamath <narayan@google.com>
Date:   Fri Jun 14 13:49:45 2013 +0100

    Fix bad locking in SpdyConnection
    
    This caused an assertion error in SpdyStream#setSettings
    where we assert that the lock on the associated
    SpdyConnection is held.

commit cc9e7c7da48f53d21066f6304143589d4c7630d5
Merge: b482479 929a15a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Jun 14 05:14:25 2013 -0700

    Merge pull request #209 from narayank/master
    
    Ignore null header values.

commit 929a15a55dd13a8f24b2dd8ba5d899f19a9207a3
Author: Narayan Kamath <narayan@google.com>
Date:   Thu Jun 13 12:29:54 2013 +0100

    Ignore null header values.
    
    Required for backwards compatibility. Null headers
    throw an RTE (as they should) when they're set internally
    or directly on the RawHeaders object.

commit b48247968a1c13996a2a2fc2e7a2cda4f1acc127
Merge: e401cac 76eaa1b
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jun 12 07:34:04 2013 -0700

    Merge pull request #208 from narayank/master
    
    Allow access to the underlying DiskLruCache.

commit 76eaa1b1bfe5cca0b9d9468bef05491377e7cc13
Author: Narayan Kamath <narayan@google.com>
Date:   Wed Jun 12 09:55:45 2013 +0100

    Allow access to the underlying DiskLruCache.
    
    This is needed to implement public android APIs
    android.net.HttpResponseCache.{flush,size,maxSize,close}
    as well android.net.HttpResponseCache.install.
    
    install needs to inspect the underlying DiskLruCache because
    it promises not to install a new cache if the file directory and
    size are the same as the old cache.

commit e401cacc5ff1aba805fe62084144c66b2d325128
Merge: 95beef2 4910039
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Jun 5 07:07:05 2013 -0700

    Merge pull request #204 from narayank/master
    
    Support querying & setting transport lists on connections.

commit 4910039a572abc6d20cac48eb2c5e92591520537
Author: Narayan Kamath <narayan@google.com>
Date:   Mon Jun 3 10:55:52 2013 +0100

    Support querying & setting transport lists on connections.
    
    The list is specified via a magic request property
    "X-Android-Transports" and can be queried via the request
    property "X-Android-Selected-Transport".
    
    System wide defaults / switches don't need any changes
    to okhttp. They can be set as options on the OkHttpClient
    used by the platform UrlStreamHandlers.

commit 95beef24f0385827d04e23b95cea46b7425d4f1c
Merge: 1e6a331 1192af6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu May 30 03:47:43 2013 -0700

    Merge pull request #201 from kruton/master
    
    Add new classname for AOSP's SSLSocket change

commit 1192af61fd1f6a102a7d74422e83dfb1fc9a94b9
Author: Kenny Root <kroot@google.com>
Date:   Tue May 28 15:49:54 2013 -0700

    Add current AOSP class name for OpenSSLSocketImpl
    
    AOSP moved OpenSSLSocketImpl to com.android.org.conscrypt.* so add that
    as the first choice for unbundled apps.
    
    Change-Id: I7bad6533dcb86ee1cac3b15f42dd386bd651eaed

commit 1e6a33193f2ca6ab91d9e9ff6aee189171107b5a
Merge: 26fc2ff f163915
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon May 27 14:53:44 2013 -0700

    Merge pull request #199 from square/jw/null-chick
    
    Null-check request entity since it might not be present.

commit f1639153468485070271412ca761e080f59068b3
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 27 14:46:40 2013 -0700

    Null-check request entity since it might not be present.
    
    Closes #198.

commit f9f55b15aa3152c5b3d3af41e4d60257c20a309a
Author: Craig Andrews <candrews@integralblue.com>
Date:   Mon May 20 21:19:25 2013 -0400

    Add an implementation of URLStreamHandlerFactory

commit 26fc2ff7f902eff068c07731ea97f9638c50e80c
Merge: f34c1ff f8d9ec7
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 25 01:27:37 2013 -0700

    Merge pull request #197 from square/jw/stay-dead
    
    Correct specialized platform name to Java6.

commit f8d9ec7c31304ef0176a8cdd7d2f7e354ba969cf
Author: Jake Wharton <jw@squareup.com>
Date:   Sat May 25 01:21:38 2013 -0700

    Correct specialized platform name to Java6.
    
    Also correct end-of-method fallback logic to not check for the presence of the MTU method, it will never be null when code is reached.

commit f34c1fff7f10f6ff8850d230124124e130f04c28
Merge: 5bb8d57 a6d07d9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed May 22 09:58:50 2013 -0700

    Merge pull request #194 from candrews/patch-1
    
    Use animal-sniffer to ensure only Java 1.5 is used

commit a6d07d9b68236edb028d592631a6e1871e2d83ac
Author: Craig <candrews@integralblue.com>
Date:   Tue May 21 23:17:07 2013 -0400

    Use animal-sniffer to ensure only Java 1.5 is used

commit 5bb8d57ffbb30f8762fb9f1431a971e72ea85fad
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 13 17:16:16 2013 -0700

    Fix comment color.

commit 1482bc403285dcc5f49e24041abd1127ead3afa7
Author: Jake Wharton <jw@squareup.com>
Date:   Sat May 11 20:56:21 2013 -0700

    [maven-release-plugin] prepare for next development iteration

commit 34049c1c0f193e293aa4466acee774e2bdc7cb65
Author: Jake Wharton <jw@squareup.com>
Date:   Sat May 11 20:56:12 2013 -0700

    [maven-release-plugin] prepare release parent-1.0.2

commit 225a39f47d363bd5ca2c6208928ca7f3aea00665
Author: Jake Wharton <jw@squareup.com>
Date:   Sat May 11 20:50:48 2013 -0700

    Prepare change log for 1.0.2.

commit fcbb0abf55f837c768242f3ce8e1c53fd51edf80
Merge: 8f586ba d7e2438
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 10 17:02:25 2013 -0700

    Merge pull request #188 from square/jwilson/fix_razr_bug
    
    Don't explode if NetworkInterface.getByInetAddress does.

commit d7e24381a3879e8d5afacf309deee50278f79243
Author: jwilson <jwilson@squareup.com>
Date:   Fri May 10 19:53:12 2013 -0400

    Don't explode if NetworkInterface.getByInetAddress does.
    
    Certain Motorola RAZRs always throw a SocketException when
    you call that method. We don't _really_ need a perfect MTU,
    so for those devices just return the default MTU.

commit 8f586ba7c5865ee01ec9dec7f75909ad2e574bdc
Merge: 3ba54ee 70e13c1
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri May 10 07:40:58 2013 -0700

    Merge pull request #186 from square/pforhan/java5
    
    Replace String.isEmpty() calls with Java 5 methods

commit 70e13c131cf0caa063979feddca39a23d53c8c62
Author: Patrick Forhan <pforhan@squareup.com>
Date:   Fri May 10 09:31:16 2013 -0500

    Replace String.isEmpty() calls with Java 5 methods

commit 3ba54eed34c9d5e41965587660a76a06806180a0
Author: jwilson <jwilson@squareup.com>
Date:   Fri May 10 09:06:03 2013 -0400

    Bump the minimum MTU up to 1KiB.
    
    If anyone is getting -1 from getMtu, we should give them a more
    reasonable default.

commit c5f94794faccf7c3b024f3d1c869b5664afb4cdc
Merge: 8bf24a5 bb1b1a2
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri May 10 05:56:01 2013 -0700

    Merge pull request #185 from square/jwilson/clamp_mtu
    
    Clamp the MTU to a reasonable range.

commit bb1b1a2c5c6c93df75526a2d5bf5c19817402fbc
Author: jwilson <jwilson@squareup.com>
Date:   Fri May 10 08:53:25 2013 -0400

    Clamp the MTU to a reasonable range.
    
    https://github.com/square/okhttp/issues/183

commit 8bf24a570c290b13ed20bb336307fc9c59ef5454
Merge: 570385f 8cb0fc7
Author: Jake Wharton <jw@squareup.com>
Date:   Tue May 7 10:26:41 2013 -0700

    Merge branch 'master' of https://github.com/square/okhttp

commit 570385f29ab96e1041e4bef51bd3c6c1e852cbbc
Author: Jake Wharton <jw@squareup.com>
Date:   Tue May 7 10:26:37 2013 -0700

    Remove javadoc zip from website directory.

commit 8cb0fc7fc2bb2c6c13636152057bd624c6fc3673
Merge: 1dc3d4b 5345c1a
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue May 7 08:38:30 2013 -0700

    Merge pull request #178 from square/jwilson/javadocs
    
    Hide internal from Javadocs

commit 5345c1ab20add48e164b893f833a95c76ab5da9d
Author: jwilson <jwilson@squareup.com>
Date:   Tue May 7 11:20:02 2013 -0400

    Hide internal from Javadocs

commit 1dc3d4b1f8b3e016e7a02a077b59310ca0bafd2c
Merge: f4d414a fcf3264
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 6 22:14:07 2013 -0700

    Merge pull request #176 from square/jwilson/link
    
    Link to the new OkHttp website.

commit fcf3264d4d35a97990881e1f0918be284168077a
Author: jwilson <jwilson@squareup.com>
Date:   Tue May 7 01:13:17 2013 -0400

    Link to the new OkHttp website.

commit f4d414a8caf96d3640abf5e985bdee6b392a01a6
Merge: e5fc585 7f4d253
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 6 19:18:47 2013 -0700

    Merge pull request #174 from square/jw/apache-tests
    
    Add some tests for the Apache wrapper.

commit 7f4d253579f7252dbd610eca5bfb9c12ac94a8d5
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 16:53:17 2013 -0700

    Add some tests for the Apache wrapper.

commit e5fc585341b90e8f92b9bac3eaada15065bfbe66
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 15:29:57 2013 -0700

    Move analytics outside jQuery deferred block.

commit c9e5bed993a365fe50b82e0006aacb7510419c59
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 15:25:30 2013 -0700

    Website analytics.

commit a67797405d43e313cebeac1b085388e28cbe2199
Author: bdc@google.com <bdc@google.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Mon May 6 21:20:37 2013 +0000

    Do not allow MockWebServer to be played more than once
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@43 cf848351-439f-e86a-257f-67fa721851d5

commit c34f66895fa2e26d9bfdd5fdb946dd550f33a964
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 10:48:35 2013 -0700

    Link to topic in G+ community.

commit 8eda9900b576a754f6f1505a95313a3232655dfe
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 09:49:52 2013 -0700

    Grab the latest javadoc when deploying the website.

commit b5ee64926d7ddf7d214553df2240eb8b2017a0bf
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 09:24:37 2013 -0700

    Style tweaks to Maven config.

commit d49ddf3414bc73ad84f4c5e72c0ace5f8512b361
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 09:19:55 2013 -0700

    [maven-release-plugin] prepare for next development iteration

commit 66544feab64f1e53796d261c6820565a67425803
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 09:19:41 2013 -0700

    [maven-release-plugin] prepare release parent-1.0.1

commit 3725b3d1cc0a00cd3426aee5bc83b5c24436ca48
Merge: bd2cac5 eb5e722
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon May 6 09:09:01 2013 -0700

    Merge pull request #172 from square/jw/casing
    
    Jw/casing

commit eb5e72280b56427139bb14ffe14036f8dca6dba3
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 09:00:20 2013 -0700

    Use consistent camel casing of 'SSL'.

commit ae9d97110b6111f374e078eaa34694fdcff93da8
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 08:59:20 2013 -0700

    Revert "Consistent casing of 'SSL' in method names."
    
    This reverts commit ea4297ded736c5b606a772fef9d0d7929697e159.

commit bd2cac58f3d20102ac99021d9b122c5180c93253
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 07:01:00 2013 -0700

    [maven-release-plugin] prepare for next development iteration

commit d95ecff5423f19e019e178baddfe4211f2fe57aa
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 07:00:47 2013 -0700

    [maven-release-plugin] prepare release parent-1.0.0

commit 8f988a303b24fa44ac942f1a3bcf36973cb38adc
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 06:59:26 2013 -0700

    Auto-version submodules.

commit 25264fa6b7b925367a01c30e99d3b740fa263094
Author: Jake Wharton <jw@squareup.com>
Date:   Mon May 6 06:54:38 2013 -0700

    Add change log.

commit aa5b82378d059696e57d3612c23a8facb9983233
Merge: 37a513b 02864cb
Author: Jake Wharton <jw@squareup.com>
Date:   Sun May 5 23:31:51 2013 -0700

    Merge branch 'master' of https://github.com/square/okhttp

commit 02864cb7426690e235857ebadae3546feae3f34f
Merge: a3440ba ea4297d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 5 23:28:35 2013 -0700

    Merge pull request #170 from square/jw/casing
    
    Consistent casing of 'SSL' in method names.

commit ea4297ded736c5b606a772fef9d0d7929697e159
Author: Jake Wharton <jw@squareup.com>
Date:   Sun May 5 23:24:26 2013 -0700

    Consistent casing of 'SSL' in method names.

commit 37a513bbdbb179585932c77072e7f597cd2a349d
Author: Jake Wharton <jw@squareup.com>
Date:   Sun May 5 21:57:55 2013 -0700

    OCD

commit 43c55e393b993027dbd23eecd9c20656c75a3d66
Author: Jake Wharton <jw@squareup.com>
Date:   Sun May 5 21:19:08 2013 -0700

    Checkstyle fixes.

commit ffebb801bdac9eb9a50a43e0981e414dc3509ac7
Merge: 9f09206 58d0b23
Author: Jake Wharton <jw@squareup.com>
Date:   Sun May 5 15:14:54 2013 -0700

    Merge branch 'master' of https://git.squareup.com/io2013/okhttp

commit 9f092066d874c26531e4dcc8f853246104a2ae7f
Merge: 112d3ca a3440ba
Author: Jake Wharton <jw@squareup.com>
Date:   Sun May 5 15:14:40 2013 -0700

    Merge branch 'master' of https://github.com/square/okhttp

commit 58d0b230d1b16357e08ee773ea93ed82fce4ff81
Merge: 112d3ca d9872fd
Author: Jake Wharton <jw@squareup.com>
Date:   Sun May 5 20:35:20 2013 +0000

    Merge pull request #2 from io2013/jwilson/overview_examples
    
    Overview for the OkHttp website.

commit a3440ba59e5cfe2c94001092d8b11e63ccf253b1
Merge: 98f45c2 562522f
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 5 10:54:21 2013 -0700

    Merge pull request #169 from square/jwilson/new_mockwebserver
    
    Use the latest mockwebserver

commit 98f45c2298d9b371d69b76d139747226635ea623
Merge: 6ffacda 31ff3d5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 5 10:21:35 2013 -0700

    Merge pull request #168 from square/jwilson/daemons
    
    Use daemon threads in the connection pool.

commit 562522f7c7ff8b3bdc3d65788bebd106478dfc72
Author: jwilson <jwilson@squareup.com>
Date:   Sun May 5 13:19:03 2013 -0400

    Use the latest mockwebserver

commit 4546383a2c54db3c4b2aa0e42c41c0d6b55a52df
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Sun May 5 13:59:43 2013 +0000

    Write at least a packet per second.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@42 cf848351-439f-e86a-257f-67fa721851d5

commit 31ff3d56ef48215cc58297d6178733a98d0ac8d4
Author: jwilson <jwilson@squareup.com>
Date:   Sun May 5 09:43:20 2013 -0400

    Use daemon threads in the connection pool.

commit 6ffacda5b1588d62431ce996e6c519db1575c016
Merge: 3516616 59b1c1d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun May 5 06:27:05 2013 -0700

    Merge pull request #166 from square/jw/pom-updates
    
    Pom version updates. Drop unused dependencies.

commit d9872fdd71a571f1e5b18a6e54521525cbeee19b
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 4 18:09:38 2013 -0400

    Overview for the OkHttp website.

commit 59b1c1dc5290b9f96ebeefb7ea2369d58042fed3
Author: Jake Wharton <jw@squareup.com>
Date:   Sun May 5 00:49:08 2013 -0700

    Pom version updates. Drop unused dependencies.

commit 112d3caac542527e97d8a20e3bbd41de4802a1c4
Merge: 8e86772 3516616
Author: Jake Wharton <jw@squareup.com>
Date:   Sat May 4 20:19:56 2013 -0700

    Merge branch 'master' of https://github.com/square/okhttp

commit 35166168529bd27281685e56a0a122eff44460e9
Merge: 60e5bc0 870ae21
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 4 15:40:34 2013 -0700

    Merge pull request #162 from square/jwilson/hostname_verifier
    
    Include a hostname verifier rather than using the system default.

commit 60e5bc087187e53947bcdc6518de814c96d101f2
Merge: 806caed 954e8f5
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat May 4 15:15:34 2013 -0700

    Merge pull request #165 from square/jwilson/guide_examples
    
    Dependency-free examples for the OkHttp front page.

commit 954e8f5453a23d52f6a2a09aac469ca73460e0f5
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 4 17:41:03 2013 -0400

    Dependency-free examples for the OkHttp front page.
    
    I'm going to include code snippets from these.

commit 870ae218c705eedc90a1e6e5e8b3ec83c67a6320
Author: jwilson <jwilson@squareup.com>
Date:   Sat May 4 10:33:36 2013 -0400

    Include a hostname verifier rather than using the system default.
    
    On desktop Java the system default hostname verifier doesn't do
    anything. Instead HttpURLConnection does its own hostname verification
    and the pluggable verifier simply supplements that.
    
    Android's hostname verifier does everything directly.
    
    This change copies Android's hostname verifier into OkHttp. This way
    we can do hostname verification on the desktop, which wasn't possible
    previously. It also brings along Android's hostname verifier tests.
    Two of these tests fail on desktop Java due to differences in support
    for non-ASCII subject alt names. Without our own certificate parsing
    we simply live with the difference.

commit 806caed202d4afa240d64f7d3a6b4c0e53ae972d
Merge: ab855b7 19d3b16
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 4 05:13:05 2013 -0700

    Merge pull request #161 from square/jw/apache-readme
    
    Give the Apache module its own readme.

commit ab855b793a5bccd8c8d8b39cf455421ba6f732f3
Merge: f198117 8c3811d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 4 05:12:45 2013 -0700

    Merge pull request #159 from square/jw/readme-tweaks
    
    Updates to readme.

commit f1981176e01d99f7c31225b1491e950225646577
Merge: 3bbe04a 58c4262
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat May 4 05:12:13 2013 -0700

    Merge pull request #160 from square/jw/doc-fix
    
    Minor doc fix.

commit 19d3b1658bf9c8dcb235fae44bae3c16002d2827
Author: Jake Wharton <jw@squareup.com>
Date:   Fri May 3 23:50:12 2013 -0700

    Give the Apache module its own readme.

commit 58c42623d084b05c249f1948686f250413a3611a
Author: Jake Wharton <jw@squareup.com>
Date:   Fri May 3 23:39:20 2013 -0700

    Minor doc fix.

commit 8c3811dc2099c63e50751a21a0bde5664bed1308
Author: Jake Wharton <jw@squareup.com>
Date:   Fri May 3 23:33:55 2013 -0700

    Updates to readme.

commit 8e86772ddbb0d4e147fd4dd31244885c23c28793
Merge: 0ff5ce5 3bbe04a
Author: Jake Wharton <jw@squareup.com>
Date:   Fri May 3 23:16:05 2013 -0700

    Merge remote-tracking branch 'origin/master'

commit 3bbe04ad2f0f65c172c1c9b8a485e40998540857
Merge: 46ea47b aee4bff
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri May 3 17:43:31 2013 -0700

    Merge pull request #156 from square/jwilson/transports
    
    Permit the caller to disable transports.

commit aee4bff8044f4189eedacb78be37d48cc7ef226f
Author: jwilson <jwilson@squareup.com>
Date:   Sun Apr 28 13:39:08 2013 -0400

    Permit the caller to disable transports.
    
    This is currently an underpowered API; in practice the only thing
    you can do is disable spdy/3. In the future we may support more
    transports (spdy/4, http/2.0) and I don't want to make that an
    API change.

commit 0ff5ce5a6dd22b24c0c080e6fe8b734ec0859418
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Apr 30 23:28:17 2013 -0700

    Update website to the latest design.

commit c3d3ee79f8223a92e19176a7cbf3f0704d42e885
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Apr 30 14:44:20 2013 -0700

    Link to color pallete.

commit 9e00825a6cda980b980d0ad30e8529736bfbdabd
Merge: 46ea47b 03c351b
Author: Jason Holmes <holmes@squareup.com>
Date:   Tue Apr 30 18:58:07 2013 +0000

    Merge pull request #1 from io2013/jw/website-skeleton
    
    Add website skeleton.

commit 03c351be3a6b2889b70a60eaee052204bf6d60ea
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Apr 30 11:51:56 2013 -0700

    Add website skeleton.

commit 46ea47b8f959249d7d79791385696a9b0294b950
Merge: e950afe 4235e87
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Apr 30 11:49:55 2013 -0700

    Merge pull request #158 from square/jw/checkstyle
    
    Fix checkstyle.

commit 4235e8738eecd8933d9be1844565e7192051c6b3
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Apr 30 11:07:48 2013 -0700

    Fix checkstyle.

commit e950afe9a55d9c133bfd0e7d43ee8cbdc820fa0b
Merge: 6abac65 63c5a42
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Apr 29 14:26:09 2013 -0700

    Merge pull request #157 from square/jwilson/no_interface
    
    Don't explode if we can't find an interface for a local address.

commit 63c5a42ecdc53d51cc6d617d4fcc05cb2e7a9dba
Author: jwilson <jwilson@squareup.com>
Date:   Mon Apr 29 17:20:54 2013 -0400

    Don't explode if we can't find an interface for a local address.
    
    We'll likely explode later when attempting to use the socket.
    But that will fail with an IOException, unlike this which was
    failing with a NullPointerException.

commit 6abac653095708ef50a5a7fb41239c327d961dfb
Merge: f38fec5 cb7ade5
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Apr 27 22:48:26 2013 -0700

    Merge pull request #155 from square/jwilson/auth
    
    Non-static authenticators.

commit f38fec5b0c955ade40816e85de9823f44557f70a
Merge: 01ca44b 3344cf3
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Apr 27 22:48:08 2013 -0700

    Merge pull request #153 from square/jwilson/recovery
    
    Recover from failures while writing a POST body.

commit cb7ade556c9ce90e861e947380a2bb380101b05e
Author: jwilson <jwilson@squareup.com>
Date:   Sat Apr 27 16:25:29 2013 -0400

    Non-static authenticators.
    
    This avoids the problems of HttpURLConnection's authenticator
    where multiple concurrent uses of HTTP require a single shared
    authenticator.

commit 3344cf326e566daeba5bd387711dec238c100d71
Author: jwilson <jwilson@squareup.com>
Date:   Mon Apr 22 09:37:24 2013 -0400

    Recover from failures while writing a POST body.
    
    This introduces failure recovery in the output stream. It means
    we should be able to recover from any kind of failure that could
    be triggered by aggressive connection pooling.
    
    The recovery buffer is 8 KiB. I anticipate this should be more
    than enough to detect that an HTTP post is going to a black hole.

commit 01ca44b8309429324c7a962e114214014587e78c
Merge: 27b7342 13d8b5f
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Apr 21 22:37:54 2013 -0700

    Merge pull request #152 from square/jwilson/mtu
    
    Use an MTU-sized buffer for socket access.

commit 13d8b5f7bfc73c8f4064a57f634b6155991eb961
Author: jwilson <jwilson@squareup.com>
Date:   Sun Apr 21 23:10:35 2013 -0400

    Use an MTU-sized buffer for socket access.
    
    Previously we attempted to avoid buffers in some situations
    and create aggressive buffers in other situations. This was
    a bad policy, and meant we had some subtle performance bugs.
    The one that prompted this is that chunked uploads make
    separate network writes for the chunk size, chunk, and newline
    separators.
    
    This avoids that problem and the corresponding complexity.
    Unfortunately getting the MTU isn't a standard API until
    Java 6 / Gingerbread. I tested my own networks and saw 1500
    in use (for 3G and WiFi) and 1400 (for VPN over WiFi).

commit 27b734266e8e32fc9534903c3162f81c165ac52a
Merge: 4950e75 22e45da
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Apr 16 22:32:01 2013 -0700

    Merge pull request #150 from square/jwilson/recover_flush_and_close
    
    Recover from failed flushes and closes too.

commit 22e45daefd3a3cd13a5d2e5e1c4e3533582b82dc
Author: jwilson <jwilson@squareup.com>
Date:   Wed Apr 17 00:25:53 2013 -0400

    Recover from failed flushes and closes too.

commit 7f58c97ab215e9fa18762d3b66e4e2d427402858
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Tue Apr 16 01:07:12 2013 +0000

    Fix bug: Zero-length PUT with Expect 100-continue hangs
    
    Code authored by adrian.f.cole, see issue 8
    https://code.google.com/p/mockwebserver/issues/detail?id=8#c12
    
    Fixes issue 8.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@41 cf848351-439f-e86a-257f-67fa721851d5

commit 4950e75a5bfd8c71a1332d469f1fd05f37262286
Merge: 5673840 6ed0f2c
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Apr 15 14:42:11 2013 -0700

    Merge pull request #148 from square/jwilson/sync_disklrucache
    
    Update to the latest DiskLruCache.

commit 6ed0f2c2cbf5872684bcc50a883fb6d5d0ac207f
Author: jwilson <jwilson@squareup.com>
Date:   Mon Apr 15 17:39:52 2013 -0400

    Update to the latest DiskLruCache.
    
    Includes everything thru 8842981cbcfe20eb4721c0a2c867fa9a18233062

commit 56738401eb2bd0d787cbe5c725d0a8de72a945a2
Merge: 1ef7e69 242be7e
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Apr 15 08:02:11 2013 -0700

    Merge pull request #147 from square/marcelo/fix_style
    
    Fix style

commit 242be7e5781be67fc0b570f02adaa522e48ee49a
Author: Marcelo Cortes <marcelo@squareup.com>
Date:   Mon Apr 15 09:42:22 2013 -0400

    Fix style

commit 1ef7e6913ee539dded9f6e024dc6eb0a12d8d730
Merge: c8917a1 12b35d6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Apr 11 15:24:40 2013 -0700

    Merge pull request #146 from square/jwilson/sync_idle_time
    
    Synchronize access to idleStartTimeNs.

commit 12b35d6a62747970f98a7cf7eb5afa2eb195690d
Author: jwilson <jwilson@squareup.com>
Date:   Thu Apr 11 14:53:27 2013 -0700

    Synchronize access to idleStartTimeNs.
    
    See https://github.com/square/okhttp/issues/145

commit c8917a1b1fdda15f0847dffe825d7098c876f33e
Merge: 94d9d88 ba31ada
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Wed Apr 10 15:55:23 2013 -0700

    Merge pull request #144 from square/jwilson/copyright
    
    Restore Apache copyright header to ConnectionPool.

commit ba31ada6f31c67ac9e383174658d4d3446deecaf
Author: jwilson <jwilson@squareup.com>
Date:   Wed Apr 10 15:51:45 2013 -0700

    Restore Apache copyright header to ConnectionPool.
    
    This file was derived from AOSP's HttpConnectionPool.java, which
    was derived from Apache Harmony's HttpConnectionManager.java.

commit 94d9d88c90146113a92ee9b273ad6e67ca8501ad
Merge: e4c41a5 56c1904
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Apr 10 15:49:02 2013 -0700

    Merge pull request #143 from square/marcelo/fix_copyright
    
    Fixed copyrights

commit 56c190404b079bce1adf9c979829a676643b2a7e
Author: Marcelo Cortes <marcelo@squareup.com>
Date:   Wed Apr 10 15:26:12 2013 -0700

    Fixed copyrights

commit e4c41a5c39147347082456e4e7af3cfab6c7bdf3
Merge: 9bed92f 1ece746
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Wed Apr 10 15:20:23 2013 -0700

    Merge pull request #142 from square/marcelo/failed_routes
    
    RouteSelector tries previously failed routes last #106

commit 1ece746c815a26782042b1fca6069eb527d1029b
Author: Marcelo Cortes <marcelo@squareup.com>
Date:   Wed Apr 10 10:27:26 2013 -0700

    RouteSelector tries previously failed routes last #106

commit 9bed92fa2684ad124a1a7f95ab145b52993ae9e3
Merge: af61be6 923eb55
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Apr 9 13:04:57 2013 -0700

    Merge pull request #141 from square/jwilson/empty_header
    
    Be more strict about outgoing request headers.

commit 923eb55473a1f4bc2cf5ee51c1448455d55a0b55
Author: jwilson <jwilson@squareup.com>
Date:   Tue Apr 9 12:53:51 2013 -0700

    Be more strict about outgoing request headers.
    
    We now forbid empty header names, and '\0' characters in names
    or values. This should improve the experience for SPDY users,
    who will see the failure when they add the header rather than
    when the request is made.

commit af61be6fd9e1652d649dddb5694b345b06ba4ddb
Merge: ae4a84a d7ed3f8
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Apr 9 11:16:08 2013 -0700

    Merge pull request #140 from square/jwilson/empty_header
    
    Allow empty header values

commit d7ed3f8c440abc32bf49ceae203428cb019d27f2
Author: jwilson <jwilson@squareup.com>
Date:   Tue Apr 9 08:17:30 2013 -0700

    Allow empty header values
    
    This tracks an AOSP change by Brian Carlstrom.
    Change-Id: I78bb07a93d527eda6aaee6e986be39a68e0a02f4

commit ae4a84a73d30fa0ae2b06e72b209249accdd24e9
Merge: ace08e9 4e3da9d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Apr 8 17:17:16 2013 -0700

    Merge pull request #138 from square/jwilson/recoverystream
    
    FaultRecoveringOutputStream.

commit 4e3da9d43076937819a397fadddcd6514c9f6f2d
Author: jwilson <jwilson@squareup.com>
Date:   Mon Apr 8 12:51:32 2013 -0600

    FaultRecoveringOutputStream.
    
    This is the first step in a change that'll permit the underlying
    socket stream to change out-from-under-you while you're uploading
    POST data to a server.
    
    It'll recover from failures writing the request body that occur
    within the first N bytes, where N will be determined by the number
    of bytes that can be written without positive confirmation.
    
    See https://github.com/square/okhttp/issues/137

commit e218ed8cdcc9f0b9a1001f19da38406b200ad863
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Wed Apr 3 18:03:09 2013 +0000

    Be consistent around formatting.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@40 cf848351-439f-e86a-257f-67fa721851d5

commit 0c075085b1da333eb5e43218aae0ca0fa543fed9
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Wed Apr 3 13:44:29 2013 +0000

    Restore getBody().
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@39 cf848351-439f-e86a-257f-67fa721851d5

commit 2eb0cdd8b39551475520eb5e9fce5f72abb40dbc
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Wed Apr 3 02:04:20 2013 +0000

    Test case for streaming response body.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@38 cf848351-439f-e86a-257f-67fa721851d5

commit 1a0531845e49a5d5a76fab59398b16348971142d
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Wed Apr 3 02:01:45 2013 +0000

    Clean up streaming response bodies.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@37 cf848351-439f-e86a-257f-67fa721851d5

commit ace08e9f28da66ffc2d71b64ac2f46aef61fc030
Merge: 30cb962 d704709
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Mar 31 11:57:47 2013 -0700

    Merge pull request #136 from square/jwilson/froyo
    
    Don't use APIs that Froyo doesn't have.

commit d704709fa98684b54904978cdeab54115447e05b
Author: jwilson <jwilson@squareup.com>
Date:   Sun Mar 31 14:33:01 2013 -0400

    Don't use APIs that Froyo doesn't have.

commit 30cb962d9d925a20e05c8efeb2f863eabe0d746e
Merge: fe280d5 e1d6d3d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Mar 30 15:24:56 2013 -0700

    Merge pull request #135 from square/jwilson/flush
    
    Track DiskLruCache.flush change.

commit e1d6d3d03009e683afb2d34fbedc3a1020513b62
Author: jwilson <jwilson@squareup.com>
Date:   Sat Mar 30 18:23:10 2013 -0400

    Track DiskLruCache.flush change.
    
    Current DiskLruCache version is ebbb058e8226d2c5531bb2d66ff4d41d6edd366c

commit fe280d5813a823629353be979637d04ca19ce378
Merge: 595b9a7 c0df29a
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sat Mar 30 14:59:53 2013 -0700

    Merge pull request #134 from square/jwilson/latest_disklrucache
    
    Use the latest DiskLruCache in OkHttp.

commit c0df29ac0b2e3f78c058fce743f75b25c29975d0
Author: jwilson <jwilson@squareup.com>
Date:   Sat Mar 30 17:34:34 2013 -0400

    Use the latest DiskLruCache in OkHttp.

commit 595b9a750cd798a464f1202f536982268c20dbc9
Merge: 2595af3 621bfd7
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Mar 30 13:22:58 2013 -0700

    Merge pull request #133 from square/jwilson/cache_api
    
    Tidy the public API for HttpResponseCache.

commit 621bfd7710a1ede10c5ea6bda793068de79e555e
Author: jwilson <jwilson@squareup.com>
Date:   Sat Mar 30 15:56:11 2013 -0400

    Tidy the public API for HttpResponseCache.
    
    This moves the special internal-only methods into a new interface,
    OkHttpResponseCache. I jump through some hoops to expose only the
    java.net.ResponseCache interface in the API.

commit 2595af386201ce608c905238823a7a6e79b04f6a
Merge: 2e5f36d 988f519
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Mar 27 12:27:00 2013 -0700

    Merge pull request #132 from square/jwilson/public_api_for_cache
    
    Provide a non-internal API to the response cache.

commit 988f519754dfb5c26520c59f3889ce72f65854d2
Author: jwilson <jwilson@squareup.com>
Date:   Wed Mar 27 14:11:26 2013 -0400

    Provide a non-internal API to the response cache.
    
    Currently this is roughed in. Before I can close issue 131
    I need to clean up the docs and verify that we aren't leaking
    public APIs.
    
    https://github.com/square/okhttp/issues/131

commit 2e5f36d33956785c800e3e962b82c7b4c01dbb00
Merge: 36b6980 d60c084
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Mar 27 00:29:23 2013 -0700

    Merge pull request #130 from square/jw/apache
    
    Add Apache HttpClient implementation which maps to OkHttp.

commit d60c084b990141c05e7260e31f2555984cf2f8f8
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Mar 26 01:31:01 2013 -0400

    Add Apache HttpClient implementation which maps to OkHttp.
    
    Refs #17.

commit 36b6980e23f107fa7d2fe803925f66f1d9f36a72
Merge: ba2b743 7ccbf48
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Mar 25 21:27:02 2013 -0700

    Merge pull request #129 from square/jw/modules
    
    Move library into a module. Introduce sample module with simple GitHub c...

commit 7ccbf48838b7cfe42759c67790636d442ea5daa3
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Mar 25 19:59:42 2013 -0700

    Move library into a module. Introduce sample module with simple GitHub client.

commit ba2b7432cb9fabfc725b09a9f14878cb128ef208
Merge: 0100630 2f1629d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Mar 15 07:39:21 2013 -0700

    Merge pull request #127 from narayank/master
    
    Guard against invalid name value block headers.

commit 2f1629d5930d8a9d647ed3c6c4b56b3df814f306
Merge: 780a2cb 0100630
Author: Narayan Kamath <narayan@google.com>
Date:   Tue Mar 12 17:10:27 2013 +0000

    Merge branch 'master' of https://github.com/narayank/okhttp

commit 780a2cbd70090bca1a1ed456f75b4d2dc5964b3f
Author: Narayan Kamath <narayan@google.com>
Date:   Tue Mar 12 16:56:28 2013 +0000

    Guard against invalid name value block headers.
    
    If a badly behaved server sends us a negative number
    of name value blocks, we should throw an IOException and
    not a RTE (which will be thrown when we try to construct an
    ArrayList with a negative size).

commit 00d39e07e32a95bbd212cae93efa3110ef0ea8cf
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Sun Mar 3 14:40:41 2013 +0000

    Don't fail if a POST or PUT request is missing a body.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@36 cf848351-439f-e86a-257f-67fa721851d5

commit aec268f46cff2a5a298a353cec0cc9403226e339
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Sun Mar 3 14:29:21 2013 +0000

    Let tests provide raw InputStream bodies.
    
    Original AOSP change by Jeff Sharkey:
      This enables testing of large files, such as those beyond the 2GB
      boundary.  Also switches to streaming in MTU-sized chunks.
    
      Bug: 8209169
      Change-Id: Iab6b299c13a3d67bbbaa80a9e5bc563ef6cf9302
    
    This modifies Jeff's change to permit empty bodies, and to remove the getBody() accessor. Since reading the body is now destructive, that accessor must be removed!
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@35 cf848351-439f-e86a-257f-67fa721851d5

commit 01006305514ae13c25760dcdeff3f9fae99b8529
Merge: 9c330d7 0665b62
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Feb 28 12:48:05 2013 -0800

    Merge pull request #125 from iosphere/android-41739
    
    Add support for following HTTP 307 temporary redirects.

commit 9c330d70a78255bf39eef627495633d67e66b64c
Merge: f24072e f373e2d
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Feb 27 16:23:16 2013 -0800

    Merge pull request #126 from square/edenman/seriously-froyo
    
    Fix froyo bug: no more descendingIterator

commit f373e2d6e5bfaa86afc147b877a72d600c224c5d
Author: Eric Denman <edenman@squareup.com>
Date:   Wed Feb 27 16:19:47 2013 -0800

    Fix froyo bug: no more descendingIterator

commit 0665b628fafec38271d7a66421ae04c7fd35dd29
Author: Christopher Orr <chris@iosphere.de>
Date:   Wed Feb 27 19:09:12 2013 +0100

    Add support for following HTTP 307 temporary redirects.
    
    Fixes Android bug 41739.

commit f24072ec6b1280789a1f84fa32989b6f0ebb22fd
Merge: 91db929 220b5f9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Feb 27 08:59:17 2013 -0800

    Merge pull request #124 from square/jw/eviction
    
    Add evictAll method to connection pool.

commit 220b5f9a3bac6b78f6ad2d2e159057eb9bcb9908
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Feb 26 23:17:22 2013 -0800

    Add evictAll method to connection pool.
    
    Closes #104.

commit 91db9299c3badaca0147560ee596d7f198b9bde4
Merge: 1c5990e 2aaf055
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Feb 21 01:20:01 2013 -0800

    Merge pull request #123 from square/jw/test-fixes
    
    Ensure we test the correct connection instance.

commit 1c5990e4c14c64c417192fbaa0aa5585a624ca45
Merge: 4b7e0b7 5a4c7c3
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Feb 21 01:19:28 2013 -0800

    Merge pull request #122 from square/jw/response-source-header
    
    Add new synthetic header for determining response source.

commit 5a4c7c34af0574a2a3c22675c42aea0205bdec97
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Feb 20 17:26:46 2013 -0800

    Add new synthetic header for determining response source.

commit 2aaf055b3d9279b8a1d33f30b1bbab1efa1411ee
Author: Jake Wharton <jw@squareup.com>
Date:   Thu Feb 21 00:19:44 2013 -0800

    Ensure we test the correct connection instance.

commit 4b7e0b733fe7597bd58014311cbed8592ca313ac
Merge: 65ebcbd 36c0a80
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Feb 20 09:08:59 2013 -0800

    Merge pull request #121 from narayank/master
    
    Fix a null pointer exception in SpdyTransport#makeReusable

commit 36c0a8048a37c0567f98d86c0059c877f5891a87
Author: Narayan Kamath <narayan@google.com>
Date:   Wed Feb 20 15:05:21 2013 +0000

    Fix NPE in SpdyTransport#makeReusable

commit 65ebcbdea5bcc7901a667efec7e19e16d5076615
Merge: 6741a8f 3857567
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Feb 18 22:35:37 2013 -0800

    Merge pull request #120 from square/jwilson/protocolredirects
    
    Optionally follow redirects from HTTPS to HTTP and vice versa.

commit 38575673e4726ea68fa4f4fde22603a8927ca09b
Author: jwilson <jwilson@squareup.com>
Date:   Mon Feb 18 04:18:53 2013 -0500

    Optionally follow redirects from HTTPS to HTTP and vice versa.
    
    The API is imperfect because HttpURLConnection doesn't expose
    any SSL information, and because HttpsURLConnection won't necessarily
    have a secure final request.

commit 6741a8f51fc87ae242eeb116dc93395fdbbf5ebd
Merge: 3846741 6fe2477
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Feb 17 13:25:27 2013 -0800

    Merge pull request #119 from square/jwilson/style
    
    Fix checkstyle errors

commit 6fe24773ba865145743729c3620f27f99ad9fda6
Author: jwilson <jwilson@squareup.com>
Date:   Sun Feb 17 16:23:52 2013 -0500

    Fix checkstyle errors

commit 3846741dd301fbf588cb188a4d3999bd9f0297ea
Merge: 6b1e1b5 c4efcd9
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Feb 14 13:03:39 2013 -0800

    Merge pull request #118 from square/marcelo/share_spdy_executors
    
    Share thread executors in SpdyConnections

commit c4efcd93bb635c72e4f48d2076d52e5e2e192eb4
Author: Marcelo Cortes <marcelo@squareup.com>
Date:   Thu Feb 14 15:46:49 2013 -0500

    Share thread executors in SpdyConnections

commit 6b1e1b5c59030b1474634d453b507026c524aa27
Merge: b8b2aa5 b7b0299
Author: Jesse Wilson <jesse@swank.ca>
Date:   Thu Feb 14 08:49:07 2013 -0800

    Merge pull request #117 from square/marcelo/descending_iterator
    
    Use LinkedList.listIterator instead of LinkedList.descendingIterator() f...

commit b7b02997957fef7f8d0e167194a041f5363ca98e
Author: Marcelo Cortes <marcelo@squareup.com>
Date:   Thu Feb 14 11:17:10 2013 -0500

    Use LinkedList.listIterator instead of LinkedList.descendingIterator() for API compatibility

commit b8b2aa5d267468ff1d881e879e99f4d7f13e00cc
Merge: 232b646 c8cd262
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Feb 5 11:36:57 2013 -0800

    Merge pull request #107 from square/marcelo/empty_response_message
    
    Handle http status message without leading space when the message is emp...

commit c8cd2621854e4212694bed4f94077c71e97c040e
Author: Marcelo Cortes <marcelo@squareup.com>
Date:   Tue Feb 5 12:14:44 2013 -0500

    Handle http status message without leading space when the message is empty

commit 232b64658f28490da36efa3525ca21f7fd9eca4a
Merge: 456801b 2bcffde
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Sat Feb 2 07:08:59 2013 -0800

    Merge pull request #103 from square/jwilson/proxy_double_duty
    
    Don't make the 'proxy' field do double-duty.

commit 2bcffdec4c5a1e705858d977fc26177ea3554744
Author: jwilson <jwilson@squareup.com>
Date:   Sat Feb 2 09:24:16 2013 -0500

    Don't make the 'proxy' field do double-duty.
    
    Previously it was acting as both the user's requested proxy and
    also the proxy selector's selection. This breaks down, especially
    since redirects permit multiple proxy selections for a single
    request.

commit 456801be748a32fec2175bcdc71caec3d5c57dea
Merge: 2137b7a fcd40ec
Author: Jesse Wilson <jesse@swank.ca>
Date:   Fri Feb 1 12:00:11 2013 -0800

    Merge pull request #102 from square/marcelo/version
    
    increased version to 1.0

commit fcd40ec711b9b956a0e2faf7f2ce000acc5de302
Author: Marcelo Cortes <marcelo@squareup.com>
Date:   Fri Feb 1 14:58:12 2013 -0500

    increased version to 1.0

commit a9311208f9a130216f5c8ff4dee106a945e0a8d2
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Fri Feb 1 17:00:49 2013 +0000

    Dispatch FAIL_HANDSHAKE requests before causing the failure.
    
    Otherwise we have a race where the client may retry and peek the same socket policy when it should have been consumed.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@34 cf848351-439f-e86a-257f-67fa721851d5

commit 2137b7a72518cfac088757ef6d0fb3d085bf6e3d
Merge: 3e44564 7e7a389
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Fri Feb 1 08:17:40 2013 -0800

    Merge pull request #101 from square/jwilson/comments
    
    Switch to Square style for comments.

commit 7e7a3896df109ef442af9ec69423c33ec667c9f5
Author: jwilson <jwilson@squareup.com>
Date:   Fri Feb 1 11:09:52 2013 -0500

    Switch to Square style for comments.

commit 3e44564738bf079f040d0ad0dff6f930f11a762b
Merge: 2a319f7 c7751ee
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Fri Feb 1 08:07:17 2013 -0800

    Merge pull request #100 from square/jwilson/longer_recycle_timeouts
    
    Increase the stream drain timeout from 30ms to 100ms.

commit c7751ee158196af1eca54fa4ce86c4b0775e5065
Author: jwilson <jwilson@squareup.com>
Date:   Fri Feb 1 11:00:38 2013 -0500

    Increase the stream drain timeout from 30ms to 100ms.
    
    We were missing out on opportunities to reuse HTTPS connections
    with the previous timeout. This even occured on unit tests where
    the latency should be very low.
    
    https://github.com/square/okhttp/issues/90

commit 2a319f7eced672faa18d15a23bab12c09abb807f
Merge: 85e70f1 92fccee
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Feb 1 07:14:04 2013 -0800

    Merge pull request #99 from square/jwilson/transparentgzip
    
    Merge: Strip content length in requests with "transparent" gzip handling

commit 92fcceedf58e191d8e9decb53302491a942f56e9
Author: jwilson <jwilson@squareup.com>
Date:   Fri Feb 1 10:06:59 2013 -0500

    Merge: Strip content length in requests with "transparent" gzip handling
    
    Original AOSP/libcore commit from Brian Carlstrom:
    We need to strip both the Content-Length and the Content-Encoding
    for such requests. In such requests, it will be the length of the
    compressed response. We hide the fact that compression is taking place
    from clients, so we shouldn't give them the content length either.
    
    Change-Id: I80713ab33143945c5e2656f478d83cc9e60226a8

commit 85e70f17b71d8428cf4b7858b2b1b4304a31602a
Merge: 57cc094 045867e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Jan 31 15:45:36 2013 -0800

    Merge pull request #98 from square/jwilson/mecharefactor
    
    Update checkstyle.xml and fix problems

commit 045867ef5dcfc0b0cd64f2a1ef356acc24c7168c
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 31 18:37:46 2013 -0500

    Update checkstyle.xml and fix problems

commit 57cc094713128a274be063276fda271a9c613057
Merge: 2d2ceff 2d45a13
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Thu Jan 31 14:58:07 2013 -0800

    Merge pull request #96 from square/jwilson/mecharefactor
    
    Mechanically change OkHttp to Square's Java style.

commit 2d45a13249943cafa73460b35c3c366e5742eb6f
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 31 17:36:19 2013 -0500

    Mechanically change OkHttp to Square's Java style.

commit 2d2ceffe25d7590d50520c7ab23243df8631fb9a
Merge: 83de4eb 6f6d959
Author: Marcelo Cortes <mescortes@gmail.com>
Date:   Thu Jan 31 14:24:48 2013 -0800

    Merge pull request #94 from square/marcelo/pool
    
    Improvements to connection pool

commit 6f6d959fdae64065521990413f86bc7ab038d7c1
Author: Marcelo Cortes <marcelo@squareup.com>
Date:   Thu Jan 31 15:14:15 2013 -0500

    Improvements to connection pool

commit 83de4eb552994d30451f8a3481b5a00d6b457a2e
Merge: 4b7a405 4908219
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Jan 30 21:55:45 2013 -0800

    Merge pull request #93 from square/jwilson/redirects
    
    Follow up to 20 redirects.

commit 49082196be780486c97010533d9a1206f999e240
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 31 00:36:10 2013 -0500

    Follow up to 20 redirects.

commit 4b7a40598ce10417c5aee36e370d34ae050a648b
Merge: 72cdfed 5bfe712
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Jan 30 21:18:32 2013 -0800

    Merge pull request #92 from square/jwilson/ignore_racy_test
    
    Mark a racy test with @Ignore.

commit 5bfe7124f6ea01fa72d01da65c73239e40be4348
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 31 00:10:25 2013 -0500

    Mark a racy test with @Ignore.
    
    We've seen this fail consistently on Travis, and very rarely
    on my desktop. Ignore it until it can be investigated fully.
    
    https://github.com/square/okhttp/issues/90

commit 72cdfed12dc675dcab8b9846cafd26dc25533e1f
Merge: fc232eb 637783c
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Jan 30 21:10:02 2013 -0800

    Merge pull request #91 from square/jwilson/redirect_retry
    
    Retry if a request fails after a redirect.

commit 637783ce8ae3ffb9805c2f78b436703c29b2220a
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 31 00:05:20 2013 -0500

    Retry if a request fails after a redirect.
    
    https://code.google.com/p/android/issues/detail?id=41576

commit fc232eb27c5a73e1e5455a94bf5a6b63ad992c58
Merge: c029803 989652f
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Jan 23 09:02:59 2013 -0800

    Merge pull request #89 from square/jwilson/cookies
    
    Fix cookies for SPDY transport.

commit 989652fe068f44815c97cfefe3af2548e8353623
Author: jwilson <jwilson@squareup.com>
Date:   Wed Jan 23 11:43:23 2013 -0500

    Fix cookies for SPDY transport.

commit c029803933171a7df3c14171fa0b698cea58ef9e
Merge: 383b49d 194290e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jan 22 13:37:12 2013 -0800

    Merge pull request #88 from square/jwilson/more_tests
    
    Improve SPDY+HTTP integration.

commit 194290e5f3819bf91d87c5d08c152946b6aa3509
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jan 22 16:14:52 2013 -0500

    Improve SPDY+HTTP integration.
    
    Writing tests shook out a few bugs:
     - Pooling wasn't working well. We were trying to connect
       after already having been connected.
     - We weren't writing response bodies to the cache.
     - We weren't capturing the request time for the cache.
     - MockSpdyServer wasn't trimming headers.
    
    New files in this change aren't new, they're just inner classes promoted
    to top-level classes for better sharing.

commit 383b49df9df36fa4c335177b0e5d6984a9fb52e1
Merge: 514fbfd 3a0874c
Author: Jesse Wilson <jesse@swank.ca>
Date:   Tue Jan 22 10:39:12 2013 -0800

    Merge pull request #87 from square/jwilson/mockspdyserver
    
    Introduce MockSpdyServer.

commit 3a0874cb220a26170e7097432676307feef4504f
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jan 22 10:45:24 2013 -0500

    Introduce MockSpdyServer.
    
    This is like MockWebServer, but it speaks SPDY behind the scenes
    instead of HTTP. The goal with this change is to make it very easy
    to test interactions between SPDY and HTTP features like cookies,
    fault tolerance and caching.

commit 0d0e03b0859a200ea3da258bfe24a1f732659d6b
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Tue Jan 22 15:41:08 2013 +0000

    Make the RecordedRequest constructor public. This is part of a longer change that will add a mock SPDY server.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@33 cf848351-439f-e86a-257f-67fa721851d5

commit 514fbfd5f03ccae7d2771c4ecd3e5be67ed68a95
Merge: c37a793 b9580d6
Author: Jesse Wilson <jesse@swank.ca>
Date:   Mon Jan 21 11:42:47 2013 -0800

    Merge pull request #86 from square/jwilson/careful
    
    Be more careful around IOExceptions.

commit b9580d68e9bc34eef397e9bc7f13091f1e3f1528
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 19 11:37:24 2013 -0500

    Be more careful around IOExceptions.
    
    This adds a first test where a frame is truncated. That has some
    unpleasant consequences for the other tests because it means the
    MockSpdyPeer is more aggressive about closing the socket when all
    frames have been sent.
    
    It also reduces the use of exceptions for flow control when handling
    bogus incoming frames. This is a bit worse and a bit better; my
    goal is to make it easier to differentiate between protocol-level
    problems (bogus frames) from transport-level problems (closed sockets
    and EOF streams).

commit c37a7935738e93422bfb1f7d0d52519af5da1489
Merge: 8571b0c 1bd9fef
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Jan 18 14:14:58 2013 -0800

    Merge pull request #85 from square/jwilson/receive_window_update
    
    Implement flow control for the outgoing stream.

commit 1bd9fefb5199d1499c8dac6c82c18c82e0678428
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 18 15:47:41 2013 -0500

    Implement flow control for the outgoing stream.
    
    We had a bug where we were using spdy/2's layout for
    setting frames rather than spdy/3's layout. I discovered
    this when testing flow control against Chrome.
    
    This fixes uploads greater than 64 KiB.

commit 8571b0cbd2aae8fe49b0aeec47d570cbb216406c
Merge: 4e1dd18 b1c592d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Jan 18 11:00:49 2013 -0800

    Merge pull request #84 from square/jwilson/send_window_update
    
    Implement flow control for the incoming stream.

commit b1c592d7c9013a0b5e18f83cd5bd4b56f420b37c
Author: jwilson <jwilson@squareup.com>
Date:   Fri Jan 18 12:50:13 2013 -0500

    Implement flow control for the incoming stream.
    
    This sends a WINDOW_UPDATE frame whenever the total number of
    unacknowledged bytes exceeds 32 KiB. This is a simple policy;
    we could tune it to be more sophisticated as necessary.
    
    This fixes downloads of streams greater than 64 KiB.

commit 4e1dd18f07a41b46fc3be4b564833118a3c965b3
Merge: 34ea44b 06579c5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Sun Jan 6 15:33:32 2013 -0800

    Merge pull request #80 from square/jwilson/spdy3
    
    Upgrade from spdy/2 to spdy/3.

commit 06579c5bfb6a051a9fbca5be2d15a52fcf77f38c
Author: jwilson <jwilson@squareup.com>
Date:   Sat Jan 5 16:12:17 2013 -0500

    Upgrade from spdy/2 to spdy/3.

commit 34ea44bc1d8fba429fd850df14adcda16251cf6c
Merge: d64aef9 43f7cae
Author: edenman <edenman@gmail.com>
Date:   Thu Jan 3 11:50:10 2013 -0800

    Merge pull request #79 from square/jwilson/tls_modes
    
    Turn  makeTlsTolerant into two methods.

commit 43f7cae330166c3b73c9c20e0861ebf0ad89224a
Author: jwilson <jwilson@squareup.com>
Date:   Thu Jan 3 12:37:39 2013 -0700

    Turn  makeTlsTolerant into two methods.
    
    See https://android-review.googlesource.com/48700

commit d64aef95a6f35a2e559d46ebf2c1392e8db6a42f
Merge: 73516e6 689f662
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jan 1 20:20:33 2013 -0800

    Merge pull request #78 from square/jwilson/flatten
    
    Flatten internal packages and utility classes.

commit 689f66222bd8984dd69229a4ee9caf8da528ae12
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jan 1 20:50:06 2013 -0700

    Flatten internal packages and utility classes.
    
    The previous structure had hierarchy that was useful
    for libcore but overkill for OkHttp.

commit 73516e6ab1d336ffd520e845e14f80cf08657bd0
Merge: f740f1f 7a28500
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jan 1 19:27:22 2013 -0800

    Merge pull request #77 from square/jwilson/headers
    
    Support the HEADERS frame.

commit 7a28500a72d6914c6be7d9d8ee47d23f92f35d64
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jan 1 20:13:06 2013 -0700

    Support the HEADERS frame.

commit f740f1f98759ed562e052e4d84109267d6391afe
Merge: e9f1e3c 0c55008
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jan 1 16:24:32 2013 -0800

    Merge pull request #76 from square/jwilson/spdyserver
    
    Use TLS + NPN in SpdyServer.

commit e9f1e3ccdd1888daf36bcb65df94a06343d5eaa1
Merge: 7b35a0d 86e5c34
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jan 1 14:14:30 2013 -0800

    Merge pull request #75 from square/jwilson/timeouts
    
    Make timeouts work for SPDY.

commit 0c550086456f75af5d21a684f98fea478c477fa1
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jan 1 10:39:43 2013 -0700

    Use TLS + NPN in SpdyServer.
    
    This server is able to serve content to Chrome, after
    dismissing the 'untrusted server' warning.

commit 86e5c34846d810a258952d966d58cb34ad483a14
Author: jwilson <jwilson@squareup.com>
Date:   Tue Jan 1 00:52:52 2013 -0700

    Make timeouts work for SPDY.
    
    We can't use the regular socket timeouts because the
    socket is shared. Moving it to the application level
    is more complicated, but it allows different streams
    to set timeouts independently.

commit 7b35a0d86cdadac706e24525edd64c8e0b3c694f
Merge: 8c281b2 b5719b6
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 31 20:28:18 2012 -0800

    Merge pull request #74 from square/jwilson/close
    
    Implement SpdyConnection.close().

commit b5719b6d7faff6422e33897414c0afdf9e63fe95
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 31 20:41:15 2012 -0700

    Implement SpdyConnection.close().

commit 8c281b2fc782bf6473ff37e078804d9579225961
Merge: a52eaa4 7f42496
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 31 18:03:12 2012 -0800

    Merge pull request #73 from square/jwilson/open
    
    Discard streams once they're no longer open.

commit 7f4249625960b7f10dc61aae4d1896c2e126f538
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 31 18:51:09 2012 -0700

    Discard streams once they're no longer open.
    
    This avoids a memory leak; we don't hold onto the input stream
    and it's large 64 KiB buffer long after that stream is done.
    
    It also allows SpdyConnection to track how many streams are
    currently active. This will allow a follow up change to shut
    down connections that don't host any streams.

commit a52eaa4ee650728e4fb59f48c59a3572ef4ddb5a
Merge: bc342a4 60d5852
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Dec 30 23:43:35 2012 -0800

    Merge pull request #72 from square/jwilson/goaway
    
    Implement GOAWAY, for clean shutdowns of SPDY connections.

commit 60d5852c6676ece85b0e3d0c6e45fb0186303f83
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 31 00:32:29 2012 -0700

    Implement GOAWAY, for clean shutdowns of SPDY connections.
    
    Also clean up some SPDY headers and improve error messages.

commit bc342a42c84b660ef8296498af88780cc1c152bd
Merge: 2c6be53 768059c
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Dec 29 22:23:16 2012 -0800

    Merge pull request #71 from square/jwilson/errors
    
    Improve SPDY error handling and concurrency.

commit 768059cfc4c611f3212d0b92ff5073541a852faf
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 29 18:29:10 2012 -0700

    Improve SPDY error handling and concurrency.

commit 2c6be53791a3e607df79d431cf338baab94eed3d
Merge: 8b574cb dca5d83
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Dec 29 13:38:32 2012 -0800

    Merge pull request #69 from square/jwilson/junit4
    
    Unsuppress tests and upgrade to JUnit 4.

commit 8b574cb48e279c2b3266c97ceb914389b92d3839
Merge: d10c20a e4a4cba
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Dec 29 13:34:13 2012 -0800

    Merge pull request #70 from square/jwilson/synch
    
    Fix synchronization todos in SpdyStream.

commit e4a4cbae4f2f850ec43fa15bee70fa1380d9354c
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 29 13:42:52 2012 -0700

    Fix synchronization todos in SpdyStream.
    
    This code had bugs where ongoing reads could prevent
    writes from occurring. This update adds some asserts
    to prevent synchronization errors.

commit dca5d83027f2e44719fce7395e3a882f0333c0c4
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 29 11:10:13 2012 -0700

    Upgrade to JUnit 4.
    
    Primary motivation is to gain access to @Ignore, for some
    tests that haven't yet been written, or that don't work on
    the RI (due to RI bugs).

commit e3b90752dd637dad076af866c8e99792d2646847
Author: jwilson <jwilson@squareup.com>
Date:   Thu Dec 27 23:15:42 2012 -0700

    Unsuppress some tests.
    
    These were suppressed because they needed a bit of
    work; I did that work and now they pass.

commit d10c20a7eba3d2182193e3a1a8342549833f927a
Merge: d2f4f21 67604f6
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Dec 26 15:08:40 2012 -0800

    Merge pull request #67 from square/jwilson/libcore
    
    Clean up utility code for submission to AOSP.

commit 67604f618d96ae00318ce696ec29a66bec6aafa8
Author: jwilson <jwilson@squareup.com>
Date:   Wed Dec 26 11:15:15 2012 -0700

    Clean up utility code for submission to AOSP.
    
    This moves methods that will have Android-specific implementations
    to Platform.java; all other utility methods are in a junk drawer
    class called Utils.java.
    
    This also moves method names (like "GET") to compare with .equals
    instead of '=='. The old code took advantage of a hidden agreement
    between HttpURLConnection and HttpEngine; with these in separate
    projects that behavior isn't as obvious and shouldn't be relied
    upon.

commit d2f4f21654e407ecb5333a403564d272239486f6
Merge: 73291e8 78c6624
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Dec 23 21:47:29 2012 -0800

    Merge pull request #66 from square/jwilson/new_apis
    
    Promote Connection, ConnectionPool and Address APIs.

commit 78c6624b11d5f33504dae8211b4592383468343e
Author: jwilson <jwilson@squareup.com>
Date:   Sun Dec 23 19:49:26 2012 -0500

    Promote Connection, ConnectionPool and Address APIs.
    
    This moves HttpConnection.Address and HttpConnection.TunnelConfig
    to their own top-level classes.

commit 73291e89c43de449949450c216a5220d9b903da6
Merge: 6579f9d 70e6403
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Dec 23 13:38:56 2012 -0800

    Merge pull request #65 from square/jwilson/connection
    
    Prepare to promote HttpConnection + Pool to public API.

commit 70e64037ff295874602133a1d254e5a0440ae4e3
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 22 18:05:27 2012 -0500

    Prepare to promote HttpConnection + Pool to public API.
    
    Giving the application code access to the connection pool
    is tricky: it exposes more implementation details from
    OkHttp; details that are quite inaccessible through the
    conventional HttpURLConnection APIs. Currently the only
    thing regular users get are a pair of awkward system
    properties.
    
    But exposing these should also be useful: it'll allow the
    application to observe the pool (for performance monitoring)
    and possibly also to directly manage it (by setting policy,
    or to evict when the application is paused).

commit 6579f9d97460613c429df6083f2d6c21afdf4123
Merge: ccb887c 7bcdc33
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Dec 22 11:16:18 2012 -0800

    Merge pull request #63 from square/jwilson/fewer_casts
    
    Move the SSL socket factory and hostname verifier to the client.

commit ccb887c7582b455f41a993b19cd75e2579619fd0
Merge: a725891 3d2547f
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Dec 22 11:14:50 2012 -0800

    Merge pull request #64 from square/jwilson/tls_caching_tests
    
    Restore tests for response caching + TLS.

commit 3d2547f18886e771aaa9baa996a21136c93460c4
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 22 13:34:22 2012 -0500

    Restore tests for response caching + TLS.
    
    One of the test cases bitrotted to failure as a consequence
    of the HTTP route selector change. I stopped assigning the
    socket, which it needed to cache the TLS metadata. This is
    fixed.

commit 7bcdc338d6ec7786f342f1569b8414c6919e5c6e
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 22 12:43:27 2012 -0500

    Move the SSL socket factory and hostname verifier to the client.
    
    This saves clients from needing to cast to HttpsURLConnection
    to expose the HTTPS-only accessors.

commit a7258910fa865f4d3abf9d42da9dbe9738d1fe05
Merge: 1ef490f 1a1e1b7
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Fri Dec 21 19:52:57 2012 -0800

    Merge pull request #61 from square/jwilson/fewer_statics
    
    Move system-wide statics to the OkHttpClient class.

commit 1ef490fe11a0ae4249c55fb1623ae3058c0c1cb9
Merge: 470c7f5 1c9cb2a
Author: edenman <edenman@gmail.com>
Date:   Fri Dec 21 14:11:58 2012 -0800

    Merge pull request #62 from square/jwilson/commented_tests
    
    Clean up commented out URLConnection tests.

commit 1c9cb2a0c2fcaf87ecc956243191ddc1ebb28303
Author: jwilson <jwilson@squareup.com>
Date:   Fri Dec 21 16:28:13 2012 -0500

    Clean up commented out URLConnection tests.
    
    There were some tests that only work on Dalvik/Linux: the CloseGuard
    test and the timeout test rely on Linux-specific behavior that's too
    flaky for a general test.
    
    The TrustManager test just needed some attention and simplification to
    work on both the JDK and Dalvik TLS stacks.

commit 1a1e1b7e2dee58fc9be947dec84126b0e35fe527
Author: jwilson <jwilson@squareup.com>
Date:   Fri Dec 21 11:39:24 2012 -0500

    Move system-wide statics to the OkHttpClient class.
    
    This makes it possible to have two HttpClient instances that
    don't share cookies or response cache policy. For example, a
    program that makes both REST calls and downloads images may
    prefer different response caches for each type of resource.

commit 470c7f59861bd753db8593a161bf19ba3cf961c0
Merge: 3deadab c9d1836
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 17 17:10:11 2012 -0800

    Merge pull request #60 from square/jwilson/aosp
    
    Prepare to use OkHttp to back HttpURLConnection in AOSP

commit c9d183636ded71b78b1de25839c2f953785f3fa6
Author: jwilson <jwilson@squareup.com>
Date:   Mon Dec 17 19:28:54 2012 -0500

    Bump the version number for backwards-incompatible changes.

commit cb5a9a4ea384256f94d04d221f0f9979c98836ec
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 15 17:04:23 2012 -0500

    Remove some dead code.

commit 50999cceb5f5bcdaf79baa5ac7eeef90c72bda8d
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 15 16:53:26 2012 -0500

    Move out of the libcore package.
    
    To promote the code into AOSP, we'll keep this package as-is
    and do the jarjar in Android instead.

commit 7f7aa90bc5d41d8f818fc988d2a91d22393c7329
Author: jwilson <jwilson@squareup.com>
Date:   Sat Dec 15 16:17:18 2012 -0500

    Switch to a builder for HttpURLConnection instances.
    
    The builder has two upsides:
     - It allows us to use the same base classes from java.net
       as the base API.
     - It gives us a place to stash configuration in a place other
       than static fields. This will be useful for the connection
       pool, cookie manager, response cache, etc.

commit 3deadab31b6f02271c550a60c271b8db9d2fd56d
Merge: f3d956e 04d742b
Author: Patrick Forhan <github.com@muddyhorse.com>
Date:   Fri Dec 7 07:48:39 2012 -0800

    Merge pull request #59 from square/jwilson/improve_reuse
    
    Improve connection reuse.

commit 04d742bd3d6ce8ad24b21f2be2d6f3ea5f8a35a5
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Dec 6 21:06:45 2012 -0500

    Improve connection reuse.
    
    Instead of trying to read the last bytes of a content body
    when the input stream is read, do it when the connection is
    closed. This approach is less elegant, since it requires
    a connection to do work on behalf of a potentially nonexistent
    follow up connection. But it should result in more reuse in
    practice.
    
    http://code.google.com/p/android/issues/detail?id=38817

commit f3d956e25ba79564d6c8250b4ff767782f8bb894
Merge: 8ab9438 bbea4aa
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Dec 3 08:19:48 2012 -0800

    Merge pull request #58 from square/jwilson/checkstyle
    
    Fix checkstyle issues.

commit bbea4aaa6f81bfab9fc24c287efe2e31980cf304
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Dec 3 11:18:53 2012 -0500

    Fix checkstyle issues.

commit 8ab9438c7007f3f5e2281db1052dcde7dc3065dc
Merge: 6991363 9a1da9b
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Nov 14 00:31:39 2012 -0800

    Merge pull request #56 from square/jwilson/platform-api
    
    New API to break platform-specific dependencies.

commit 9a1da9b4209955072d97caeb9cbcdeefb02841eb
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Nov 13 00:09:16 2012 -0800

    New API to break platform-specific dependencies.
    
    In particular:
     - Don't require OkHttp to depend on Jetty's non-boot package for
       Android. This was causing ugly, confidence-smashing dalvik
       errors in Android apps.
     - Don't prevent HTTP on Java6 just because SPDY isn't available.
    
    This uses gross reflection and dynamic proxies! That's sad, but
    it's encapsulated so users won't have to know it exists.

commit 6991363c380478699b053912b3223553f7a2d0f2
Merge: 6af7cd2 084fa33
Author: edenman <edenman@gmail.com>
Date:   Mon Nov 12 12:39:02 2012 -0800

    Merge pull request #55 from square/jwilson/npe-due-to-badhostname
    
    Don't explode if DNS fails or if the address is malformed.

commit 084fa33870fd40d3bdedfe16dbcf773128e0709c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Nov 12 12:32:47 2012 -0800

    Don't explode if DNS fails or if the address is malformed.
    
    We had a bug where we were trying to report a proxy problem
    before the connection was even created.

commit 6af7cd22b39e602ea3e20e18fd809ed4fbf448eb
Merge: e8afabe 51e5320
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Nov 11 12:53:55 2012 -0800

    Merge pull request #54 from square/jwilson/reconnect
    
    Don't drop out of connect if the first request fails.

commit 51e5320e7be7aaffed13e21f3f44cbd6d67587a8
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Nov 11 12:45:50 2012 -0800

    Don't drop out of connect if the first request fails.
    
    This fixes a break caused by the recent try-harder-on-IP-addresses
    change, where if the first connect failed we returned rather than
    trying until we reached a connection or an error.

commit 1a3817c8c95ba79ea57fa511a6f1241a30963ffe
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Sun Nov 11 18:29:14 2012 +0000

    Cut a 20121111 release.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@32 cf848351-439f-e86a-257f-67fa721851d5

commit dcd8bd8ef1366507b908fbfe5f92d4346f066820
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Sun Nov 11 18:28:26 2012 +0000

    Make the fail fast response configurable.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@31 cf848351-439f-e86a-257f-67fa721851d5

commit e8afabe11cc3fc8854b2b8bb845489bdf8299211
Merge: 21e9c83 3355d0c
Author: RayFromSquare <ray@squareup.com>
Date:   Sat Nov 10 14:33:03 2012 -0800

    Merge pull request #53 from square/jwilson/connection_selector
    
    New route selector to support multiple routes.

commit 3355d0c99bb946a6441f08fe6fd1c9881a9ea96a
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Nov 9 03:24:30 2012 -0800

    New route selector to support multiple routes.

commit 21e9c8398867f983e8c3cf29c6382690c1e4785d
Merge: e6aee71 e5b78ca
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Nov 7 14:20:59 2012 -0800

    Merge pull request #52 from square/jwilson/exercise
    
    Fix some bugs from exercising HttpConnection + SPDY.

commit e5b78cabad22ffdfbbe2755fece9c6c535438cdc
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Nov 7 14:18:12 2012 -0800

    Fix some bugs from exercising HttpConnection + SPDY.
    
    I was trying to reproduce a connectivity problem and
    I found other related problems along the way:
     - We were unnecessarily creating new HttpConnection instances.
     - We were using "" as the file instead of "/" for SPDY.

commit e6aee715825781f3287faf7e3e35847d30e0d7fe
Merge: f1eacbf 0ce37b7
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Nov 5 21:42:42 2012 -0800

    Merge pull request #49 from square/jwilson/connections
    
    Make HttpConnection.connect return full working connections.

commit 0ce37b70f8c19c4d9a509a8561776f0186e9751c
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Nov 5 21:01:29 2012 -0800

    Correct checkstyle errors.

commit 40ff76547064c3fb5acb9047a6f679dd4379a4d0
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Nov 5 20:25:52 2012 -0800

    Make HttpConnection.connect return full working connections.
    
    Previously the returned connections required the caller to
    do extra work: setting up tunnels (which could require auth)
    and performing an SSL handshake. With this change we make a
    complete working connection in HttpConnection.connect().
    
    This will make it easier to fix fallback when a single domain
    has multiple IP addresses and some of those addresses are not
    reachable.
    
    This will also make it easier to do SPDY through HTTP proxies.

commit f1eacbff7ec5912d041184e1b35aa4e5468ea4ba
Merge: 4c39ccf 2f5e25e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Oct 27 19:41:27 2012 -0700

    Merge pull request #48 from square/jwilson/recycle_gzip
    
    Fix connection recycling for TLS+gzip+chunked.

commit 2f5e25e4dcac2f7d62a4ac5ee8d49e92de005866
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Oct 25 12:03:13 2012 -0400

    Fix connection recycling for TLS+gzip+chunked.
    
    We had a bug where the underlying SSLInputStream always returned
    0 for InputStream.available(). This prevented us from ever reading
    the "end of stream" chunk, which prevented connection recycling.
    http://code.google.com/p/android/issues/detail?id=38817
    
    Also fix a nearby bug where we were fast-forwarding the gzipped
    stream when we should have been fast-forwarding the transfer
    stream when we were preparing to recycle a connection.

commit 4c39ccf9fe679d56979bb3d1d13601f212bf59d4
Merge: 51c7b6c cbb33cb
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Oct 24 20:02:52 2012 -0700

    Merge pull request #47 from square/jwilson/tunnels
    
    Fix a severe bug where multiple TLS tunnels were attempted.

commit cbb33cbd05947c7680fe3519678323641a56fa8c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Oct 24 22:15:51 2012 -0400

    Fix a severe bug where multiple TLS tunnels were attempted.
    
    The previous code would attempt a TLS tunnel on reused
    HTTPS connections, even after the tunnel had been established.
    This is a severe protocol error!

commit 51c7b6cad20a39ec365694e66aa92ec4bf47e467
Author: Jake Wharton <jw@squareup.com>
Date:   Tue Oct 16 21:46:26 2012 -0700

    Write checkstyle to stdout.

commit b6e785e79e6c9c31fff4dc0ce264afc35a9a729f
Merge: df778b7 99fb988
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Oct 7 09:25:14 2012 -0700

    Merge pull request #46 from square/jwilson/close
    
    Tests and code for various SPDY close scenarios.

commit df778b7b80d290802ec8268d40ca70f7182cd118
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Oct 5 22:43:59 2012 -0700

    Switch to CONTRIBUTING file.

commit 757f8ede8936402e576a16988f50994eda41f7a1
Author: Jake Wharton <jw@squareup.com>
Date:   Fri Oct 5 22:38:17 2012 -0700

    Add Travis config.

commit 99fb988657263a77b9d9b26bf2f64ec82a0cab72
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Oct 2 18:51:46 2012 -0400

    Tests and code for various SPDY close scenarios.
    
    Writing this change has led me to believe that the
    concurrency here is just plain awful, and I need to
    find a better solution than what I have. In particular,
    there are too many threads:
     - the internal reader thread
     - application reader threads
     - application writer threads
    And too many locks:
     - the SpdyWriter I/O write lock
     - the SpdyConnection internal state lock
     - each SpdyStream's internal state lock
    
    What's currently very wrong is the internal reader thread
    is updating state in the SpdyStream, and reading bytes from
    the network into a particular stream. It is an error to hold
    the SpdyStream's lock while reading, but we're doing it because
    we need to hold the state on the buffer, position and limit.
    We need to rethink this!
    
    Chrome doesn't run into this problem because it can 'fire and
    forget' events. We can't do that because SPDY writes need to
    throw IOExceptions if the writes fail.

commit e6fa46959bdb2c6b69412b77214d286092cf2181
Merge: 277fa12 961d797
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sun Sep 30 19:19:20 2012 -0700

    Merge pull request #45 from square/jwilson/readhandler
    
    Use callbacks rather than fields to handle incoming frames.

commit 961d797e9c84557cdf56f7036558e72a54c578f6
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sun Sep 30 12:05:54 2012 -0400

    Use callbacks rather than fields to handle incoming frames.

commit 277fa12c5ef07be2502aad54b94e13c6db7a853a
Merge: 8fe93f3 d2fc60a
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Sep 29 12:59:00 2012 -0700

    Merge pull request #44 from square/jwilson/noop
    
    Support noop frames. Make ping sending a blocking (synchronous) call.

commit d2fc60ad18bc16378bca018e38f706d2d4972e42
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Sat Sep 29 12:19:13 2012 -0400

    Support noop frames. Make ping sending a blocking (synchronous) call.
    
    Although blocking calls don't fit the SPDY model very well, they
    make exception transparency easy. In this case, a NOOP or a PING
    will throw if it cannot be sent. This is good.

commit 8fe93f33dcb50464a066b86576e1fa679bbd966f
Merge: 315eac9 48b087d
Author: Patrick Forhan <github.com@muddyhorse.com>
Date:   Fri Sep 28 08:01:08 2012 -0700

    Merge pull request #43 from square/jwilson/strictstatuscode
    
    Be strict and careful when parsing the response status line.

commit 48b087d327b4ca9ed4dcd37a4f47475cb2216861
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Sep 28 10:51:07 2012 -0400

    Be strict and careful when parsing the response status line.
    
    The current status line parsing is lenient and sloppy; a
    holdover from an ancient version of this library. The new
    code is strict and provides a helpful message if a bogus
    status line is encountered.
    
    To make this possible the RawHeaders class needs a hint
    about whether it's looking for a request line (from an
    HTTP request) or a status line (from an HTTP response).
    The old sloppy code used the same APIs for both.

commit 315eac9792b117c90c75c30d5e3092229f9864c3
Merge: c5a270e 747da63
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Sep 27 09:22:24 2012 -0700

    Merge pull request #42 from square/jwilson/replyfin
    
    Support reply with fin for no response body.

commit 747da632ad09a0e8fc279bf3b1afa2544141d01c
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Sep 27 12:19:40 2012 -0400

    Support reply with fin for no response body.

commit c5a270e624c37e060c1c4e864b3aeccc254754c9
Merge: b0b1c06 1ef4425
Author: edenman <edenman@gmail.com>
Date:   Wed Sep 26 11:41:15 2012 -0700

    Merge pull request #40 from square/jwilson/period
    
    Missed my period.

commit 1ef44259dcc7aa257736efd359f4e28b86aab9e0
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Sep 26 14:40:18 2012 -0400

    Missed my period.

commit b0b1c06a06364287144d188497868a8e43ac617e
Merge: 6ac030e 853c401
Author: Patrick Forhan <github.com@muddyhorse.com>
Date:   Wed Sep 26 09:01:19 2012 -0700

    Merge pull request #39 from square/jwilson/methods
    
    Abandon foolish consistency with SpdyReader for sending frames.

commit 853c4012b79711f123c0b9780e565062b32bf1c7
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Sep 26 11:58:14 2012 -0400

    Abandon foolish consistency with SpdyReader for sending frames.
    
    Setting fields and then calling a method is just not as usable
    as calling a method that takes arguments.
    
    Also move Settings into their own class, so we can sling them
    around without a bunch of ceremony.

commit 6ac030e67b009354c2491c2801109bb4b2874ae1
Merge: 0bfb878 68ebb70
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Sep 25 14:36:58 2012 -0700

    Merge pull request #38 from square/jwilson/streamfailure
    
    Address some todos around stream failures and peer errors.

commit 68ebb704fb73ad1545ae82287f8b2a5f68d8e69d
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Sep 25 17:32:28 2012 -0400

    Address some todos around stream failures and peer errors.

commit 0bfb878783c051ba15e4ef51c341c02ceed643f7
Merge: 7915310 60b3a6d
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Sep 25 12:06:17 2012 -0700

    Merge pull request #37 from square/jwilson/concurrency
    
    Be more careful about synchronization.

commit 60b3a6dd6240f40c29fffd897c2dac314af49836
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Sep 25 14:29:25 2012 -0400

    Be more careful about synchronization.
    
    SpdyConnection needs to guard its own state separately from
    the SpdyWriter, which permits slow blocking calls. Split these
    into multiple independent locks.
    
    Also use independent right-sized thread pools for reading (exactly
    one thread all the time) delayed writing (0 or 1 threads) and
    callbacks (any number of threads).

commit 7915310262ef78c570c63397ffca6a0fa75acb33
Merge: 1853b5b ac0a0b9
Author: RayFromSquare <ray@squareup.com>
Date:   Tue Sep 25 09:04:26 2012 -0700

    Merge pull request #36 from square/jwilson/braces
    
    We don't need no stinkin braces.

commit ac0a0b98e425be757b04b93ab9d4d7b0600d3815
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Sep 25 12:00:39 2012 -0400

    We don't need no stinkin braces.

commit 1853b5b108aec81093740beff129d5db537977b9
Merge: 9ecb2a8 2bd54fa
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Sep 24 22:21:23 2012 -0700

    Merge pull request #35 from square/jwilson/ping
    
    Implement TYPE_PING.

commit 9ecb2a883bbbd4c476ad5768a6213c37094dca9b
Merge: c37f520 5d4e9ac
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Sep 24 22:19:46 2012 -0700

    Merge pull request #31 from square/jwilson/auth
    
    Fix Authenticator callbacks to include full information.

commit c37f520b9fa5103dc736ee4449189238a6f3fac8
Merge: 5f23929 b3405b0
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Sep 24 22:08:54 2012 -0700

    Merge pull request #34 from square/jwilson/substring
    
    Fix a bug where String.substring() parameters were flipped.

commit b3405b09cd672d5d171d32847c26de56ff092848
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Sep 25 01:04:54 2012 -0400

    Fix a bug where String.substring() parameters were flipped.

commit 2bd54fa72fe72f92212428a024050838c2b62d57
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Sep 25 00:34:47 2012 -0400

    Implement TYPE_PING.
    
    Though it isn't particularly useful in practice, it's
    going to be extremely handy for testing since it makes
    a happens-before relationship very easy to create.

commit 5f239296e9124d7181e41c4af44a64bac7770132
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Sep 24 13:16:16 2012 -0700

    Correct checkstyle.

commit 37ce66117e112392d63f21497cb151cee6e06b85
Merge: a40fb20 7a7ad1c
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Sat Sep 22 11:31:49 2012 -0700

    Merge pull request #33 from square/jwilson/spdysettings
    
    Handle incoming SETTINGS frames in SPDY.

commit 7a7ad1cdb22ed381c468ee38d757da03b4b1877a
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Fri Sep 21 17:28:07 2012 -0400

    Handle incoming SETTINGS frames in SPDY.

commit 5d4e9ac850d45d6c4eaacce502993f74aff895d4
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Sep 20 20:31:13 2012 -0400

    Fix Authenticator callbacks to include full information.
    
    These were passing the wrong parameters for proxies, and not
    including enough information for origin servers.
    
    Related to: http://code.google.com/p/android/issues/detail?id=18856

commit a40fb205448ff333c000ca14b992ede4ec51888d
Merge: 83d3e2f b8c51dc
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Sep 20 13:54:26 2012 -0700

    Merge pull request #30 from square/jwilson/tunnelconnect
    
    Fix a bug in tunnel construction and 'Connection: close' headers.

commit b8c51dc5bdc89d5487cbc110d6fe40389de16480
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Sep 20 16:47:52 2012 -0400

    Fix a bug in tunnel construction and 'Connection: close' headers.
    
    http://code.google.com/p/android/issues/detail?id=37221

commit 83d3e2ff5e0cc05df848ca384f45dc9b835c5675
Merge: 0db286f 5aa2456
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Sep 20 13:04:25 2012 -0700

    Merge pull request #29 from square/jwilson/tunnel
    
    Fix TLS requiresTunnel which was being computed incorrectly.

commit 5aa2456a145883f6688c6ee325635ed0c6339076
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Sep 20 16:01:17 2012 -0400

    Fix TLS requiresTunnel which was being computed incorrectly.
    
    We were only returning 'true' once we were already in a tunnel.
    This was bogus. In theory a TLS tunnel sending extra data could
    be corrupted due to this bug.
    
    Also migrate one of the TLS tunnel tests to use SslContextBuilder
    instead of TestSSLContext.

commit 0db286f8984dffa9cbe3c103cbe4e7f9d6a63771
Merge: e603219 00c0da5
Author: Jesse Wilson <jesse@swank.ca>
Date:   Wed Sep 19 16:11:14 2012 -0700

    Merge pull request #28 from square/jw/checkstyle
    
    Fix checkstyle errors.

commit 00c0da5ec57958bc4d926cef41ef1f97be4e9bec
Author: Jake Wharton <jw@squareup.com>
Date:   Wed Sep 19 16:05:25 2012 -0700

    Fix checkstyle errors.

commit e60321991ccb14f572be8160a04ced39eba271ae
Merge: 86c58de 7616192
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Sep 19 14:28:55 2012 -0700

    Merge pull request #26 from square/jwilson/faster
    
    Merge: Performance improvements: DiskLruCache, HttpResponseCache.

commit 86c58deebb51f5399ad1ce40759d75bcca8ad0ef
Merge: 51a46a4 d79a5e2
Author: edenman <edenman@gmail.com>
Date:   Wed Sep 19 14:28:47 2012 -0700

    Merge pull request #27 from square/jwilson/crime
    
    Disable SSL compression

commit d79a5e23a78b4b0d91b15434ab48a9534e048b19
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Sep 19 17:27:12 2012 -0400

    Disable SSL compression
    
    Original AOSP/libcore commit from Brian Carlstrom:
    Bug: 7079965
    Change-Id: I8e060a827613e212bbcced66507fbf124bb04543

commit 761619286a69e3e56ddceafef79802ffff521abb
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Sep 19 17:18:48 2012 -0400

    Merge: Performance improvements: DiskLruCache, HttpResponseCache.
    
    Original AOSP/libcore commit from Vladimir Marko:
    Add StrictLineReader for efficient reading of lines
    consistent with Streams.readAsciiLine(). Use this to improve
    DiskLruCache.readJournal() and initialization of
    HttpResponseCache$Entry from InputStream.
    
    (cherry-pick of e03b551079aae1204e505f1dc24f2b986ef82ec0.)
    
    Bug: 6739304
    Change-Id: If3083031f1368a9bbbd405c91553d7a205fd4e39

commit 51a46a4db6f3f926ada82e84f1807ec9aeca0b43
Merge: 18e203a 8d06f68
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Sep 19 14:17:47 2012 -0700

    Merge pull request #25 from square/jwilson/cache504
    
    Merge: HttpResponseCache should return 504, not 502.

commit 8d06f6860065276085345e7ae8691fec094abfd7
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Sep 19 16:48:48 2012 -0400

    Merge: HttpResponseCache should return 504, not 502.
    
    Original AOSP/libcore commit from Elliott Hughes:
    The RFC seems pretty clear on this issue.
    
    Bug: http://code.google.com/p/android/issues/detail?id=28294
    Change-Id: Ia9a979e1fbbd8b38b1607059c042e0fc9ca44270

commit 18e203a53e746c2bc539383adce8b2aa8484684e
Merge: 729e930 1594066
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Sep 19 13:27:26 2012 -0700

    Merge pull request #24 from square/jwilson/closeguard
    
    Merge: Fix HttpURLConnection CloseGuard warning due to lack of close on ...

commit 15940665526348d815b26d509ce44c79926c612b
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Sep 19 16:23:53 2012 -0400

    Merge: Fix HttpURLConnection CloseGuard warning due to lack of close on GZIPInputStream
    
    Original AOSP/libcore commit by Brian Carlstrom:
    java.lang.Throwable: Explicit termination method 'end' not called
      at dalvik.system.CloseGuard.open(CloseGuard.java:184)
      at java.util.zip.Inflater.<init>(Inflater.java:82)
      at java.util.zip.GZIPInputStream.<init>(GZIPInputStream.java:96)
      at java.util.zip.GZIPInputStream.<init>(GZIPInputStream.java:81)
      at libcore.net.http.HttpEngine.initContentStream(HttpEngine.java:523)
      at libcore.net.http.HttpEngine.readResponse(HttpEngine.java:831)
      at libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:274)
      at libcore.net.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:486)
      at ...
    
    Bug: 6602529
    Change-Id: I9b49cbca561f8780d08844e566820087fdffc4d7

commit 729e930a1b9699bda2dd80826efc1bf993759dc1
Merge: 19d8cf1 ac21c32
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Sep 19 13:17:07 2012 -0700

    Merge pull request #21 from square/jwilson/fast
    
    Merge: Improve HttpResponseCache performance.

commit 19d8cf1c0f9232f751a8f02340612f93bae40e7f
Merge: 1d57bed 1bc9e2e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Sep 19 13:13:58 2012 -0700

    Merge pull request #23 from square/jwilson/deleted
    
    Merge: Tolerate cache files being removed from underneath DiskLruCache

commit 1bc9e2ef26bc0546f0491e7234de26e31fc38c72
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Sep 19 16:09:34 2012 -0400

    Merge: Tolerate cache files being removed from underneath DiskLruCache
    
    Original AOSP/libcore commit by Brian Carlstrom:
    Bug: 6777079
    Change-Id: I2f950ab6d847dd63061aeb449fc5d46ab9e6c50a

commit 1d57bed37757f2c6eb561ee7a2cd84c3fb1ed99e
Merge: 917cffa faeff7f
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Sep 19 12:58:40 2012 -0700

    Merge pull request #22 from square/jwilson/urihost
    
    Merge: TLS + SNI + proxy => bug

commit faeff7f10548151cb2310351b3975f719037f217
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Sep 19 15:48:02 2012 -0400

    Merge: TLS + SNI + proxy => bug
    
    Original AOSP/libcore commit from Brian Carlstrom;
    The SNI at the TLS layer is the hostname of the proxy instead
    of the hostname in the URL.

commit ac21c326779cd0170b26aefff3157371b3b985ed
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Sep 19 15:40:11 2012 -0400

    Merge: Improve HttpResponseCache performance.
    
    Original AOSP/libcore commit from Vladimir Marko:
    Avoid writing to HttpResponseCache.CacheRequestImpl.cacheOut
    one byte at a time via inefficient FilterOutputStream write.
    
    (cherry-picked from 91cc423115fdfa682d9c4cd025dee06aaa145b3c.)
    
    Bug: 6738383
    Change-Id: Ia657d7417cc292746968809f6896a5e790f1394d

commit 917cffa208754c1dc4e7f8510394ff741931b2ff
Merge: ec91ca0 85e568e
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Sep 19 12:37:36 2012 -0700

    Merge pull request #20 from square/jwilson/connectcache
    
    Merge: HttpEngine should not attempt to cache proxy CONNECT responses

commit 85e568e52d841c20ee5ecc68e8a589c9eabadbe6
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Sep 19 15:31:18 2012 -0400

    Merge: HttpEngine should not attempt to cache proxy CONNECT responses
    
    Original AOSP/libcore commit from Brian Carlstrom:
    This fixes an issue where a bad proxy repsonse that included a body
    would turn into an IllegalStateException instead of an IOException.
    
    Bug: 6754912
    
    Change-Id: I204ad975820693d6add2780d7b77360463e33710

commit 1c13de7a344090349b1172978e82648f26fed0b7
Author: edenman <edenman@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Wed Sep 5 18:33:05 2012 +0000

    Add a "fail fast" mode for QueueDispatcher
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@30 cf848351-439f-e86a-257f-67fa721851d5

commit ede853861795d04f787895365f9cebe9912ea37a
Author: edenman <edenman@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Thu Aug 23 03:29:42 2012 +0000

    Make QueueDispatcher overridable again.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@29 cf848351-439f-e86a-257f-67fa721851d5

commit 3748484ffb160810d7f94c9f25c5566c210880ed
Author: edenman <edenman@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Thu Aug 23 03:05:56 2012 +0000

    Fix the DISCONNECT_AT_START logic
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@28 cf848351-439f-e86a-257f-67fa721851d5

commit 47e5ea23b04ccd4b36b7690d9e2812aec5005b2d
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Mon Aug 20 05:17:05 2012 +0000

    New javadoc
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@27 cf848351-439f-e86a-257f-67fa721851d5

commit 1742e1eea04785dcdcba35825d5444d8c548db9b
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Mon Aug 20 05:16:06 2012 +0000

    New javadoc
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@26 cf848351-439f-e86a-257f-67fa721851d5

commit 889463746b9d426c6f0703c743b07a41fa5367cc
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Mon Aug 20 05:15:49 2012 +0000

    Documentation cleanup.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@25 cf848351-439f-e86a-257f-67fa721851d5

commit c71fb83d25b523d4ab2f16cfadba423cb1dbe8dd
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Mon Aug 20 05:03:55 2012 +0000

    New javadoc
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@24 cf848351-439f-e86a-257f-67fa721851d5

commit a96861224bf566fdc2a31d9f045c8e163a81fcc8
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Mon Aug 20 05:03:06 2012 +0000

    New javadoc
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@23 cf848351-439f-e86a-257f-67fa721851d5

commit 57edb21a2a7b53ed9d996c9b7148f7d3bc7fc438
Author: edenman@gmail.com <edenman@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Fri Aug 17 21:39:29 2012 +0000

    Adding support for custom dispatchers.  This allows for non-linear response ordering.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@22 cf848351-439f-e86a-257f-67fa721851d5

commit ec91ca01291b3d885ddbec85d0d3dc0fb5360117
Merge: 2a05f0e 43a332b
Author: Patrick Forhan <github.com@muddyhorse.com>
Date:   Wed Aug 15 12:57:43 2012 -0700

    Merge pull request #16 from square/jwilson/authheader
    
    Fail gracefully on a 401 response code with no WWW-Authenticate header.

commit 43a332bca4f76e4757d3d28f8f467f33190cfdef
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Aug 15 15:51:38 2012 -0400

    Fail gracefully on a 401 response code with no WWW-Authenticate header.
    
    This is more lenient than necessary; the HTTP spec says this:
      10.4.2 401 Unauthorized
         The request requires user authentication. The response MUST include a
         WWW-Authenticate header field (section 14.47) containing a challenge
         applicable to the requested resource.
    
    Not throwing will still cause the request to fail, since the 401
    response code triggers an IOException. But this type of failure is
    more recoverable and allows the caller to inspect the headers and
    response body.

commit 2a05f0e18f0ae67188904a29b4b5976dae7e3166
Merge: d6ac2b9 187d330
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Aug 9 11:52:39 2012 -0700

    Merge pull request #14 from square/jwilson/copyright
    
    Add a missing copyright header for Libcore.

commit 187d3306cbce3e20544dc39459f4e51d7f71b96b
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Aug 9 14:51:32 2012 -0400

    Add a missing copyright header for Libcore.

commit d6ac2b9819831db4b08e1da9c8b4abff2bcca379
Merge: 434c4c6 df2e128
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Thu Aug 2 13:42:41 2012 -0700

    Merge pull request #13 from square/jwilson/style
    
    Fill out known issues in the OkHttp README.

commit df2e128cc933b7a8c43a2e2a40d08aacca2d9d41
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Thu Aug 2 16:40:09 2012 -0400

    Fill out known issues in the OkHttp README.
    
    This keeps me honest about how my SPDY work is left
    to implement.

commit 434c4c69479403643c05614d44e84749234af9fe
Merge: cb31fab 66220f8
Author: RayFromSquare <ray@squareup.com>
Date:   Wed Aug 1 17:18:39 2012 -0700

    Merge pull request #12 from square/jwilson/froyo
    
    Support Froyo.

commit 66220f81e3c4b5dfc0b87e45ebefb4636bef2a22
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Aug 1 19:57:37 2012 -0400

    Support Froyo.
    
    This makes a bunch of sad changes for compatibility:
     - Using String.length() rather than String.isEmpty()
     - Using String.getBytes(String) rather than String.getBytes(Charset)
     - Using new String(..., String) rather than new String(..., Charset)
     - Avoiding TimeUnit.DAYS
    
    I've tested this and the HTTP tests run perfectly fine on Froyo.
    The HTTPS tests time out due to a bug in Froyo that prevents
    its TLS library from working as a server. I manually verified
    that TLS works as a client without problem.
    
    I also tested this on Gingerbread. It passes all tests except
    for testConnectViaHttpProxyToHttpsUsingProxySystemProperty, which
    fails because of a bug in Gingerbread's java.net.ProxySelector.
    
    This change introduces caching reflective objects for NPN access.
    That'll make clients that make multiple SSL connections slightly
    more efficient.

commit b5f749f202192129db468713e642bae99e8d5fbc
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Thu Aug 2 00:00:02 2012 +0000

    Support Froyo.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@21 cf848351-439f-e86a-257f-67fa721851d5

commit cb31fab7cdc05c7fb404ebe53133be1ceb80ac5d
Merge: 54439c2 3ff6ca1
Author: edenman <edenman@gmail.com>
Date:   Wed Aug 1 11:45:09 2012 -0700

    Merge pull request #11 from square/jwilson/tests
    
    Uncomment more HTTPS tests.

commit 3ff6ca140db7d7a06cc2a97902d1546c1bdb80e1
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Aug 1 14:41:29 2012 -0400

    Uncomment more HTTPS tests.
    
    Also:
     - bump mockwebserver to current.
     - create a uniform API for creating connections

commit 54439c261a78522dfef542b02dc8e0eb6a66c8d8
Merge: 3608deb 33a0c62
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Wed Aug 1 10:01:23 2012 -0700

    Merge pull request #10 from square/jwilson/ssl
    
    Use bouncy castle to generate certs for TLS.

commit 33a0c620e1c1997ece0ee3382ad3e2145ee061a8
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Wed Aug 1 12:50:04 2012 -0400

    Use bouncy castle to generate certs for TLS.
    
    Because there are no platform APIs to generate certificates,
    this needs a third party library (bouncy castle) to do the
    heavy lifting.
    
    Each target platform has its own built-in crypto library:
     - The JVM has its own internal crypto library. It uses
       key stores like "JCA".
     - Android has its own internal crypto library that's
       based on bouncy castle. It is repackaged in com.android
       and is not used by this code.
    
    With this change, okhttp brings its own copy of bouncy castle
    for cert generation. Once the certificate is generated we're
    done with bouncy castle, and use the platform libraries for TLS.
    This approach allows us to use one codebase on either platform.

commit abb3ab4f50a99119caf0871fe95234a3e619dc82
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Tue Jul 31 15:39:34 2012 +0000

    New Javadocs.
    
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@20 cf848351-439f-e86a-257f-67fa721851d5

commit ec1f3e9073439c03b22de4f2314724d6066efb4b
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Tue Jul 31 15:37:03 2012 +0000

    Rebuild Javadoc
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@19 cf848351-439f-e86a-257f-67fa721851d5

commit daa9c93ce3b04eb6351719be302f2f5d70296c81
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Tue Jul 31 15:32:16 2012 +0000

    Fix some ergonomic issues in the API. This adds some missing methods and removes some unnecessary exceptions.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@18 cf848351-439f-e86a-257f-67fa721851d5

commit e9e2f742d08d767222685b4f0a38c4d5f28121ec
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Tue Jul 31 14:39:09 2012 +0000

    Fix a bug where we were still exiting without an explicit shutdown()
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@17 cf848351-439f-e86a-257f-67fa721851d5

commit 3608deb867c65e4c1eb0f7d0ceb64249d7eac893
Merge: 28518d7 08b1d7f
Author: swankjesse <jesse@swank.ca>
Date:   Sat Jul 28 10:53:11 2012 -0700

    Merge pull request #9 from square/project-cleanup
    
    General project clean-up and tweaks.

commit 08b1d7f3206981c69e72680e94a220353a8db7c3
Author: Jake Wharton <jw@squareup.com>
Date:   Sat Jul 28 00:08:05 2012 -0700

    General project clean-up and tweaks.
    
     * Add checkstyle and correct anything that failed.
     * Expand README.md to have more info for the upcoming release.
     * Resolve plugin warnings in pom.xml.

commit 2b67e7069c8a547210bc78135ef7aec92f598833
Author: limpbizkit@gmail.com <limpbizkit@gmail.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Fri Jul 27 22:59:24 2012 +0000

    Don't exit the server just because the response queue is empty.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@16 cf848351-439f-e86a-257f-67fa721851d5

commit 28518d748c5b01198c020cd754a8b2bad4925740
Merge: 0b00739 f984c39
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Tue Jul 24 18:55:43 2012 -0700

    Merge pull request #8 from square/jwilson/pool
    
    Don't use jarjar to strip unused classes.

commit f984c3940d3352f8d9be42e0e110cb006624762d
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Tue Jul 24 18:53:34 2012 -0700

    Don't use jarjar to strip unused classes.
    
    It was stripping required classes that were only needed
    moved classes. We don't have any unused classes so this is
    a wasted step anyway.

commit 0b007391c65114d90525aed41e70f63c0ab708fc
Merge: 077ba76 0a1d49b
Author: swankjesse <jesse@swank.ca>
Date:   Mon Jul 23 15:42:10 2012 -0700

    Merge pull request #7 from square/remove-duplicate-plugins
    
    Remove duplicate plugin definitions.

commit 0a1d49b221d3990fd1559f4705443cf8b0cab5e9
Author: Jake Wharton <jw@squareup.com>
Date:   Mon Jul 23 15:39:43 2012 -0700

    Remove duplicate plugin definitions.
    
    Sources and javadoc artifacts are configured by the parent pom.

commit 077ba76f43f3abd041c2bdd4f26bee3927c5a662
Merge: 7e6015b ea19431
Author: Jake Wharton <jakewharton@gmail.com>
Date:   Mon Jul 23 15:15:20 2012 -0700

    Merge pull request #6 from square/jwilson/group
    
    Use Square's regular groupId for okhttp.

commit ea19431b816c6350e54cfad1b659d034edebe6d0
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Jul 23 18:14:06 2012 -0400

    Use Square's regular groupId for okhttp.

commit 7e6015ba47ce2a792bb44dd5eea5279cd6a5bfc6
Merge: 9284516 53ef23e
Author: Patrick Forhan <github.com@muddyhorse.com>
Date:   Mon Jul 23 09:28:53 2012 -0700

    Merge pull request #5 from square/jwilson/nosign
    
    Don't sign artifacts in the default configuration.

commit 53ef23eae2c65997bfe575fb5904cf6d32e7a091
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Jul 23 12:27:30 2012 -0400

    Don't sign artifacts in the default configuration.

commit 9284516489fe25dbb26b2c19021e65441689758f
Merge: 7781c07 4425f3e
Author: Patrick Forhan <github.com@muddyhorse.com>
Date:   Mon Jul 23 09:21:53 2012 -0700

    Merge pull request #4 from square/jwilson/example
    
    Don't connect to external hosts in unit tests.

commit 4425f3ec2ba8004d4f2afc271dfc0f1f0df713ab
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Jul 23 12:20:21 2012 -0400

    Don't connect to external hosts in unit tests.

commit 7781c0702e35ee56f479b25ec12bed6e318800f9
Merge: 4e80e46 fc01d7e
Author: Patrick Forhan <github.com@muddyhorse.com>
Date:   Mon Jul 23 07:57:26 2012 -0700

    Merge pull request #3 from square/jwilson/java7
    
    Enforce javac version 1.7 or better.

commit fc01d7e54dd52bf454c0230009834ae30a93538d
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Jul 23 10:45:10 2012 -0400

    Enforce javac version 1.7 or better.
    
    We can't require 1.7 as a target or source language option
    as that would break dx.

commit 4e80e4666b30f33fb5f8ce0a39b2eac799000986
Merge: eba4ae5 0ea4c8f
Author: Patrick Forhan <github.com@muddyhorse.com>
Date:   Mon Jul 23 07:18:29 2012 -0700

    Merge pull request #2 from square/jwilson/snapshot
    
    Give the in-progress code a SNAPSHOT version number.

commit 0ea4c8fc132d2b452b2ea57e06fcab67ae317473
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Jul 23 10:16:56 2012 -0400

    Give the in-progress code a SNAPSHOT version number.

commit eba4ae53a8fd0076a2239bd63c27e1273f3cd7bd
Merge: 0639642 ea63463
Author: Patrick Forhan <github.com@muddyhorse.com>
Date:   Mon Jul 23 07:10:24 2012 -0700

    Merge pull request #1 from square/jwilson/initialimport
    
    Initial import.

commit ea63463c2ff8a67f63e541036f0d5998b5bb1f3e
Author: Jesse Wilson <jwilson@squareup.com>
Date:   Mon Jul 23 10:02:28 2012 -0400

    Initial import.
    
    This is a fork of okhttp from http://code.google.com/p/okhttp.
    I'm moving it to Github since that's where my code reviewers
    are. I've renamed the core package from com.google.okhttp to
    com.squareup.okhttp because Square is where I expect ongoing
    development of this project to take place.
    
    All code in this project is subject to be contributed upstream
    to AOSP. In particular, all code in the libcore package is
    derived from AOSP and intended to be contributed back to AOSP
    on an ongoing basis.

commit 063964211c05103bd10fddeda9fafe93a856506b
Author: swankjesse <jesse@swank.ca>
Date:   Mon Jul 23 06:42:55 2012 -0700

    Initial commit

commit d9f5a075792d4064c62f96d0a411aa55f37e3cbd
Author: jessewilson@google.com <jessewilson@google.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Thu May 10 17:52:36 2012 +0000

    Fix NPE in RecordedRequest Constructor
    
    Bug 6294000
    
    MockWebServer passes null as the requestLine argument to
    RecordedRequest sometimes which causes a NPE. Fix
    RecordedRequest's constructor to allow for null method
    and path which is parsed from the requestLine argument.
    
    This change authored by Brian Muramatsu
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@15 cf848351-439f-e86a-257f-67fa721851d5

commit cdf6c30558bc15857a069d981a8fd48662cfb311
Author: jessewilson@google.com <jessewilson@google.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Sun Apr 1 18:53:26 2012 +0000

    More maven boilerplate.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@14 cf848351-439f-e86a-257f-67fa721851d5

commit 263a22e0a6af91ca112ad07969461be3c28ce60e
Author: jessewilson@google.com <jessewilson@google.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Sun Apr 1 18:52:44 2012 +0000

    More header manipulation, limit bytes-per-second.
    
    AOSP author: Jeff Sharkey
    Date: Thu Mar 29 14:04:11 2012 -0700
    
    Add setHeader() and removeHeader() that mutate matching MockResponse
    headers. Support "bytes-per-second" to throttle response rate. Split
    request line into components.
    
    AOSP Change-Id: I107baa3727ced2d7ddcc5e3cb983f5dc9341dabd
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@13 cf848351-439f-e86a-257f-67fa721851d5

commit 4ebac2656c870a090141106ad9ce267d25863301
Author: jessewilson@google.com <jessewilson@google.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Fri Jan 27 21:57:40 2012 +0000

    Upgrade from ant to maven.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@12 cf848351-439f-e86a-257f-67fa721851d5

commit 7bb99fd0bdc60bc5824aadc2b3121f6dded6a143
Author: jessewilson@google.com <jessewilson@google.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Tue Dec 20 01:07:46 2011 +0000

    Support SSL handshake failures.
    
    Also add an API to RecordedRequest to help differentiate between
    original TLSv1 requests and SSLv3 fallback requests.
    
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@11 cf848351-439f-e86a-257f-67fa721851d5

commit f003d2260df800fa695b73acc0df21b20f5720c4
Author: jessewilson@google.com <jessewilson@google.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Wed Dec 14 21:59:58 2011 +0000

    Add an API to expose the server's cookie domain.
    
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@10 cf848351-439f-e86a-257f-67fa721851d5

commit 739cb3ec6c41f58e6b6a75d18c912ad1111f8061
Author: jessewilson@google.com <jessewilson@google.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Sat Jun 4 00:34:50 2011 +0000

    More interesting example tests
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@6 cf848351-439f-e86a-257f-67fa721851d5

commit 62177b80f051ffa1f0f95c15fd20482db2006b24
Author: jessewilson@google.com <jessewilson@google.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Wed May 25 06:35:43 2011 +0000

    Add Javadoc
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@5 cf848351-439f-e86a-257f-67fa721851d5

commit 972a2f7556d4c3b759b8a9dca6026a9a819fa0bf
Author: jessewilson@google.com <jessewilson@google.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Wed May 25 06:25:22 2011 +0000

    Test for redirect
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@4 cf848351-439f-e86a-257f-67fa721851d5

commit 7cabedc08ae38c6e94b88a0b72d3af46899f6882
Author: jessewilson@google.com <jessewilson@google.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Wed May 25 06:07:42 2011 +0000

    Tests for MockWebServer.
    
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@3 cf848351-439f-e86a-257f-67fa721851d5

commit 0c4790dafaf6ccf7d8d34d04d24aac65cac910eb
Author: jessewilson@google.com <jessewilson@google.com@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Wed May 25 05:40:16 2011 +0000

    Initial checkin of MockWebServer.
    
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@2 cf848351-439f-e86a-257f-67fa721851d5

commit 6594b2a8999dce7787010652d6767cf0af1bd491
Author: (no author) <(no author)@cf848351-439f-e86a-257f-67fa721851d5>
Date:   Wed May 25 05:18:01 2011 +0000

    Initial directory structure.
    
    git-svn-id: https://mockwebserver.googlecode.com/svn/trunk@1 cf848351-439f-e86a-257f-67fa721851d5
